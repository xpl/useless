{"version":3,"sources":["webpack:///webpack/bootstrap df37de61ee2cdc806e82","webpack:///(webpack)/buildin/global.js","webpack:///./~/es7-object-polyfill/es7-object-polyfill.js","webpack:///./base/3rd/Base64.js","webpack:///./base/3rd/underscore-fix.js","webpack:///./base/CPS.js","webpack:///./base/Channel.js","webpack:///./base/OOP.js","webpack:///./base/Parse.js","webpack:///./base/Promise+.js","webpack:///./base/Rx.js","webpack:///./base/Sort.js","webpack:///./base/component.js","webpack:///./base/concurrency.js","webpack:///./base/dynamic/bindable.js","webpack:///./base/dynamic/stream.js","webpack:///./base/http.js","webpack:///./base/infix/Array.js","webpack:///./base/infix/Function.js","webpack:///./base/infix/String.js","webpack:///./base/infix/extensionMethods.js","webpack:///./base/math.js","webpack:///./base/tier0/arguments.js","webpack:///./base/tier0/busybox.js","webpack:///./base/tier0/function.js","webpack:///./base/tier0/meta-tags.js","webpack:///./base/tier0/platform.js","webpack:///./base/tier0/properties.js","webpack:///./base/tier0/stdlib.js","webpack:///./base/tier0/type.js","webpack:///./base/tier0/typeMatch.js","webpack:///./client/DOMReference.js","webpack:///./client/anim.js","webpack:///./client/node+.js","webpack:///../string.bullet/string.bullet.js","webpack:///./~/reflect.ownkeys/index.js","webpack:///./~/toposort/index.js","webpack:///./~/underscore/underscore.js","webpack:///./useless.client.js"],"names":["module","exports","ownKeys","require","reduce","Function","bind","call","Array","prototype","isEnumerable","Object","propertyIsEnumerable","concat","values","O","v","k","entries","e","$global","window","global","Base64","_keyStr","encode","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","i","_utf8_encode","length","charCodeAt","isNaN","charAt","decode","replace","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c1","c2","c3","_","fromPairs","object","mapValues","mapObject","zipWith","rows","zippo","slice","memo","row","times","Math","max","a","b","join","Error","cps","sequence","apply","arguments","withTest","fn","this_","args_","then","args","asArray","lastArgN","numArgs","thenArg","data","currentIndex","each","item","itemIndex","complete","arrayWeTraverse","$assert","isFunction","data2","push","data3","break_","$assertEveryCalled","items__3","final__1","name","items__1","undefined","$fail","extend","obj","elem_","complete_","index_","length_","keys_","noop","elem","x","next","isEmpty","isScalar","index","keys","key","map","result","iter","isArray","y","find","foo","bar","baz","pred","passKey","take","match","$assertEveryCalledOnce","noMoreThanOne","plusOne","memoize","barrier","_betterMemoize","_poorMemoize","cache","value","already","mkay__2","sums","check","array","op","identity","const1","const2","constant","_3","_1","_2","$restArg","last","initial","deferTest","returnMyArgs","put123","partial","$assertCPS","arity2","arity1","arity0","return123","resultArity2","resultArity1","resultArity0","transformResult","operator","mkay__4","makeCookies","whatCookies","eatCookies","cookies","compose","arr","functions","reduceRight","reverse","testErr","mkay","trySequence","appends","asContinuation","err","isTypeOf","tests","Channel","Promise","resolve","done","reject","catch","state","assert","all","assertRejected","calls","Model","$prototype","numPersons","$channel","View","label","is","$definition","model","view","$singleton","count","$extends","constructor","transducers","before","after","$","_resolve","forEach","_reject","transducer","Set","add","macroTag","def","memberName","initialValue","$untag","Tags","modify","$property","get","set","hasOOP","Foo","method","staticMethod","$static","property","staticProperty","one","two","three","static42","just42","just42_too","fullBlown","enumerable","configurable","$stub","Bar","$final","fuu","hi","$assertThrows","matches","message","A","B","$assertTypeMatches","subject","error","failure","$alias","crash","finalCrash","$assertNot","size","w","h","$constructor","isInstanceOf","Proto","dummy","isConstructor","C","inheritanceChain","toString","defines","$base","$assertMatches","$membersByTag","Type","$mixin","twentyFour","fourtyTwo","define","arg1","arg2","impl","compile","base","compileMixin","what","isPrototypeConstructor","macro","arg","alwaysTriggeredMacros","memberNameTriggeredMacros","tagTriggeredMacros","visitor","namespace","member","supa","hasOwnProperty","chain","wrapMethods","t","wraps","$impl","convertPropertyAccessors","extendWithTags","flatten","generateCustomCompilerImpl","ensureFinalContracts","generateConstructor","evalAlwaysTriggeredMacros","evalMemberTriggeredMacros","contributeTraits","evalPrototypeSpecificMacros","generateBuiltInMembers","callStaticConstructor","expandAliases","groupMembersByTagForFastEnumeration","defineStaticMembers","defineInstanceMembers","getOwnPropertyNames","desc","getOwnPropertyDescriptor","defineProperty","tagGroups","pick","isTagGroup","mergedTagGroups","membersDef","tag","memberDefinitions","omit","macros","names","tags","isTraitOf","macroTags","$macroTags","applyMacroTags","memberDef","macroFn","tagName","isObject","create","$builtin","$traits","traits","mergeTraitsMembers","hasTrait","Constructor","trait","defaults","or","equals","extendWith","T","defaultConstructor","cfg","defineMembers","targetObject","defineMember","$memoized","defineMemoizedProperty","$hidden","invalidMembers","intersection","resolveMember","ref","refName","refValue","membersByTag","m","value_","modifyMember","newValue","map2","Closeable","$trait","close","Movable","move","Enumerable","JustCloseable","MovableEnumerable","movableEnumerable","$assertCallOrder","t1_constructed","t2_constructed","proto_constructed","T1","T2","$assertNotCalled","not_now","Trait","instance","throwsError","withSameArgs","$const","qux","zap","X","$callableAsFreeFunction","_42","asFreeFunction","$callableAsMethod","asMethod","baseConstructor","derivedConstructor","Base","Simple","Derived","Outside","Inside","parse","fileName","Parse","keyCodeAsString","path","split","promisify","fs","dontTouchMe","dontTouchMe2","readFileSync","readFile","callback","fsAsync","promisifyAll","except","endsWith","$$","asSet","__","adds","first","firstResolved","seq","rejects","delays","delay","filter","isString","isNumber","pairs","TimeoutError","eval","coerce","eternity","coerceToFunction","ms","return_","setTimeout","timeout","race","now","other","todo","finally","reflect","log","alert","alert2","panic","globalUncaughtExceptionHandler","desired","assertTypeMatches","numItems","processedItems","contains","random","scatter","maxConcurrency","difference","TaskPool","maxTime","pending","numActive","queue","run","task","self","p","shift","isStrictlyObject","coerceToEmpty","tasks","each2","vk","decision","whoops","reduce2","f","R","$test","$assertExpr","quote","str","$r","anyOf","space","anything","inBrackets","oneOf","expr","text","something","someOf","inParentheses","argument","tail","hyperOperator","binary","goDeeperAlwaysIfPossible","isNonTrivial","and","not","isSubexpr","initDSL","subexprs","Expr","s","root","rx","RegExp","subexpr","escape","metacharacters","maybe","begin","end","maybeSpaces","spaces","comma","parentheses","brackets","r","$$r","const","cursor","forward","defineHiddenProperty","prev","capitalized","Sort","Ascending","Descending","strings","trim","toLowerCase","numbers","generic","inverse","sort","field","order","component","Compo","$component","Component","init","fail","compo","initialized","prototypeMethod","instanceMethod","D","beforeInit","afterInit","promise","$defaults","Compo2","pff","inner","fromTrait","fromBase","fromDerived","S","SomeType","CompoThatRequires","$requires","ffu","DerivedCompoThatRequiresMore","more","$assertFails","$bindable","onBefore","_5","onAfter","_result","mouseMoved","$trigger","atDefinition","atInit","somthingHappened","$triggerOnce","second","early","lately","hasMessage","$barrier","_msg","fromConstructor","fromConfig","fromLateBoundListener","fromDefinition","fromListenerOnlyVariant","color","$observableProperty","smell","shape","colorChange","was","smellChange","position","Vec2","zero","positionChange","mkay1","mkay2","somethingHappened","Other","$dummy","beforeCalled","interceptCalled","bindableCalled","afterCalled","doSomething","beforeDoSomething","interceptDoSomething","afterDoSomething","someValue","someValueChange","mkay__9","destroy","parent","attach","parrot","attachTo","attachedTo","detach","carrot","trig","twentyFourChange","val","ready","prop","propChange","force","$observable","destroyed__2","attached","destroyAll","add_2","sum","add_20","testValue","$add_2","$add_20","rawMethod","$raw","observable","trigger","yoba","fooChange","InnerCompo","barChange","test","definition","$observableRef","$reference","$depends","coerceToArray","$extendable","expandTraitsDependencies","mergeExtendables","mergeStreams","mergeBindables","isNonempty","DAG","sortedSubgraphOf","nodes","extendedDeep","traitVal","pool","bindables","streams","definitions","pluck","clone","traitDef","isNot","isStreamDefinition","__bindables","__streams","__membersByName","stream","clonedStream","listeners","bound","filter2","bindable","hooks","hook","hooksShort","kv","mapMethods","iterator","predicate","methods","enumMethods","returns","parent_","children_","componentDefinition","cloneDeep","_beforeDestroy","_afterDestroy","initialStreamListeners","excludeFromCfg","definitionValue","defaultValue","streamName","context","postpones","$postpones","isPrototypeInstance","beforeWrite","trackReference","write","triggerOnce","defaultListener","isObservable","tie","$listener","queuedBy","$interlocked","interlocked","mapsWith","$debounce","opts","coerceToObject","debounced","wait","immediate","$throttle","throttle","$memoize","$memoizeCPS","_beforeInit","_afterInit","hasAsserts","contract","callChainMethod","alive","destroyed_","destroying_","beforeDestroy","off","afterDestroy","remove","invoke","detachAll","concurrency","testDone","releases","acquires","$scope","release","id","reversed","isNowRunning","randomHex","Lock","waitQueue","acquired","queueFirst","lock","acquire","releaseStack","argumentPrependingWrapper","unwrap","released","when","innocentMethod","before__1","after__1","intercept__2","secondIntercept__1","bindable__1","infixBefore__1","intercept","obj2","onceBefore","onceAfter","afterCalled__1","shouldNotCall__0","copyHooks","from","to","makeBindable","targetMethod","isBindable","hookProc","delegate","mixin","_bindable","_wrapped","removeAll","queueName","once","invert","flip2","unbind","wrapper","_onceBefore","_onceAfter","_onBefore","_onAfter","_intercept","ni","newArgs","copy","_321","initedWithValue","valueChanged","_999","mkay__3","_111","_666","_444","whenSomething","valueA","valueB","changes","gatherChanges","react","act","somethingReady","mkay1__2","mkay2__2","shouldCall","shouldBeCalled","shouldNotBeCalled","t1","t2","t3","t4","allTriggered","abc","put","barr","reset","willBe42","items","observables","accept","gather","read","triggers","triggered","union","observableRef","hasValue","schedule","returnResult","isEqual","prevValue","hadValue","toggle","itemObservables","oldValue","matchFn","alreadyCalled","callee","commitingReads","postponed","listener","writes","cfg_","scheduleRead","commitPendingReads","flush","frontEnd","onceWrapped_","postpone","fooBar","results","Http","HttpMethods","request","post","loadFile","responseType","uploadFile","file","extend2","headers","transliterate","type","abort","$platform","Browser","prePath","protocol","hostname","port","location","xhr","XMLHttpRequest","open","setRequestHeader","progress","onprogress","progressCallbackWithSimulation","onreadystatechange","readyState","response","responseText","status","statusText","httpResponse","httpStatus","send","simulated","lengthComputable","loaded","total","JSONAPI","JSON","stringify","stackBeforeCall","hasReflection","StackTracey","success","parsedStack","fieldName","Symbol","for","joinedStack","assign","remote","top","rest","lastIndex","removeAt","insertAt","itemAtWrappedIndex","flat","zip","swap","$extensionMethods","fold","groupBy","indexBy","findWhere","$method","tails2","shuffle","nonempty","without","strJoin","$forceOverride","delim","takeAt","findIndex","splice","lastN","notEmpty","indexA","indexB","callsWith","twoPlusTwo","shouldBeFour","$async","testSecondCall","callMeLater","xs","eat42","eat42_after5ms","delayed","tails","tails3","applies","with","flipN","flip3","callsTo","tailsWith","tailsTo","higherOrder","wrapped","arity3","new","oneShot","called","memoized","throttled","func","timestamp","later","Date","debouncedFn","callNow","cancel","clearTimeout","callImmediately","shouldPostpone","_postponed","_postponedThis","time","catches","$fails","throwError","catch_","finally_","catched","repeats","trimmed","escaped","prepend","append","startsWith","prepends","latinAlphanumericValue","alphanumericValue","numericValue","integerValue","parsedInt","hash","Uint8Array","bytes","limitedTo","pad","concatPath","a_endsWithSlash","b_startsWithSlash","substring","pluck2","len","filler","cut","insert","lowercase","uppercase","toUpperCase","substr","decapitalized","unicode_hack","parseInt","isFinite","chr","table","source","floor","leadingZero","camelCaseToLoDashes","camelCaseToDashes","dashesToCamelCase","loDashesToCamelCase","oneArg","$flipped","flip","clamp","min","lerp","rescale","unit","rescaleClamped","sqr","sign","Intersect","rayCircle","origin","d","center","sub","dot","discriminant","sqrt","where","scale","insideOut","xx","xy","lt","wh","fromLT","left","fromWH","width","height","fromLeftTop","fromWidthHeight","lengthSquared","distance","pt","aspect","tx","ty","marginLeft","marginTop","sep","normal","wv","l2","dir","Bezier","cubic","p0","p1","p2","p3","cube","square","ax","ay","bx","by","cx","cy","cubic1D","make","BBox","rect","sideSize","fromLeftTopAndSize","fromLTWH","l","fromLTRB","right","bottom","fromSizeAndCenter","fromSize","fromPoints","pts","Number","MAX_VALUE","MIN_VALUE","classifyPoint","sides","inside","classifyRay","delta","cornerRadius","half","farTime","farTimeX","farTimeY","nearTime","nearTimeX","nearTimeY","scaleX","scaleY","signX","signY","hit","grow","rightTop","rightBottom","leftTop","leftBottom","nearestPointTo","projectOnLineSegment","projectOnCircle","xywh","ltwh","centerIn","css","extent","offset","amount","newWidth","shrink","mul","z","area","abs","intersects","Transform","svgMatrix","translation","components","multiply","j","translate","unproject","project","rng","seed","m_w","m_z","mask","round","equalDistribution","average","realLeft","rough","ptInRect","hue2CSS","H","RGB2CSS","hue2RGB","HSL2CSS","hsl","HSL2RGB","rgb","hue","RGB2HSL","a_","g","decimalAdjust","roundTo","precision","round10","exp","floor10","ceil10","NaN","toposort","topoSort","topoMerge","edges","nj","modules","requires","N","visited","has","stop","NN","node0","none","many","noArgs","hasArgs","restArg","sameAsThree","oneArgLess","withArgs","_ac","_ra","withRestArg","writable","override","genImpl","typeOf","instanceOf","tuple","cons","head","atIndex","takesFirst","takesLast","joinWith","joinsWith","del","splitWith","splitsWith","subtract","equal","plus","subtracts","minus","muls","less","lessOrEqual","greater","greaterOrEqual","isNegative","largest","notZero","propertyOf","debugEcho","arity","arityFn","tailArgs","foo42_","_foo42","foo42_fn","fn_foo42","_fn","fn_","fn_bar24","bar24_fn","argumentAppendingWrapper","notImplemented","countTo5","Y","eatSelf","diCaprioPredicate","nonTrivial","weNeedToGoDeeper","goDeeperWhenFirstArgumentIsGood","subOperator","hyperOperator_","canGoDeeper","some","goDeeperOnlyWhenNessesary","every","isTrivial","isMeta","unary","value1","value2","value3","evl","evals","number","__args__","arguments_","withTimeout","expired","lifeProcess","anotherWay","wayAnother","plusBar","fn1","fn2","hasTags","isDefined","$foo","$bar","fourtyOne","notTagged","unwrapAll","$qux","hasSubject","ify","$constant","$get","configure","pretty","additionalData","newSubject","changesFn","keysToOmit","keysLeft","isEmptyObject","wrap","toWhat","$k","$atom","bullet","json","isBoolean","navigator","platform","userAgent","platformOrUserAgent","engine","browserEngine","browser","touch","system","device","IE","Firefox","Safari","Chrome","WebKit","NodeJS","iPad","iPhone","iOS","fourtyTwo_too","fourtyTwo_orDie","fourtyTwo_eitherWay","defaultCfg","coerceToPropertyDefinition","def_","memoizeToThis","defineProperties","properties","memoizedState","actualValue","isPropertyDefinition","ownProperties","pickKeys","hasStdlib","throws","msg","throw","overrideThis","values2","isArrayLike","mapWith","mapSet","ctx","out","emit","emitItems","mapKeys","mapMap","complexObject","garply","frobni","barBazSubstructure","transformedObject","hyperMap","pairs2","filterFilter","hyperFilter","reject2","opSays","hyperReject","opa","ki","reduceReduce","no_left","rights","zip2","zipObjectsWith","born","zipSetsWith","sets","zipped","delete","objects","rows_","zipZip","phones","gives","extendsWith","extended","lvalue","findFind","find2","ks","pred_","blank","empty","nil","clear","no","diff","hyperMatch","coerceToUndefined","$any","undiff","list","quoteWith","pattern_","pattern","splitAt","quotesWith","partition2","partition3","arr_","spans","span","longestCommonSubstring","indexMap","indexOfLongestCommonSubstring","indexMapBefore","previousOverlap","eachAfter","indexAfter","overlapLength","overlap","indexesBefore","indexBefore","coerceToNaN","NodeList","CustomArray","ptrn","arrayMatch","objectMatch","Boolean","isPOD","isNonPOD","isNonemptyString","isEmptyArray","hasTypeMatch","omitTypeMismatches","$required","decideType","required","requiredMatch","allSatisfied","type_","typeMatchesValue","mismatches","omitMismatches","typeMismatches","valueMismatches","unifyType","unite","changeCalled","reactToFocusEventsCalled","reactToWindowResizeCalled","domReadyCalled","textarea","DOMReference","DOMEvents","domReady","insertMeAfter","document","body","lastChild","change","$on","shouldNotCall","reactToFocusEvents","reactToWindowResize","target","dom","Node","dispatchEvent","createEvent","initEvent","DOMEventListeners","isAttachedToDocument","blockChangeEventCalled","blockChangeEvent","stopImmediatePropagation","jQuery","el","removeFromParent","DOMReferenceWeak","on","methodName","on_def","addEventListener","removeEventListener","HideOnEscape","hideOnEscape","keyCode","preventDefault","InertialValue","duration","easing","animating","Easing","vector","scalar","targetChange","start","startTime","step","travel","lastTime","requestAnimationFrame","linear","in","pow","inOut","children","createElement","createTextNode","TAG","querySelectorAll","querySelector","isElement","nodeType","ELEMENT_NODE","isText","TEXT_NODE","isLinebreak","isDiv","isParagraph","isHyperlink","matchUpwards","forbidsEditing","getAttribute","grandParentNode","parentNode","isFirstInParent","firstChild","isLastInParent","removeChild","outerLeftBoundaryIn","container","outerRightBoundaryIn","isLeftmostNodeIn","isRightmostNodeIn","hasChildren","hasChildNodes","noChildren","numChildren","childNodes","nodeValue","safeEnumChildren","childNodesArray","appendChildren","appendChild","removeChildren","removeAllChildren","walkTree","node","walker","createTreeWalker","NodeFilter","SHOW_ALL","entityReferenceExpansion","nextNode","firstInnermostChild","unwrapChildren","insertAfterMe","prevSiblings","previousSibling","nextNextSibling","nextSibling","nextOutermostSibling","nextInnermostSibling","appendTo","prependTo","insertBefore","replaceWith","insertBeforeMe","insertMeBefore","me","finalize","finalized","touched","props","cls","className","style","hasClass","toggleAttribute","hasAttribute","setAttribute","removeAttribute","toggleAttributes","setAttributes","intAttribute","attr","removeAttr","splitSubtreeBefore","splitSubtreeAt","html","innerHTML","innerText","attributeUntil","busyUntil","onceAnimationEnd","onceTransitionEnd","animateWithAttribute","_onceAnimationEnd","getBoundingClientRect","animatedWithAttribute","Element","clientBBox","bbox","setWidthHeight","setTransform","transform","parseFloat","toFixed","rotate","separatedWith","reads","$toggleAttribute","$add","placeholder","HTMLInputElement","$value","_observableValue","Image","fetch","url","src","onload","onerror","pageXOffset","pageYOffset","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","NodePlus","Testosterone","defineAssertions","assertSplitAtBr","desiredResult","div","$assertSplitAtBr","lines","indent","line","$uselessFile","subj"],"mappings":"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CP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,oDAAoD;AACpD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"useless.client.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap df37de61ee2cdc806e82","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() { return this; })();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0","module.exports = (function () {\n\t\"use strict\";\n\n\tvar ownKeys      = require ('reflect.ownkeys')\n\tvar reduce       = Function.bind.call(Function.call, Array.prototype.reduce);\n\tvar isEnumerable = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\tvar concat       = Function.bind.call(Function.call, Array.prototype.concat);\n\n\tif (!Object.values) {\n\t\t Object.values = function values(O) {\n\t\t\treturn reduce(ownKeys(O), (v, k) => concat(v, typeof k === 'string' && isEnumerable(O, k) ? [O[k]] : []), []) } }\n\n\tif (!Object.entries) {\n\t\t Object.entries = function entries(O) {\n\t\t\treturn reduce(ownKeys(O), (e, k) => concat(e, typeof k === 'string' && isEnumerable(O, k) ? [[k, O[k]]] : []), []) } }\n\n\treturn Object\n\n}) ();\n\n\n// WEBPACK FOOTER //\n// ./~/es7-object-polyfill/es7-object-polyfill.js","const $global = (typeof window === 'undefined' ? global : window)\n\n$global.Base64 = {\n\t\n\t// private property\n\t_keyStr : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\n\t// public method for encoding\n\tencode : function (input) {\n\t    var output = \"\";\n\t    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n\t    var i = 0;\n\n\t    input = Base64._utf8_encode(input);\n\n\t    while (i < input.length) {\n\n\t        chr1 = input.charCodeAt(i++);\n\t        chr2 = input.charCodeAt(i++);\n\t        chr3 = input.charCodeAt(i++);\n\n\t        enc1 = chr1 >> 2;\n\t        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t        enc4 = chr3 & 63;\n\n\t        if (isNaN(chr2)) {\n\t            enc3 = enc4 = 64;\n\t        } else if (isNaN(chr3)) {\n\t            enc4 = 64;\n\t        }\n\n\t        output = output +\n\t        Base64._keyStr.charAt(enc1) + Base64._keyStr.charAt(enc2) +\n\t        Base64._keyStr.charAt(enc3) + Base64._keyStr.charAt(enc4);\n\n\t    }\n\n\t    return output;\n\t},\n\n\t// public method for decoding\n\tdecode : function (input) {\n\t    var output = \"\";\n\t    var chr1, chr2, chr3;\n\t    var enc1, enc2, enc3, enc4;\n\t    var i = 0;\n\n\t    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n\t    while (i < input.length) {\n\n\t        enc1 = Base64._keyStr.indexOf(input.charAt(i++));\n\t        enc2 = Base64._keyStr.indexOf(input.charAt(i++));\n\t        enc3 = Base64._keyStr.indexOf(input.charAt(i++));\n\t        enc4 = Base64._keyStr.indexOf(input.charAt(i++));\n\n\t        chr1 = (enc1 << 2) | (enc2 >> 4);\n\t        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t        chr3 = ((enc3 & 3) << 6) | enc4;\n\n\t        output = output + String.fromCharCode(chr1);\n\n\t        if (enc3 != 64) {\n\t            output = output + String.fromCharCode(chr2);\n\t        }\n\t        if (enc4 != 64) {\n\t            output = output + String.fromCharCode(chr3);\n\t        }\n\n\t    }\n\n\t    output = Base64._utf8_decode(output);\n\n\t    return output;\n\n\t},\n\n\t// private method for UTF-8 encoding\n\t_utf8_encode : function (string) {\n\t    string = string.replace(/\\r\\n/g,\"\\n\");\n\t    var utftext = \"\";\n\n\t    for (var n = 0; n < string.length; n++) {\n\n\t        var c = string.charCodeAt(n);\n\n\t        if (c < 128) {\n\t            utftext += String.fromCharCode(c);\n\t        }\n\t        else if((c > 127) && (c < 2048)) {\n\t            utftext += String.fromCharCode((c >> 6) | 192);\n\t            utftext += String.fromCharCode((c & 63) | 128);\n\t        }\n\t        else {\n\t            utftext += String.fromCharCode((c >> 12) | 224);\n\t            utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n\t            utftext += String.fromCharCode((c & 63) | 128);\n\t        }\n\n\t    }\n\n\t    return utftext;\n\t},\n\n\t// private method for UTF-8 decoding\n\t_utf8_decode : function (utftext) {\n\t    var string = \"\";\n\t    var i = 0;\n\t    var c = c1 = c2 = 0;\n\n\t    while ( i < utftext.length ) {\n\n\t        c = utftext.charCodeAt(i);\n\n\t        if (c < 128) {\n\t            string += String.fromCharCode(c);\n\t            i++;\n\t        }\n\t        else if((c > 191) && (c < 224)) {\n\t            c2 = utftext.charCodeAt(i+1);\n\t            string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t            i += 2;\n\t        }\n\t        else {\n\t            c2 = utftext.charCodeAt(i+1);\n\t            c3 = utftext.charCodeAt(i+2);\n\t            string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t            i += 3;\n\t        }\n\n\t    }\n\t    return string;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./base/3rd/Base64.js","const _ = module.exports = require ('underscore')\n\n_.fromPairs = _.object      // was trying to migrate to lodash, but had no luck, these ones had left as an migration artifact...\n_.mapValues = _.mapObject\n\n_.zipWith = (rows, zippo) =>\n                _.reduce (rows.slice (1), (memo, row) =>\n                    _.times (Math.max ((memo && memo.length) || 0, (row && row.length) || 0), i =>\n                        zippo (memo && memo[i], row && row[i])), rows[0])\n\nif ('a1 b2 c3' !== _.zipWith ([['a','b','c'], [1,2,3]], function (a, b) { return a + b }).join (' ')) {\n    throw new Error ('_.zipWith broken') }\n\n\n// WEBPACK FOOTER //\n// ./base/3rd/underscore-fix.js","\"use strict\";\n\n/*  CPS primitives module\n    ======================================================================== */\n\n_.cps = function () {\n    return _.cps.sequence.apply (null, arguments) }\n\n\n/*  apply\n    ======================================================================== */\n\n_.withTest (['cps', 'apply'], function () {\n\n    // TODO\n\n}, function () {\n\n    _.cps.apply = function (fn, this_, args_, then) { var args = _.asArray (args_)\n\n        var lastArgN = _.numArgs (fn) - 1\n        var thenArg = args[lastArgN]\n\n        args[lastArgN] = function () {\n            then.call (this, arguments, thenArg) }\n\n        return fn.apply (this_, args) } })\n\n\n/*  each\n    ======================================================================== */\n\n_.withTest (['cps', 'each'], function () {\n\n    /*  Example array\n     */\n    var data = ['foo', 'bar', 'baz']\n    var currentIndex = 0\n\n    _.cps.each (data,\n\n        /*  called for each item, in linear order\n         */\n        function (item, itemIndex, then, complete, arrayWeTraverse) {\n            $assert (item === data[itemIndex])\n            $assert (itemIndex === currentIndex++)\n            $assert (arrayWeTraverse === data)\n\n            $assert (_.isFunction (then))\n            $assert (_.isFunction (complete))\n\n            then () },\n\n        /*  called when all items enumerated\n         */\n        function () {\n            $assert (currentIndex === data.length) })\n\n    /*  You can omit 'index' argument for iterator function\n     */\n    var data2 = []\n    _.cps.each (data,\n        function (item, then) { data2.push (item); then () },\n        function () { $assert (data, data2) })\n\n    /*  You can stop iteration by calling fourth argument\n     */\n    var data3 = []\n    _.cps.each (data,\n        function (item, i, then, break_) { data3.push (item); break_ () },\n        function () { $assert (data3, ['foo']) })\n\n    /*  Iterating over dictionary is legal\n     */\n    $assertEveryCalled (function (items__3, final__1) {\n        var data2 = { 'foo': 1, 'bar': 2, 'baz': 3 }\n        _.cps.each (\n            data2,\n            function (item, name, then) { $assert (item === data2[name]); items__3 (); then () },\n            function () { final__1 () }) })\n\n    /*  Iterating over scalar is legal\n     */\n    $assertEveryCalled (function (items__1, final__1) {\n        _.cps.each (\n            'foo',\n            function (item, name, then) { $assert ([item, name], ['foo', undefined]); items__1 (); then () },\n            function () { final__1 () }) })\n\n    /*  Undefined/null are treated as empty (not scalars)\n     */\n    $assertEveryCalled (function (final__1) {\n        _.cps.each (\n            undefined,\n            function () { $fail },\n            function () { final__1 () }) }) },\n\nfunction () { _.extend (_.cps, {\n\n    each: function each (obj, elem_, complete_, index_, length_, keys_) {\n\n                var complete = complete_ || _.noop\n                var elem     = function (x, k, next) {\n                                    if (_.numArgs (elem_) === 2) { elem_ (x,    next, complete, obj) }\n                                                            else { elem_ (x, k, next, complete, obj) } }\n\n                if (_.isEmpty (obj)) {\n                    complete () }\n\n                else if (_.isScalar (obj)) {\n                    elem (obj, undefined, complete) }\n\n                else {\n\n                    var index   = index_ || 0\n                    var keys    = index === 0 ? (obj.length === undefined ? _.keys(obj) : undefined) : keys_\n                    var length  = index === 0 ? (keys ? keys.length : obj.length) : length_\n\n                    if (index >= (length || 0)) {\n                        complete () }\n\n                    else {\n                        var key = keys ? keys[index] : index\n\n                        elem (obj[key], key, each.bind (this, obj, elem_, complete_, index + 1, length, keys)) } } } })} )\n\n\n/*  map\n    ======================================================================== */\n\n_.withTest (['cps', 'map'], function () {\n\n    /*  2-argument iterator semantics\n     */\n    _.cps.map ([7,6,5],\n        function (x, then)    { then (x + 1) },\n        function (result)     { $assert (result, [8,7,6]) })\n\n    /*  3-argument iterator semantics\n     */\n    _.cps.map ([7,6,5],\n        function (x, i, then) { then (x + 1) },\n        function (result)     { $assert (result, [8,7,6]) }) },\n\nfunction () { _.extend (_.cps, {\n\n    map: function (obj, iter, complete) { var result = _.isArray (obj) ? [] : {}\n            _.cps.each (obj, (_.numArgs (iter) == 2)\n                                    ? function (x, i, next) { iter (x,    function (y) { result[i] = y; next () }) }\n                                    : function (x, i, next) { iter (x, i, function (y) { result[i] = y; next () }) },\n                function () { complete (result) }) } }) })\n\n/*  find\n    ======================================================================== */\n\n_.withTest (['cps', 'find'], function () {\n\n    /*  Basic use\n     */\n    _.cps.find ([7,6,5],\n        function (x, then) { then ((x % 3) === 0) },\n        function (x, key)  { $assert ([x, key], [6, 1]) })\n\n    /*  Over dictionary\n     */\n    _.cps.find ({ foo: 7, bar: 6, baz: 5 },\n        function (x, key, then) { then (key === 'baz') },\n        function (x, key)       { $assert ([x, key], [5, 'baz']) })\n\n    /*  Returning non-boolean\n     */\n    _.cps.find ([7,6,5],\n        function (x, then) { then (((x % 3) === 0) ? 'yeah' : false) },\n        function (x, key)  { $assert ([x, key], ['yeah', 1]) })\n\n    /*  Not found\n     */\n    _.cps.find ([7,6,5],\n        function (x, key, then) { then (false) },\n        function (x)            { $assert (x, undefined) }) },\n\nfunction () { _.extend (_.cps, {\n\n    find: function (obj, pred, complete) { var passKey = (_.numArgs (pred) !== 2)\n\n        _.cps.each (obj, function (x, key, next, complete) { var take = function (match) {\n                                                                            if (match === false) { next () }\n                                                                            else                 { complete (match === true ? x : match, key) } }\n                            if (passKey) { pred (x, key, take) }\n                            else         { pred (x,      take) } }, complete) } }) })\n\n/*  memoize\n    ======================================================================== */\n\n_.withTest (['cps', 'memoize'], function () {\n\n    $assertEveryCalledOnce (function (noMoreThanOne) {\n        var plusOne = _.cps.memoize (function (x, then) { noMoreThanOne (); then (x + 1) })\n\n        plusOne (2, function (x) { $assert (x === 3) })\n        plusOne (2, function (x) { $assert (x === 3) }) }) },\n\nfunction () { _.extend (_.cps, {\n\n    memoize: function (fn) {\n        return _.barrier ? _.cps._betterMemoize (fn) : _.cps._poorMemoize (fn) }, \n\n    /*  This simplified version is used to bootstrap Useless.js code base (where _.barrier not available)\n     */\n    _poorMemoize: function (fn) { var cache = {}\n        return function (value, then) {\n            if (value in cache) {                   //  there's a flaw: cache updates after fetch completes, so while fetch is running,\n                then (cache[value]) }               //  any subsequent call (until cache is ready) will trigger fetch (as it doesnt know that result is already fetching)\n            else {\n                fn.call (this, value, function (result) {\n                    then (cache[value] = result) }) } } },\n\n    /*  UPD: added support for 0-arity semantics\n     */\n    _betterMemoize: function (fn) { var cache = {}  // barrier-enabled impl, eliminates redundant fetches\n                                                    // in this version, any subsequent calls join at barrier (which opens when result is fetched)\n        switch (_.numArgs (fn)) {\n            case 1:\n                return function (then) {             \n                    if (!cache.already) {\n                        fn.call (this, (cache = _.barrier ())) }\n                    cache (then) }\n            case 2:\n                cache = {}\n                return function (value, then) {    \n                    if (!(value in cache)) {\n                        fn.call (this, value, (cache[value] = _.barrier ())) }\n                    cache[value] (then) }\n            default:\n                throw new Error ('_.cps.memoize: unsupported number of arguments') } } }) })\n\n\n/*  reduce\n    ======================================================================== */\n\n_.withTest (['cps', 'reduce'], function () { $assertEveryCalled (function (mkay__2) {\n\n    var input   = [1,2,3]\n    var sums    = function (a, b, then) { then (a + b) }\n    var check   = function (result) { $assert (result === 6); mkay__2 () }\n\n    _.cps.reduce (input, sums, check)\n    _.cps.reduce ([], sums, check, 6)\n\n})}, function () {\n\n    var reduce = function (array, op, then, memo, index) {  // internal impl\n        if (!array || (index >= (array.length || 0))) {\n            then (memo) }\n        else {\n            op (memo, array[index], function (result) { reduce (array, op, then, result, index + 1) }) } }\n\n    _.cps.reduce = function (array, op, then, memo) {       // public API\n        if (arguments.length < 4) {\n            reduce (array, op, then, array[0], 1) }\n        else {\n            reduce (array, op, then, memo, 0) } } } )\n\n\n/*  noop / identity / constant\n    ======================================================================== */\n\n_.withTest (['cps', 'noop, identity, constant'], function () { $assertEveryCalled (function (noop, identity, const1, const2) {\n\n    /*  Port of underscore's _.noop to CPS terms\n     */\n    _.cps.noop (1,2,3, function () { $assert (arguments.length === 0); noop () })\n\n    /*  Port of underscore's _.identity to CPS terms\n     */\n    _.cps.identity (1,2,3, function () { $assert ([1,2,3], _.asArray (arguments)); identity () })\n\n    /*  Port of underscore's _.constant to CPS terms\n     */\n    _.cps.constant (3)    (function (_3)     { $assert (_3 === 3); const1 () })\n    _.cps.constant (1, 2) (function (_1, _2) { $assert (_1 === 1); $assert (_2 === 2); const2 () })\n\n})}, function () { _.extend (_.cps, {\n\n    noop: $restArg (function () {\n        return _.last (arguments).call (this) }),\n\n    identity: $restArg (function () {\n        var args = _.initial (arguments),\n            then = _.last (arguments)\n        if (then) {\n            return then.apply (this, args) } }),\n\n    constant: $restArg (function () { var args = arguments\n                    return function () {\n                        return _.last (arguments).apply (this, args) } }) })} )\n\n\n/*  arity\n    ======================================================================== */\n\n_.deferTest (['cps', 'arity / resultArity'], function () {\n\n    var returnMyArgs = _.cps.identity\n\n    var put123 = function (fn) {\n        return _.partial (fn, 1,2,3) }\n\n    $assertCPS (put123 (              returnMyArgs),  [1,2,3])\n    $assertCPS (put123 (_.cps.arity2 (returnMyArgs)), [1,2])\n    $assertCPS (put123 (_.cps.arity1 (returnMyArgs)), [1])\n    $assertCPS (put123 (_.cps.arity0 (returnMyArgs)))\n\n    var return123 = function (then) {\n        then (1,2,3) }\n\n    $assertCPS (                    return123,  [1,2,3])\n    $assertCPS (_.cps.resultArity2 (return123), [1,2])\n    $assertCPS (_.cps.resultArity1 (return123), [1])\n    $assertCPS (_.cps.resultArity0 (return123))\n\n}, function () {\n\n    _.cps.arity0 = function (fn) {\n                        return function () {\n                            fn.call (this, _.last (arguments)) } }\n\n    _.cps.arity1 = function (fn) {\n                        return function () {\n                            fn.call (this, arguments[0], _.last (arguments)) } }\n\n    _.cps.arity2 = function (fn) {\n                        return function () {\n                            fn.call (this, arguments[0], arguments[1], _.last (arguments)) } }\n\n    _.cps.transformResult = function (operator, fn) {\n                                return function (args) {\n                                    fn.apply (this, _.initial (arguments).concat (operator (_.last (arguments)))) } }\n\n    _.cps.resultArity2 = _.partial (_.cps.transformResult, _.arity2)\n    _.cps.resultArity1 = _.partial (_.cps.transformResult, _.arity1)\n    _.cps.resultArity0 = _.partial (_.cps.transformResult, _.arity0) })\n\n\n/*  sequence / compose\n    ======================================================================== */\n\n_.withTest (['cps', 'sequence / compose'], function () { $assertEveryCalled (function (mkay__4) {\n\n    /*  Basic example of asynchronous functions sequencing\n     */\n    var makeCookies = function (whatCookies, then)  { then ('cookies ' + whatCookies) }\n    var eatCookies  = function (cookies, then)      { then ('nice ' + cookies) }\n    var check       = function (result)             { $assert (result, 'nice cookies from shit'); mkay__4 () }\n\n    _.cps.sequence (makeCookies, eatCookies, check)   ('from shit')     // supports both ways (either argument list...\n    _.cps.sequence ([makeCookies, eatCookies, check]) ('from shit')     // ..or array\n\n    _.cps (makeCookies, eatCookies, check) ('from shit') // shorthand macro\n\n    /*  A port of underscore's _.compose (simply flipped _.sequence)\n     */\n    _.cps.compose (check, eatCookies, makeCookies) ('from shit')\n\n})}, function () {\n\n    _.cps.sequence = $restArg (\n                        function (arr) { var functions = (_.isArray (arr) && arr) || _.asArray (arguments)\n                            return _.reduceRight (functions, function (a, b) {\n                                return function () {\n                                    return b.apply (this, _.asArray (arguments).concat (a)) }}, _.cps.identity) })\n\n    _.cps.compose = $restArg (\n                        function (arr) { var functions = (_.isArray (arr) && arr) || _.asArray (arguments)\n                            return _.cps.sequence (functions.slice ().reverse ()) }) })\n\n\n/*  _.cps.sequence with error handling (kind of a simplified Promise)\n    ======================================================================== */\n\n_.deferTest (['cps', 'trySequence'], function () {\n\n    var testErr = new Error ()\n\n    /*  No error\n     */\n    $assertEveryCalledOnce (function (mkay) {\n        _.cps.trySequence ([\n            _.cps.constant ('foo'),\n            _.appends ('bar').asContinuation],\n                function (result) { $assert (result, 'foobar'); mkay () }) })\n\n    /*  Throwing error\n     */\n    $assertEveryCalledOnce (function (mkay) {\n        _.cps.trySequence ([\n            function () { throw testErr },\n            function () { $fail }],\n                function (result) { $assert (result === testErr); mkay () }) })\n\n    /*  Returning error to continuation\n     */\n    $assertEveryCalledOnce (function (mkay) {\n        _.cps.trySequence ([\n            function (then) { then (testErr) },\n            function () { $fail }],\n                function (result) { $assert (result === testErr); mkay () }) })\n\n    /*  Reading error in separate callback\n     */\n    $assertEveryCalledOnce (function (mkay) {\n        _.cps.trySequence ([\n            function (then) { then (testErr) },\n            function () { $fail }],\n                function (result) { $fail },\n                function (err)    { $assert (err === testErr); mkay () }) })\n\n}, function () {\n\n    _.cps.trySequence = function (functions, then, err) {\n        _.reduceRight (functions, function (a, b) {\n            return function (e) {\n                if (_.isTypeOf (Error, e)) {\n                    return (err || then) (e) }\n                else {\n                    try {\n                        return b.apply (this, _.asArray (arguments).concat (a)) }\n                    catch (e) {\n                        return (err || then) (e) } } } }, then) () }\n\n})\n\n\n// WEBPACK FOOTER //\n// ./base/CPS.js","\"use strict\";\n\n/*  ------------------------------------------------------------------------ */\n\n_.tests['Channel'] = {\n\n    'is promise': () => {\n\n        $assert ((new Channel ()) instanceof Promise) },\n\n    'resolve from constructor + then + chanining': done => {\n\n        new Channel (resolve => { resolve (123) })\n                .then (x => { $assert (x, 123); return 456 }, () => { $fail })\n                .then (y => { $assert (y, 456); done () })\n    },\n\n    'reject from constructor': done => {\n\n        new Channel ((resolve, reject) => { reject (123) })\n                .then (() => { $fail },\n                        x => { $assert (x, 123); done () })\n    },\n\n    'throw from constructor + .catch + chanining': done => {\n\n        new Channel ((resolve, reject) => { throw 'foo' })\n                .then (() => { $fail })\n                .catch (x => { $assert (x, 'foo'); return 'bar' })\n                .then (y => { $assert (y, 'bar'); done () },\n                      () => { $fail })\n    },\n\n    'throw from .then': done => {\n\n        new Channel (123)\n                .then (x => { throw x + 1 })\n                .catch (x => { $assert (x, 124); done () })\n    },\n\n    'pending state': () => { $assert ('pending', new Channel ().then (() => $fail).state) },\n\n    'new Channel (const)': () => (new Channel (123)).assert (123),\n\n    'recognized by tests as Promise': () => Channel.resolve (123).assert (123),\n\n    'accepted by Promise.all': () => Promise.all ([\n                                        Channel.resolve (123).assert (123),\n                                        Channel.reject (456).assertRejected (456) ]).assert ([123, 456]),\n\n\n    'returning channel from then + .resolve': () => {\n\n        var x = Channel.resolve (123),\n            y = undefined,\n            calls = []\n\n            x.then (() => (y = new Channel (456)))\n             .then (x => calls.push (x)) // should call twice, with 456 and 789 (later)\n\n        y.resolve (789)\n\n        $assert (calls, [456, 789])\n    },\n\n    '$channel for $prototype': () => {\n\n        var Model = $prototype ({\n\n            numPersons: $channel ()\n        })\n\n        var View = $prototype ({\n\n            label: $channel ()\n        })\n\n    /*  $channel tag creates a readwrite property with same name,\n        but it should keep $channel tag in meta-information (for reflection purposes)   */\n\n        $assert ($channel.is (Model.$definition.numPersons))\n\n    /*  Should be configurable from constructor params  */\n\n        var model = new Model ({ numPersons: 10 }),\n            view  = new View ()\n\n        $assert (model.numPersons.value, 10)\n        $assert (view.label.state, 'pending')\n\n    /*  This is not a simple by-reference assignment, but a channel binding   */\n\n        view.label = model.numPersons.then (x => x + ' persons')\n\n        $assert (view.label !== model.numPersons)\n        $assert (view.label.value, '10 persons')\n\n    /*  Assignment to a non-promise should update value    */\n\n        model.numPersons = 11\n        \n        $assert (view.label.value, '11 persons')\n    },\n\n    '$channel(const)': () => {\n\n        $assert ($singleton ({ count: $channel (7) }).count.value, 7)\n    },\n\n    'resolve/reject returns this': () => {\n\n        $assert (Channel.resolve (123).resolve (555).resolve (666).value, 666) },\n\n    /*'proxy shit works': () => {\n\n        var Channel = class extends Function {\n\n            constructor (fn, transducers, before) {\n\n                super ()\n\n                this.after = []\n                this.state = 'pending'\n                this.value = undefined\n                this.transducers = {\n                        resolve: (transducers && transducers.resolve) || (x => x),\n                        reject:  (transducers && transducers.reject)  || (e => { throw e }) }\n\n                if (fn instanceof Function) {\n                    try {\n                        fn.call (this,\n                            this.resolve.bind (this),\n                            this.reject.bind (this)) }\n\n                    catch (e) {\n                        this.reject (e) } }\n\n                else if (fn !== undefined) {\n                    this.resolve (fn) } }\n\n            _resolve (x) {\n                        this.state = 'resolved'\n                        this.value = x\n                        this.after.forEach (c => c.resolve (x)) }\n\n            _reject (e) {\n                        this.state = 'rejected'\n                        this.value = e\n                        this.after.forEach (c => c.reject (e)) }\n\n            resolve (x, transducer) {\n\n                        try {\n                            x = (transducer || this.transducers.resolve) (x)\n\n                            if (x instanceof Promise) {\n                                x.then (\n                                    x => this._resolve (x),\n                                    e => this._reject (e)) }\n\n                            else {\n                                this._resolve (x) } }\n                                \n                        catch (e) {\n                            this._reject (e) }\n\n                        return this }\n\n            reject (e) {\n                        return this.resolve (e, this.transducers.reject) }\n\n            then (resolve, reject) {\n\n                    var c = new Channel (undefined, { resolve: resolve, reject: reject }, this)\n\n                    this.after.push (c)\n\n                    if (this.state === 'resolved') {\n                        c.resolve (this.value) }\n\n                    else if (this.state === 'rejected') {\n                        c.reject (this.value) }\n\n                    return c }\n\n            catch (fn) {\n                    \n                    return this.then (undefined, fn) } }\n\n        var props = {}\n\n        for (var key of Object.keys(Promise.prototype)) {\n            if (!Channel.prototype.hasOwnProperty (key)) {\n                props[key] = Object.getOwnPropertyDescriptor (Promise.prototype, key) } }\n\n        Object.defineProperties (Channel.prototype, props);\n\n        Channel = new Proxy (Channel, {\n\n            construct: function (OriginalChannel, args, newTarget) {\n               \n               var proxy = new Proxy (new OriginalChannel (args[0], args[1], args[2]), {\n                    \n                    apply: function (chan, thisArg, args) {\n\n                        if (args[0] instanceof Function) {\n                            return chan.then.apply (chan, args) }\n                        else {\n                            chan.resolve.apply (chan, args)\n                            return proxy } },\n\n                    getPrototypeOf: function () {\n                        return Promise.prototype } })\n\n                return proxy } })\n\n        var foo = new Channel (7)\n\n        $assert (foo instanceof Promise) // is Promise\n        $assert (foo (5).value, 5)       // is Function\n\n        $assert (foo.delay, Promise.prototype.delay)\n\n        return Promise.all ([foo, Promise.resolve (10)]).then (function (x) {\n            $assert (x, [5, 10]) })\n    },*/\n}\n\n/*  ------------------------------------------------------------------------ */\n\n$global.Channel = $extends (Promise, {\n\n    constructor: function (fn, transducers, before) {\n\n        this.after = []\n        this.state = 'pending'\n        this.value = undefined\n        this.transducers = {\n                resolve: (transducers && transducers.resolve) || (x => x),\n                reject:  (transducers && transducers.reject)  || (e => { throw e }) }\n\n        if (fn instanceof Function) {\n            try {\n                fn.call (this,\n                    this.$ (this.resolve),\n                    this.$ (this.reject)) }\n\n            catch (e) {\n                this.reject (e) } }\n\n        else if (fn !== undefined) {\n            this.resolve (fn) } },\n\n    _resolve: function (x) {\n                this.state = 'resolved'\n                this.value = x\n                this.after.forEach (c => c.resolve (x)) },\n\n    _reject: function (e) {\n                this.state = 'rejected'\n                this.value = e\n                this.after.forEach (c => c.reject (e)) },\n\n    resolve: function (x, transducer) {\n\n                try {\n                    x = (transducer || this.transducers.resolve) (x)\n\n                    if (x instanceof Promise) {\n                        x.then (\n                            x => this._resolve (x),\n                            e => this._reject (e)) }\n\n                    else {\n                        this._resolve (x) } }\n                        \n                catch (e) {\n                    this._reject (e) }\n\n                return this },\n\n    reject: function (e) {\n                return this.resolve (e, this.transducers.reject) },\n\n    then: function (resolve, reject) {\n\n            var c = new Channel (undefined, { resolve: resolve, reject: reject }, this)\n\n            this.after.push (c)\n\n            if (this.state === 'resolved') {\n                c.resolve (this.value) }\n\n            else if (this.state === 'rejected') {\n                c.reject (this.value) }\n\n            return c },\n\n    catch: function (fn) {\n            \n            return this.then (undefined, fn) }\n})\n\n/*  ------------------------------------------------------------------------ */\n\nChannel.all = arr => new Channel (resolve => {\n\n                                    var complete = new Set (),\n                                        value = new Array (arr.length)\n\n                                    arr.forEach ((c, i) => {\n\n                                        c.then (x => { value[i] = x\n                                            \n                                            if (complete.length === value.length) {\n                                                resolve (value) }\n                                            else {\n                                                complete.add (i) } }) }) })\n\n/*  ------------------------------------------------------------------------ */\n\nChannel.resolve = x => new Channel ( resolve          => resolve (x))\nChannel.reject  = e => new Channel ((resolve, reject) => reject  (e))\n\n/*  ------------------------------------------------------------------------ */\n\n$prototype.macroTag ('channel', (def, value, name) => {\n\n    var memberName = '_' + name\n    var initialValue = $untag (value)\n\n    def[name] = Tags.modify (value, () => $property ({\n\n        get: function () {\n                return this[memberName] ||\n                      (this[memberName] = new Channel (initialValue)) },\n\n        set: function (x) {\n                this[name].resolve (x) }\n    }))\n})\n\n/*  ------------------------------------------------------------------------ */\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/Channel.js","\"use strict\";\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n------------------------------------------------------------------------\n\nHot-wires some common C++/Java/C# ways to OOP with JavaScript's ones.\n\n------------------------------------------------------------------------\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - */\n\n_.hasOOP = true\n\n_.withTest ('OOP', {\n\n    '$prototype / $extends': function () {\n\n    /*  Prototypes are defined via $prototype\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        var Foo = $prototype ({\n\n        /*  If constructor is not defined (like here), it's default impl. will equal\n            to the following:                                                               */\n\n//          constructor: function (cfg) { _.extend (this, cfg) },\n\n        /*  $static is used to designate type-level members (context-free ones),\n            effectively porting that shit from C++/C#/Java world.                           */\n\n            method:                  function () { return 'foo.method' },\n            staticMethod:   $static (function () { return 'Foo.staticMethod' }),\n\n        /*  $property is used to tag a value as an property definition.\n            Property definitions expand itself within properties.js module, which\n            is separate from OOP.js                                                         */\n\n            property:                $property (function () { return 'foo.property' }),\n            staticProperty: $static ($property (function () { return 'Foo.staticProperty' })),\n\n        /*  Tags on members can be grouped like this, to reduce clutter if you have lots\n            of members tagged with same tag.                                                */\n\n            $static: {\n                $property: {\n                    one: 1,\n                    two: 2,\n                    three: 3 } },\n\n        /*  Demonstrates some semantics of property definitions, provided by properties.js\n            See that module for further investigation.                                      */\n\n            $property: {\n                static42:       $static (42),\n                just42:         42,\n                just42_too:     function () { return 42 },\n                fullBlown:  {\n                    enumerable:     false,  // will be visible as object's own property (defaults to true)\n                    configurable:   true,   // can be deleted by delete operator (defaults to false)\n                    get:            function () { return 42 },\n                    set:            function (x) { $stub } } } })\n\n\n    /*  Inherited prototypes are defined via $extends\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        var Bar = $extends (Foo, $final ({\n\n        /*  If constructor is not defined (like here), it's default impl.\n            will be equal to the following one (calls base constructor):     */\n\n//          constructor: function () { Foo.prototype.constructor.apply (this, arguments)) } \n\n            staticMethod: $static (function () {\n                return 'Bar.staticMethod' }),\n\n            method: function () {\n                return 'bar.method' } }))\n\n\n    /*  Instances of $prototype/$extends are created by the 'new' operator, as\n        this pair of utility is just a thin wrapper over native JS prototypes.\n\n        The 'new' operator calls 'constructor' member from a prototype\n        definition. If no constructor is specified, default one takes first\n        argument and extends constructed instance with it, overriding any member\n        value that is specified at prototype definition (and this is a\n        really common way to define prototype constructors in JavaScript)\n\n        Such semantics could be treated as somewhat similar to the 'anonymous\n        classes' feature in Java, which is a useful mechanism for ad-hoc\n        specialization of constructed prototypes.   \n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        var foo = new Foo ()\n        var fuu = new Foo ({ method: function () { return 'fuu.method' }})\n        var bar = new Bar ({ hi: 'there' })\n\n        $assert (bar.hi         === 'there')\n        $assert (fuu.method ()  === 'fuu.method')\n\n        $assert ([foo.just42,   bar.just42],   [42, 42])        //  inheritance should work\n        $assert ([Foo.static42, Bar.static42], [42, undefined]) //  (static members do not inherit)\n\n    /*  Overriding should work\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert ([foo.method (),        bar.method ()],         ['foo.method',       'bar.method'])\n        $assert ([Foo.staticMethod (),  Bar.staticMethod ()],   ['Foo.staticMethod', 'Bar.staticMethod'])\n\n    /*  Regular members shouln't be visible at type level\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert ([foo.property,         foo.staticProperty], ['foo.property',       undefined])\n        $assert ([Foo.staticProperty,   Foo.property],       ['Foo.staticProperty', undefined])\n\n    /*  Until explicitly stated otherwise, properties are constant.\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assertThrows (function () { foo.just42 = 43 },\n            _.matches ({ message: 'cannot change just42 (as it\\'s sealed to 42)' })) },\n\n\n/*  Use $final to tag a thing as non-overrideable (comes from Java)\n    ======================================================================== */\n\n    '$final': function () {\n\n    /*  Tagging arbitrary member as $final\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assertThrows (function () {\n\n            var A = $prototype ({\n                        constructor: $final (function () {}) })\n\n            var B = $extends (A, {\n                        constructor: function () {} }) },   // will throw Error\n\n            _.matches ({ message: 'Cannot override $final constructor' }))\n\n    /*  Tagging whole prototype as $final\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assertThrows (function () {\n\n            var A = $prototype ($final ({}))\n            var B = $extends (A) }, // will throw Error\n\n             _.matches ({ message: 'Cannot derive from $final-marked prototype' })) },\n\n/*  Use $alias to make member aliases with correct semantics\n    ======================================================================== */\n\n    'ES6 properties comprehension': function () {\n\n        let Foo = $prototype ({\n\n            get foo () {\n                $assertTypeMatches (this.constructor.$definition.foo, { subject: { get: 'function' }, $property: true })\n                return 42\n            },\n\n            $static: {\n                get bar () {\n                    return 42\n                }\n            }\n        })\n\n        $assertTypeMatches (Foo.$definition.bar, { subject: { get: 'function' }, $property: true, $static: true })\n        $assert (Foo.bar, 42)\n\n        let foo = new Foo ()\n        $assert (foo.foo, 42)\n    },\n\n/*  Use $alias to make member aliases with correct semantics\n    ======================================================================== */\n\n    '$alias': function () {\n\n        var foo = new ($prototype ({\n\n            error: function () { return 'foo.error' },\n\n            failure:              $alias ('error'),\n            crash:                $alias ('error'),\n            finalCrash:   $final ($alias ('crash')) /* chaining works */        })) ()\n                \n                var def = foo.constructor.$definition\n\n                $assert (foo.finalCrash, foo.crash, foo.failure, foo.error) // all point to same function\n\n                $assert    (def.finalCrash.$final)   // you can add new tags to alias members\n                $assertNot (def.crash.$final)        // adding tags to alias members does not affect original members \n                $assertNot (def.error.$final)\n\n        /*  Ad-hoc property aliases (applicable even when there's no explicitly declared member at what alias points to)\n         */\n        var size = new ($prototype ({\n            w:  $alias ($property ('x')),\n            h:  $alias ($property ('y')) })) ()\n\n                $assert ([size.x = 42, size.y = 24], [size.w, size.h], [42, 24]) },\n\n\n/*  Static (compile-time) constructor gets called at prototype generation\n    ======================================================================== */\n\n    '$constructor': function () {\n        $assertEveryCalledOnce (function (mkay) {\n            var foo = new ($prototype ({\n                $constructor: function () {\n                    mkay ()  } })) }) },\n\n\n/*  Run-time type information APIs\n    ======================================================================== */\n\n    'RTTI': function () {\n\n        var Foo = $prototype ({ $static: { noop: _.noop } }),\n            Bar = $extends (Foo) // empty definition argument read as {}\n\n        var foo = new Foo (),\n            bar = new Bar ()\n\n    /*  Basically, the simplest way to check a type, relying on some native JavaScript prototype semantics.\n        But it does not account inheritance.\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert (foo.constructor === Foo)\n        $assert (bar.constructor === Bar)\n\n    /*  A functional crossbrowser version of 'instanceof' (accounts inheritance):\n     \n            1.  Boils down to native 'instanceof' where available\n            2.  In elder browsers, emulates with correct semantics\n     \n        Why use (instead of native syntax):\n        \n            -   cross-browser\n            -   functional (can be partial'ed to yield a predicate)\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert (_.isTypeOf (Function,  foo.constructor.noop))           \n        $assert (_.isTypeOf (Tags,      foo.constructor.$definition.noop)) // note how $static group is collapsed to normal form\n\n    /*  Infix version (a static member of every $prototype)\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert ( Foo.isTypeOf (foo))\n        $assert (!Bar.isTypeOf (foo))\n        $assert (Bar.isTypeOf (bar))\n        $assert (Foo.isTypeOf (bar))\n\n    /*  Another infix version (a member of every $prototype)\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n        $assert ( foo.isInstanceOf (Foo))\n        $assert (!foo.isInstanceOf (Bar))\n        $assert (bar.isInstanceOf (Bar))\n        $assert (bar.isInstanceOf (Foo))\n    },\n\n\n/*  This is how to decide whether a function is $prototype constructor\n    ======================================================================== */\n\n    'isConstructor': function () {\n\n        var Proto = $prototype (),  // empty argument read as {}\n            dummy = function () {}\n\n        $assert ($prototype.isConstructor (Proto), true)\n        $assert ($prototype.isConstructor (dummy), false)\n        $assert ($prototype.isConstructor (null),  false) // regression\n\n        $assert ([Proto, dummy].map ($prototype.isConstructor), [true, false]) },\n\n\n/*  $prototype.inheritanceChain for traversing inheritance chain\n    ======================================================================== */\n\n    'inheritanceChain': function () {\n\n        var A = $prototype ()\n        var B = $extends (A)\n        var C = $extends (B)\n\n        $assert ($prototype.inheritanceChain (C), [C,B,A]) },\n\n/*  $prototype.defines for searching for members on definition chain\n    ======================================================================== */\n\n    'defines': function () {\n\n        var A = $prototype ({ toString: function () {} })\n        var B = $extends (A)\n        var C = $prototype ()\n\n        $assert ([$prototype.defines (B, 'toString'),\n                  $prototype.defines (C, 'toString')], [true, false]) },\n\n/*  $prototype is really same as $extends, if passed two arguments\n    ======================================================================== */\n\n    'two-argument syntax of $prototype': function () {\n\n        var A = $prototype ()\n        var B = $prototype (A, {}) // same as $extends (Base, def)\n\n        $assert (B.$base === A.prototype) },\n\n\n/*  You can enumerate members grouped by tag name via $membersByTag\n    ======================================================================== */\n\n    '$membersByTag': function () {\n\n        var foo = $static ($property (1)),\n            bar =          $property (2)\n\n        $assertMatches ($prototype ({ foo: foo, bar: bar }).$membersByTag, { 'static'  : { 'foo': foo },\n                                                                             'property': { 'foo': foo, 'bar': bar } }) },\n\n\n/*  Tags on definition render to static properties\n    ======================================================================== */\n\n    'tags on definition': function () {\n\n        $assertMatches ($prototype ($static ($final ({}))), { $static: true, $final: true }) },\n\n\n/*  $mixin to extend existing types with $prototype-style definitions\n    ======================================================================== */\n\n    '$mixin': function () { var Type = $prototype ()\n\n        $mixin (Type, {\n            twentyFour: $static ($property (24)),\n            fourtyTwo:           $property (42) })\n\n        $assert ([Type    .twentyFour,\n             (new Type ()).fourtyTwo], [24, 42]) }                                  }, function () {\n\n\n/*  PUBLIC API\n    ======================================================================== */\n\n    _(['property', 'static', 'final', 'alias', 'memoized', 'private', 'builtin', 'hidden', 'testArguments'])\n        .each (Tags.define)\n\n    _.extend ($global, {\n    \n        $prototype: function (arg1, arg2) {\n                        return $prototype.impl.compile.apply ($prototype.impl,\n                                    (arguments.length > 1)\n                                        ? _.asArray (arguments).reverse ()\n                                        : arguments) },\n\n        $extends: function (base, def) {\n                        return $prototype (base, def || {}) },\n\n        $mixin: function (constructor, def) {\n                        return $prototype.impl.compileMixin (_.extend (def, { constructor: constructor })) }\n    })\n\n    _.extend ($prototype, {\n\n        isConstructor: function (what) {\n            return _.isPrototypeConstructor (what) },\n\n        macro: function (arg, fn) {\n            if (arguments.length === 1) {\n                $prototype.impl.alwaysTriggeredMacros.push (arg) }\n            else {\n                $prototype.impl.memberNameTriggeredMacros[arg] = fn } },\n\n        macroTag: function (name, fn) { Tags.define (name)\n            $prototype.impl.tagTriggeredMacros['$' + name] = fn },\n\n        each: function (visitor) { var namespace = $global\n            for (var k in namespace) {\n                if (!(k[0] === '$')) { var value = namespace[k]\n                    if ($prototype.isConstructor (value)) {\n                        visitor (value, k) } } } },\n\n        defines: function (constructor, member) {\n            return (_.find ($prototype.inheritanceChain (constructor), function (supa) {\n                        return (supa.$definition && supa.$definition.hasOwnProperty (member)) || false })) ? true : false },\n\n        inheritanceChain: function (def) { var chain = []\n            while (def) {\n                chain.push (def)\n                def = def.$base && def.$base.constructor }\n            return chain },\n\n        wrapMethods: function (def, op) {\n                        return Tags.map (def, function (fn, k, t) {\n                            return _.isFunction (fn) ? op (fn, k, t).wraps (fn) : fn }) },\n\n\n    /*  INTERNALS\n        ==================================================================== */\n\n        impl: {\n\n            alwaysTriggeredMacros:     [],\n            memberNameTriggeredMacros: {},\n            tagTriggeredMacros:        {},\n\n            compile: function (def, base) {    var impl = ((base && base.$impl) || this)\n                                    return $untag (impl\n                                                    .sequence (def, base)\n                                                    .call (impl, def || {})\n                                                    .constructor) },\n\n            sequence: function (def, base) { return _.sequence (\n\n                /*  TODO: optimize performance (there's PLENTY of room to do that)\n                 */\n                this.convertPropertyAccessors,\n                this.extendWithTags,\n                this.flatten,\n                this.generateCustomCompilerImpl (base),\n                this.ensureFinalContracts (base),\n                this.generateConstructor (base),\n                this.evalAlwaysTriggeredMacros (base),\n                this.evalMemberTriggeredMacros (base),\n                this.contributeTraits (base),\n                this.evalPrototypeSpecificMacros (base),\n                this.generateBuiltInMembers (base),\n                this.callStaticConstructor,\n                this.expandAliases,\n                this.groupMembersByTagForFastEnumeration,\n                this.defineStaticMembers,\n                this.defineInstanceMembers) },\n\n            compileMixin: function (def) {\n                return _.sequence (\n                    this.convertPropertyAccessors,\n                    this.flatten,\n                    this.contributeTraits (),\n                    this.expandAliases,\n                    this.evalMemberTriggeredMacros (),\n                    this.defineStaticMembers,\n                    this.defineInstanceMembers).call (this, def || {}).constructor },\n\n            convertPropertyAccessors: function (def) { // converts { get foo () {} } to { get: $property (...) }\n\n                for (let name of Object.getOwnPropertyNames (def)) {\n                    const desc = Object.getOwnPropertyDescriptor (def, name)\n\n                    if ((desc.get instanceof Function ||\n                         desc.set instanceof Function)) {\n\n                        Object.defineProperty (def, name, { value: $property (desc) }) } }\n\n                return def\n            },\n\n            flatten: function (def) {\n\n            /*  merge groups    */\n\n                var tagGroups    = _.pick (def, this.isTagGroup)\n                var mergedTagGroups = _.object (_.flatten (_.map (tagGroups, function (membersDef, tag) {\n                    return _.map (this.flatten (this.convertPropertyAccessors (membersDef)), function (member, memberName) {\n                        return [memberName, $global[tag] (member)] }) }, this), true))\n\n                var memberDefinitions   = _.omit (def, this.isTagGroup)\n\n                return _.extend (memberDefinitions, mergedTagGroups) },\n\n            evalAlwaysTriggeredMacros: function (base) {\n                return function (def) { var macros = $prototype.impl.alwaysTriggeredMacros\n                    for (var i = 0, n = macros.length; i < n; i++) {\n                        def = (macros[i] (def, base)) || def }\n                    return def } },\n\n            evalMemberTriggeredMacros: function (base) {\n                return function (def) { var names = $prototype.impl.memberNameTriggeredMacros,\n                                            tags  = $prototype.impl.tagTriggeredMacros\n                    _.each (def, function (value, name) {\n                        if (names.hasOwnProperty (name)) {\n                            def = (names[name] (def, value, name, base)) || def }\n                        _.each (_.keys (value), function (tag) { if (tags.hasOwnProperty (tag)) {\n                            def = (tags [tag] (def, value, name, base)) || def } }) })\n                     return def } },\n\n            evalPrototypeSpecificMacros: function (base) { return function (def) {\n                if (!def.isTraitOf) {\n                    var macroTags = $untag (def.$macroTags || (base && base.$definition && base.$definition.$macroTags))\n                    if (macroTags) {\n                        this.applyMacroTags (macroTags, def) } } return def } },\n\n            applyMacroTags: function (macroTags, def) {\n                _.each (def, function (memberDef, memberName) {\n                            _.each (macroTags, function (macroFn, tagName) { memberDef = def[memberName]\n                                if (_.isObject (memberDef) && (('$' + tagName) in memberDef)) {\n                                    def[memberName] = macroFn.call (def, def, memberDef, memberName) || memberDef } }, this) }, this)\n                return def },\n\n            generateCustomCompilerImpl: function (base) {\n                return function (def) {\n                    if (def.$impl) {\n                        def.$impl = _.extend (Object.create ((base && base.$impl) || this), def.$impl) // sets prototype to base.$impl || this\n                        def.$impl = $static ($builtin ($property (def.$impl))) }\n                    else if (base && base.$impl) {\n                        def.$impl = $static ($builtin ($property (base.$impl))) }\n                    return def } },\n\n            contributeTraits: function (base) {\n                        return function (def) {\n                \n                if (def.$traits) { var traits = def.$traits\n\n                    this.mergeTraitsMembers (def, traits, base)\n\n                    def.$traits  = $static ($builtin ($property (traits)))\n                    def.hasTrait = $static ($builtin (function (Constructor) {\n                        return traits.indexOf (Constructor) >= 0 })) }\n\n                return def } },\n\n            mergeTraitsMembers: function (def, traits, base) {\n                _.each (traits, function (trait) {\n                    _.defaults (def, _.omit (trait.$definition,\n                        _.or ($builtin.matches, _.key (_.equals ('constructor'))))) }) },\n\n            extendWithTags: function (def) {                    \n                return _.extendWith ($untag (def), _.mapValues (Tags.get (def), $static.arity1)) },\n\n            callStaticConstructor: function (def) { \n                if (!def.isTraitOf) { \n                    _.each ($untag (def.$traits), function (T) {\n                                                    if (T.$definition.$constructor) {\n                                                        $untag (T.$definition.$constructor).call (def) } })\n                    if (def.$constructor) {\n                        $untag (def.$constructor).call (def) } } return def },\n\n            generateConstructor: function (base) { return function (def) {\n                return _.extend (def, { constructor:\n                    Tags.modify (def.hasOwnProperty ('constructor') ? def.constructor : this.defaultConstructor (base),\n                        function (fn) {\n                            if (base) { fn.prototype = Object.create (base.prototype);\n                                        fn.prototype.constructor = fn }\n                            return fn }) }) } },\n\n            generateBuiltInMembers: function (base) { return function (def) {\n\n                if (def.$constructor) {\n                    def.$constructor = $builtin ($static (def.$constructor)) }\n\n                return _.defaults (def, {\n                    $base:          $builtin ($static ($property (_.constant (base && base.prototype)))),\n                    $definition:    $builtin ($static ($property (_.constant (_.extend ({}, base && base.$definition, def))))),\n                    isTypeOf:       $builtin ($static (_.partial (_.isTypeOf, $untag (def.constructor)))),\n                    isInstanceOf:   $builtin (function (constructor) { return _.isTypeOf (constructor, this) }),\n                    $:              $builtin ($prototype.impl.$) }) }},\n\n            $: function (fn) { return _.$.apply (null, [this].concat (_.asArray (arguments))) },\n            \n            defaultConstructor: function (base) {\n                return (base ?\n                    function ()    { base.prototype.constructor.apply (this, arguments) } :\n                    function (cfg) { _.extend (this, cfg || {}) }) },\n\n            defineStaticMembers: function (def) {\n                this.defineMembers ($untag (def.constructor), _.pick (def, $static.matches))\n                return def },\n\n            defineInstanceMembers: function (def) {\n                this.defineMembers ($untag (def.constructor).prototype, _.omit (def, $static.matches))\n                return def },\n\n            defineMembers: function (targetObject, def) {\n                _.each (def, function (value, key) {\n                    if (key !== 'constructor' && def.hasOwnProperty (key)) {\n                        this.defineMember (targetObject, value, key) } }, this) },\n\n            defineMember: function (targetObject, def, key) {\n                if (def && def.$property) {\n                    if (def.$memoized) {\n                        _.defineMemoizedProperty (targetObject, key, def) }\n                    else {\n                        _.defineProperty (targetObject, key, def, def.$hidden ? { enumerable: false } : {}) } }\n                else {\n                    var what = $untag (def)\n                    targetObject[key] = what } },\n\n            ensureFinalContracts: function (base) { return function (def) {\n                                        if (base) {\n                                            if (base.$final) {\n                                                throw new Error ('Cannot derive from $final-marked prototype') }\n\n                                            if (base.$definition) {\n                                                var invalidMembers = _.intersection (\n                                                    _.keys (_.pick (base.$definition, $final.matches)),\n                                                    _.keys (def))\n                                                if (invalidMembers.length) {\n                                                    throw new Error ('Cannot override $final ' + invalidMembers.join (', ')) } } }\n\n                                        return def } },\n\n            expandAliases: function (def) {\n                                _.each (def, function (v, k) { def[k] = this.resolveMember (def, k, v)[1] }, this); return def },\n\n            resolveMember: function (def, name, member) { member = member || def[name]\n\n                                if ($alias.is (member)) { var ref      = this.resolveMember (def, $untag (member))\n                                                          var refName  = ref[0]\n                                                          var refValue = ref[1]\n\n                                    return [refName, ($property.is (member) ?\n                                                      $property ({ get: function ()  { return this[refName]     },\n                                                                   set: function (x) {        this[refName] = x } }) : Tags.extend (refValue, Tags.omit (member, '$alias'))) ] }\n\n                                else { return [name, member] } },\n\n            groupMembersByTagForFastEnumeration: function (def) { var membersByTag = {}\n\n                                                    _.each (def, function (m, name) {\n                                                        Tags.each (m, function (tag) {\n                                                            (membersByTag[tag] = (membersByTag[tag] || {}))[name] = m }) })\n\n                                                    def.$membersByTag = $static ($builtin ($property (membersByTag))); return def },\n\n            isTagGroup: function (value_, key) { var value = $untag (value_)\n                return (key[0] === '$') && _.isFunction ($global[key]) && (typeof value === 'object') && !_.isArray (value) },\n\n            modifyMember: function (member, newValue) {\n                return ($property.is (member) && Tags.modify (member, function (value) { return _.extend (value, _.map2 (_.pick (value, 'get', 'set'), newValue)) })) ||\n                       (_.isFunction ($untag (member)) && Tags.modify (member, newValue)) || member } } }) })\n\n\n/*  $trait  A combinatoric-style alternative to inheritance.\n            (also known as \"mixin\" in some languages)\n    ======================================================================== */\n\n    _.withTest (['OOP', '$traits'], function () {\n\n        var Closeable = $trait ({\n            close: function () {} })\n\n        var Movable = $trait ({\n            move: function () {} })\n\n        var Enumerable = $trait ({\n            each: function (iter) {},\n            length: $property (function () { return 0; }) })\n\n        var JustCloseable     = $prototype ({ $traits: [Closeable] })\n        var MovableEnumerable = $prototype ({ $traits: [Movable, Enumerable], move: function () {} })\n\n        var movableEnumerable = new MovableEnumerable ()\n\n        $assert (movableEnumerable.move === MovableEnumerable.prototype.move)\n\n        $assertThrows (function () { new Closeable () },\n            _.matches ({ message: 'Traits are not instantiable (what for?)' }))\n\n        $assertTypeMatches (movableEnumerable, {\n            move: 'function',\n            each: 'function',\n            length: 'number' })\n\n        $assert ([\n            movableEnumerable.isInstanceOf (Movable),\n            movableEnumerable.isInstanceOf (Enumerable),\n            movableEnumerable.isInstanceOf (Closeable)], [true, true, false])\n\n        $assert (Movable.isTypeOf (movableEnumerable))\n        $assert (Movable.isTraitOf (movableEnumerable))\n\n        $assert (MovableEnumerable.hasTrait (Enumerable))\n\n        $assertMatches (MovableEnumerable,  { $traits: [Movable, Enumerable] })\n        $assertMatches (JustCloseable,      { $traits: [Closeable] })\n\n        $assertCallOrder (function (t1_constructed, t2_constructed, proto_constructed) {\n\n            var T1, T2\n\n            $assertNotCalled (function (not_now) {\n                T1 = $trait ({ $constructor: function () { not_now (); t1_constructed () } })\n                T2 = $trait ({ $constructor: function () { not_now (); t2_constructed () } }) })\n\n            var Proto = $prototype ({\n                            $traits: [T1, T2],\n                            $constructor: function () { proto_constructed () } }) })\n\n}, function () {\n\n    _.isTraitOf = function (Trait, instance) {\n        var constructor = instance && instance.constructor\n        return (constructor &&\n            constructor.hasTrait &&\n            constructor.hasTrait (Trait)) || false }    //  indexOf is fast if has 1-2 traits,\n                                                        //  no need to pre-index\n    _.isTypeOf = _.or (_.isTypeOf, _.isTraitOf)\n\n    $global.$trait = function (arg1, arg2) {\n        var constructor = undefined\n        var def = _.extend (arguments.length > 1 ? arg2 : arg1, {\n                        constructor: _.throwsError ('Traits are not instantiable (what for?)'),\n                          isTraitOf: $static ($builtin (function (instance) {\n                            return _.isTraitOf (constructor, instance) })) })\n\n        return (constructor = $prototype.impl.compile (def, arguments.length > 1 ? arg1 : arg2)) } })\n\n\n/*  $macroTags\n    ======================================================================== */\n\n    $prototype.macro ('$macroTags', function (def, value, name) {\n        _.each ($untag (value), function (v, k) { Tags.define (k) }) })\n\n\n/*  Context-free implementation of this.$\n    ======================================================================== */\n\n    _.$ = (this_, fn, ...args) =>\n            (args.length) ?\n                _.bind.apply (undefined, [fn, this_].concat (args)) :\n                _.withSameArgs (fn, (...args) => fn.apply (this_, args)) // @hide\n\n\n/*  $const (xxx) as convenient alias for $static ($property (xxx))\n    ======================================================================== */\n \n    _.withTest (['OOP', '$const'], function () {\n \n        var A = $prototype ({\n            $const: {\n                foo: 'foo',\n                bar: 'bar' },\n            qux: $const ('qux'),\n            zap: $const ('zap') })\n \n        $assert ([A.foo, A.bar, A.qux, A.zap], ['foo', 'bar', 'qux', 'zap'])\n        $assertThrows (function () { A.foo = 'bar '}) }, function () {\n\n    $global.$const = function (x) { return $static ($property (x)) }  })\n\n\n\n/*  Dual call interface\n    ======================================================================== */\n\n    /*  method  free function\n     */\n    _.withTest (['OOP', '$callableAsFreeFunction'], function () {\n\n            const X = $prototype ({\n                        foo: $callableAsFreeFunction ($property (function () { $assert (this._42, 42); return 42 })) }),\n\n                  x = new X ({ _42: 42 })\n\n            $assert (x.foo, X.foo (x), 42) },       function () {\n\n                /*  Impl\n                 */\n                Tags.define  ('callableAsFreeFunction')\n                $prototype.macroTag ('callableAsFreeFunction',\n                    function (def, value, name) {\n                              def.constructor[name] = $untag (value).asFreeFunction\n                       return def }) })\n\n    /*  free function  method\n     */\n    _.withTest (['OOP', '$callableAsMethod'],       function () {\n\n            const X = $prototype ({\n                        foo: $callableAsMethod (function (this_, _42) { $assert (this_._42, _42, 42); return 42 }) }),\n\n                  x = new X ({ _42: 42 })\n\n            $assert (x.foo (42), X.foo (x, 42), 42) },  function () {\n\n                /*  Impl \n                 */\n                Tags.define  ('callableAsMethod')\n                $prototype.macroTag ('callableAsMethod',\n                    function (def, value, name) {\n                              def[name] = Tags.modify (value, _.asMethod)\n                              def.constructor[name] = $untag (value)\n                       return def }) })\n\n\n/*  $singleton (a humanized macro to new ($prototype (definition)))\n    ======================================================================== */\n\n     _.withTest (['OOP', '$singleton'], function () { $assertEveryCalledOnce (function (baseConstructor, derivedConstructor) {\n\n            var Base    = $prototype ({\n                            method:    _.constant (42) })\n\n        /*  returns constructed instance of a definition passed as argument\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n            var Simple  = $singleton ({\n                            constructor: function () { baseConstructor () },\n                            method:      function () { return 42 } })\n\n        /*  can inherit from a prototype\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n            var Derived = $singleton (Base, {\n                            constructor: function () { derivedConstructor (); Base.prototype.constructor.apply (this, arguments) } })\n\n            $assert (Simple.method (), Derived.method (), 42) })\n\n        /*  inner prototypes\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n            var Outside = $singleton ({\n                Inside: $prototype ({ foo: function () {} }) })\n\n            $assertTypeMatches ((new Outside.Inside ()).foo,  'function')           }, function () {\n\n        /*  IMPLEMENTATION\n            ==================================================================== */\n\n            $global.$singleton = function (arg1, arg2) {\n                    return new ($prototype.apply (null, arguments)) () } })\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/OOP.js","\"use strict\";\n\n/*  Parsers (TODO: REFACTOR)\n    ======================================================================== */\n\n_.tests.parse = {\n    fileName: function () {\n        $assert (Parse.fileName (''), '')\n        $assert (Parse.fileName ('.jpg'), '')\n        $assert (Parse.fileName ('c:\\\\/path/path2/.jpg'), '')\n    }\n}\n\n$global.Parse = {\n    \n    keyCodeAsString: function (key) {\n        return String.fromCharCode ((96 <= key && key <= 105) ? key - 48 : key) },\n\n    fileName: function (path) {\n        return _.last (path.split (/\\\\|\\//)).split ('.')[0] },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./base/Parse.js","\"use strict\";\n\n/*  Promise-centric extensions (WIP) /// TODO: REFACTOR\n    ======================================================================== */\n\n_.tests['Promise+'] = {\n\n/*  ------------------------------------------------------------------------ */\n\n    promisify: function () {\n\n    /*  Example object  */\n\n        var fs = {\n\n        /*  Shouldn't be converted  */\n\n            42: 42,\n            dontTouchMe:  function () { $assert (arguments.length === 0); return 42 },\n            dontTouchMe2: function () { $assert (arguments.length === 0); return 42 },\n            readFileSync: function () { $assert (arguments.length === 0); return 42 },\n\n        /*  Will be promisified */\n\n            readFile: function (path,   callback) { $assert (this === fs)\n                            if (path) { callback (null, 'contents of ' + path) }\n                                 else { callback ('path empty') } } }\n\n    /*  Run     */\n\n        const fsAsync = Function.promisifyAll (fs, { except: _.endsWith.$$ ('Sync').or (['dontTouchMe', 'dontTouchMe2'].asSet.matches) })\n\n    /*  Check if 'except' worked successfully */\n\n        $assert (fsAsync.dontTouchMe (),\n                 fsAsync.dontTouchMe2 (),\n                 fsAsync.readFileSync (), fsAsync['42'], 42)\n\n    /*  Check if 'readFile' converted successfully */\n\n        return __.all ([    fsAsync.readFile (null) .assertRejected ('path empty'),\n                            fsAsync.readFile ('foo').assert         ('contents of foo') ]) },\n\n\n/*  ------------------------------------------------------------------------ */\n\n    __: function () { var adds = function (a, b) {\n                                    return function (x, y) { return [x + a, y + b] } }\n        return [\n            __(123).assert (123),\n            __(Promise.resolve (123)).assert (123),\n            __(function () { return 123 }).assert (123),\n            __(function () { throw 123 }).assertRejected (123),\n            __(adds ('foo', 'bar'), 123, 456).assert (['123foo', '456bar']) ] },\n\n    first: function () {\n            return [\n                Promise.firstResolved ([Promise.reject (123), Promise.resolve (456)]).assert (456),\n                Promise.firstResolved ([Promise.reject (123), Promise.reject  (456)]).assertRejected (null),\n                Promise.firstResolved ([])                                           .assertRejected (null) ] },\n\n/*  ------------------------------------------------------------------------ */\n\n    all: function () {\n            return [\n                __.all ([                 123,                   456 ]).assert ([123, 456]),\n                __.all ([     _.constant (123),      _.constant (456)]).assert ([123, 456]),\n                __.all ([Promise.resolve (123), Promise.resolve (456)]).assert ([123, 456]) ] },\n\n/*  ------------------------------------------------------------------------ */\n\n    seq: function () {  $assert (__.seq (123), 123)\n                        $assert (__.seq ([123, 333]), 333)\n                        $assert (__.seq ([123, _.constant (333)]), 333)\n\n                        return [\n                            __.seq ([Promise.resolve (123), Promise.resolve (333)]).assert (333),\n                            __.seq ([123, __.constant (333)]).assert (333),\n                            __.seq ([123, __.rejects ('foo')]).assertRejected ('foo'),\n                            __.seq ([123, __.delays (0), _.appends ('bar')]).assert ('123bar')\n                        ] },\n\n/*  ------------------------------------------------------------------------ */\n\n    map: function () {\n            return [\n                        __.map (       111 ,   _.appends ('bar')).assert (       '111bar'),\n                        __.map (      [222],   _.appends ('bar')).assert (      ['222bar']),\n                        __.map (    __(333),   _.appends ('bar')).assert (       '333bar'),\n                        __.map ({ foo: 444 },  _.appends ('bar')).assert ({ foo: '444bar' }),\n                        __.map ({ foo: 555 }, __.constant ('bar')).assert ({ foo: 'bar' }),\n\n                        __.map (['a','b','c','d','e'],\n                            function (x,i) { return Promise.resolve ([i,x]).delay (10 - i) })\n                                .assert ([[0,'a'], [1,'b'], [2,'c'], [3,'d'], [4,'e']]) ] },\n\n/*  ------------------------------------------------------------------------ */\n\n    filter: function () {\n            return [\n                        __.filter (123, _.constant (456)).assert (456),\n                        __.filter (['foo', 456], _.isString).assert (['foo']),\n                        __.filter (['foo', 456], __.constant ('baz')).assert (['baz', 'baz']),\n                        __.filter ({ foo: 123, bar: '456' }, _.isNumber).assert ({ foo: 123 })\n                    ] },\n\n/*  ------------------------------------------------------------------------ */\n\n    each: function () {\n\n        var pairs = function (input) { var pairs = []\n                        return __.each (input, function (x, i) { pairs.push ([x, i]) })\n                                    .then (_.constant (pairs)) }\n\n        return [    pairs ()         .assert ([]),\n                    pairs (undefined).assert ([]),\n\n                    pairs (42).assert ([[42, undefined]]),\n                    \n                    pairs ([    42,    48]) .assert ([[42,  0],  [48,  1 ]]),\n                    pairs ({ 0: 42, 1: 48 }).assert ([[42, '0'], [48, '1']]),\n\n                    __.each ([1,2], function (x, i) {\n                                        if (i > 0) $fail // should stop at 0, due to rejection\n                                        return Promise.reject ('foo') }).assertRejected ('foo') ] }\n\n/*  END OF TESTS ----------------------------------------------------------- */\n\n}\n\n\n/*  IMPLEMENTATION\n    ======================================================================== */\n\n\n$global.TimeoutError = class extends Error {\n   constructor () { super ('timeout expired') }\n}\n\n/*  ------------------------------------------------------------------------ */\n\n$global.__ =\nPromise.eval = function (x, ...args) {\n                    return ((x instanceof Promise)   ?  x :\n                           ((x instanceof Function)  ?  new Promise (resolve => { resolve (x.apply (this, args)) }) : // @hide\n                                                            Promise.resolve (x))) }\n\nPromise.coerce = function (x) {\n                        return (x instanceof Promise) ? x : Promise.resolve (x) }\n\n/*  ------------------------------------------------------------------------ */\n\n__.noop = function () {\n            return Promise.resolve () }\n\n__.eternity = new Promise (function () {})\n\n__.identity = function (x) {\n                return Promise.resolve (x) }\n\n__.constant = function (x) {\n                return function () {\n                    return Promise.resolve (x) } }\n\n__.reject = function (e) { return Promise.reject (e) }\n__.rejects = function (e) { return function () { return Promise.reject (e) } }\n\n/*  ------------------------------------------------------------------------ */\n\n__.then = function (a, b) { b = _.coerceToFunction (b)\n                try {\n                    var x = (a instanceof Function) ? a () : a\n                    return  (x instanceof Promise)  ? x.then (b) : b (x) }\n                catch (e) {\n                    return Promise.reject (e) } }\n\n/*  ------------------------------------------------------------------------ */\n\n__.delay = function (ms) { return __.delays (ms) () }\n\n__.delays = function (ms) {\n                return function (x) {\n                    return new Promise (function (return_) { setTimeout (function () { return_ (x) }, ms || 0) }) } }\n\n$mixin (Promise, {\n    delay:              function (ms) { return this.then (__.delays (ms)) },\n    timeout:            function (ms) { return this.race (__.delay (ms).reject (new TimeoutError ())) },\n    now:     $property (function (  ) { return this.timeout (0) }) })\n\n\n/*  ------------------------------------------------------------------------ */\n\n$mixin (Array, {\n    \n    race: $property (function () { return Promise.race (this) }) })\n\n/*  ------------------------------------------------------------------------ */\n\n$mixin (Promise, {\n\n    race: function (other) { return [this, other].race },\n\n    firstResolved: $static (function (arr) {\n                        return new Promise (function (resolve, reject) { var todo = arr && arr.length\n                            if (!todo) {\n                                reject (null) }\n                            else {\n                                _.each (arr, function (x) {\n                                                Promise.coerce (x)\n                                                       .then (function (x) { todo--\n                                                                if (resolve) {\n                                                                    resolve (x)\n                                                                    resolve = undefined } })\n                                                       .catch (function () { todo--\n                                                            if (!todo) {\n                                                                reject (null) } }) }) } }) }),\n\n    reject: function (e) { return this.then (_.throwsError (e)) },\n\n    chain: function (fn) { return this.then (function (x) { fn (x); return x; }) },\n\n    done: function (fn) { return this.then (function (x) { fn (null, x); return x },\n                                            function (e) { fn (e, null); throw e }) },\n\n    finally: function (fn) { return this.then (function (x) { return fn (null, x) },\n                                               function (e) { return fn (e, null) }) },\n\n    $callableAsFreeFunction: {\n        $property: {\n            reflect: function () { return this.then (v => v, e => e) },\n        },\n    },\n\n    /*state: $property (function () {\n                        return this.then (\n                            function (x) { return { state: 'fulfilled', fulfilled: true, value: x } },\n                            function (e) { return { state: 'rejected', rejected: true, value: x } }).now.catch (function () {\n                                           return { state: 'pending', pending: true } }) }),*/\n\n    log:   $property (function () { return this.then (log,       log.then (_.throwsError)) }),\n    alert: $property (function () { return this.done (alert2, alert2.then (_.throwsError)) }),\n    \n    panic: $property (function () { return this.catch (function (e) {\n\n                                                        if (_.globalUncaughtExceptionHandler) {\n                                                            _.globalUncaughtExceptionHandler (e) }\n\n                                                        throw e }) }),\n\n    assert: function (desired) {\n                return this.then (function (x) { $assert (x, desired); return x }) },\n\n    assertTypeMatches: function (desired) {\n                return this.then (function (x) { $assertTypeMatches (x, desired); return x }) },\n\n    assertRejected: function (desired) { var check = (arguments.length > 0)\n                        return this.catch (function (x) { if (check) { $assert (x, desired) } return x }) },\n\n})\n\n/*  ------------------------------------------------------------------------ */\n\n_.deferTest (['Promise+', '_.scatter with pooling'], function () {\n\n        var data = _.times (21, function (i) { return 'item_' + i })\n        var numItems = 0\n        var processedItems = []\n\n        var op = function (item, i) {\n                    numItems++\n                    $assert (!processedItems.contains (item))\n                    return __.delay (_.random (2))\n                             .then (function () {\n                                        processedItems.push (item)\n                                        return item }) }\n\n        return __.scatter (data, op, { maxConcurrency: 5 })\n                 .then (function () { $assert (_.difference (data, processedItems).isEmpty) }) },\n\n    /*  ------------------------------------------------------------------------ */\n\n    function () {\n\n        $global.TaskPool = $prototype ({\n\n            constructor: function (cfg) {\n                            \n                            this.maxTime        = cfg && cfg.maxTime\n                            this.pending        = []\n\n                            if (this.maxConcurrency = cfg && cfg.maxConcurrency) {\n                                this.numActive = 0\n                                this.queue     = [] } },\n\n            run: function (task) { var self = this\n\n                        if (this.numActive >= this.maxConcurrency) { // queue task\n\n                            return new Promise (function (resolve) {\n                                                    self.queue.push (function () {\n                                                                        return self.run  (task)\n                                                                                   .then (resolve) }) }) }\n                        else { // execute task\n\n                            var p = __(task)\n\n                            if (this.maxTime !== undefined) {\n                                p = p.timeout (this.maxTime) }\n\n                            if (this.maxConcurrency !== undefined) { // if queueing, wait until complete and pop next task\n\n                                                           self.numActive++\n                                p = p.then (function (x) { self.numActive--\n\n                                                   return (self.queue.length &&\n                                                          (self.numActive < self.maxConcurrency))\n                                                                          ? self.queue.shift () ().then (_.constant (x))\n                                                                          : x }) }\n                            this.pending.push (p)\n\n                            return p } },\n\n\n            all: $property (function () {\n                                return Promise.all (this.pending) }) })\n\n    /*  ------------------------------------------------------------------------ */\n\n        __.scatter = function (x, fn, cfg /* { maxConcurrency, maxTime } */) {\n\n                    return __.then (x, function (x) {\n\n                        if (_.isStrictlyObject (x)) {\n\n                            var result = _.coerceToEmpty (x),\n                                tasks  = new TaskPool (cfg)\n\n                            _.each2 (x, function (v, k) {\n                                            tasks.run (fn.$ (v, k, x)).then (\n                                                                        function (vk) {\n                                                                            if (vk) {\n                                                                                result[vk[1]] = vk[0] } }) })\n                            return tasks.all.then (_.constant (result)) }\n\n                        else {\n                            return __(fn, x, undefined, x).then (function (vk) { return vk[0] }) } }) }\n})\n\n/*  ------------------------------------------------------------------------ */\n\n__.map = function (x, fn, cfg /* { maxConcurrency, maxTime } */) {\n            return __.scatter (x, function (v, k, x) {\n                return __.then (fn.$ (v, k, x), function (x) { return [x, k] }) }, cfg) }\n\n__.filter = function (x, fn, cfg /* { maxConcurrency, maxTime } */) {\n                return __.scatter (x, function (v, k, x) {\n                                        return __.then (fn.$ (v, k, x),\n                                            function (decision) {\n                                                return ((decision === false) ? undefined :\n                                                       ((decision === true)  ? [v, k]\n                                                                             : [decision, k])) }) }, cfg) }\n__.each = function (obj, fn) {\n                return __.then (obj, function (obj) {\n                    return new Promise (function (complete, whoops) {\n                                        _.cps.each (obj, function (x, i, then) {\n                                                            Promise.coerce (fn (x, i))\n                                                                   .then (then)\n                                                                   .catch (whoops) }, complete) }) }) }\n\n__.seq = function (arr) {\n            return _.reduce2 (arr, __.then) }\n\n__.all = function (arr) {\n            return Promise.all (_.map (arr, __)) }\n\n__.race = function (arr) {\n            return Promise.race (_.map (arr, __)) }\n\n/*  ------------------------------------------------------------------------ */\n\n$mixin (Function, {\n    \n    promisifyAll: $static (function (obj, cfg) { var cfg    = cfg || {},\n                                                     except = cfg.except || _.noop\n\n                                if (except instanceof Array) {\n                                    except = except.asSet.matches }\n\n                                var result = {}\n\n                                for (var k in obj) {\n                                    var x = obj[k]\n                                    if (x instanceof Function) {\n                                        var fn = x.bind (obj)\n                                        result[k] = except (k) ? fn : fn.promisify }\n                                    else {\n                                        result[k] = x } }\n\n                                return result }),\n\n    promisify: $hidden ($property (\n                            function () {            var f    = this\n                                return function () { var self = this, args = arguments\n                                    return new Promise (function (resolve, reject) {\n                                        f.apply (self, _.asArray (args).concat (function (err, what) {\n                                                                                      if (err) { reject (err) }\n                                                                                                 resolve (what) })) }) } })) })\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/Promise+.js","\"use strict\";\n\n$global.R = $singleton ({\n\n    $test () {\n\n        var $assertExpr = function (a, b) { $assert (a, _.quote (b.str, '//')) }\n\n        /*  R should be used for code clarity purposes when one needs to generate a\n            complex regular expression that is hard to read and maintain.\n         */\n        $assertExpr ('/[^\\\\s]*/',        $r.anyOf.except.space.$)\n        $assertExpr ('/\\\\[.*\\\\]|[\\\\s]/', $r.anything.inBrackets.or.oneOf.space.$)\n\n        var expr = $r.expr ('before',    $r.anything.text ('$print').something).then (\n                   $r.expr ('argument',  $r.someOf.except.text (',)')).inParentheses.then (\n                   $r.expr ('tail',      $r.anything))).$\n\n        /*  Above construction generates the following regular expression\n         */\n        $assertExpr ('/(.*\\\\$print.+)\\\\(([^,\\\\)]+)\\\\)(.*)/', expr)\n\n        /*  Main feature: named groups, easily accessible as dictionary elements.\n         */\n        $assert (expr.parse ( ' var x = $print (blabla) // lalala '),\n\n                  {  before:  ' var x = $print ',\n                   argument:  'blabla',              \n                       tail:  ' // lalala ',        })\n\n        /*  Based on Lisp-like list based syntax, for easy programmatic generation and stuff\n         */\n        $assert ([['[^', '\\\\s', \"\\]\"], '*'], R.anyOf (R.except (R.space))) },\n\n\n    constructor: function () {\n\n        this.reduce = _.hyperOperator (_.binary, _.reduce2,\n                                        _.goDeeperAlwaysIfPossible,\n                                        _.isNonTrivial.and (_.not (this.isSubexpr)))\n\n        this.initDSL () },\n\n    expr (expr, subexprs) { subexprs = subexprs || []\n            return new R.Expr (R.reduce ('', expr, (memo, s) => {\n                                                        if (R.isSubexpr (s)) { subexprs.push (s)\n                                                            return memo + R.expr (R.root (s.value), subexprs).str }\n                                                        else {\n                                                            return memo + s } }), subexprs) },\n\n    Expr: $prototype ({\n\n        constructor: function (str, subexprs) {\n                        this.rx = new RegExp ()\n                        this.rx.compile (str)\n                        this.str = str\n                        this.subexprs = subexprs },\n\n        parse (str) {\n                var match = str.match (this.rx)\n            return (match && _.extend.apply (null,\n                                _.zipWith ([match.slice (1), this.subexprs], (match, subexpr) => _.fromPairs ([[ subexpr.name, match ]]) ))) || {} } }),\n\n    escape: s => _.map (s, x => R.metacharacters[x] ? ('\\\\' + x) : x).join (''),\n\n    text: $alias ('escape'),\n\n    subexpr: (name, s) => ({ name: name, value: ['(', s, ')'] }),\n \n    maybe:  s => [s, '?'],\n    anyOf:  s => [s, '*'],\n    someOf: s => [s, '+'],\n\n    oneOf:  s => ['[',  s, ']'],\n    except: s => ['[^', s, ']'],\n\n    or: (a, b) => [a, '|', b],\n\n    $property: {\n\n        metacharacters: _.index ('\\\\^$.|?*+()[{'),\n\n        begin:       '^',\n        end:         '$',\n        space:       '\\\\s',\n        maybeSpaces: '\\\\s*',\n        spaces:      '\\\\s+',\n        anything:    '.*',\n        something:   '.+',\n        comma:       ','\n    },\n\n    parentheses: s => ['\\\\(', s, '\\\\)'],\n    brackets:    s => ['\\\\[', s, '\\\\]'],\n\n    isSubexpr:   s => (_.isStrictlyObject (s) && !_.isArray (s)) ? true : false,\n\n    root: r => (r && r.$$) ? r.$$ : r,\n\n    initDSL () {\n\n        $global.property ('$r',  () => $$r ([]))\n        $global.const    ('$$r', cursor => {\n\n            const shift = x => (cursor.push (x), cursor.forward)\n            const def   = _.defineHiddenProperty\n\n            def (cursor, 'then', x =>      { cursor.push (R.root (x));                return cursor })\n            def (cursor, 'text', x =>      { cursor.push (R.text (x));                return cursor })\n            def (cursor, 'expr', (x, s) => { cursor.push (R.subexpr (x, R.root (s))); return cursor })\n\n            def (cursor, 'forward', () => cursor.next || ((cursor.next = $r).prev = cursor).next)\n\n            _.each (['maybe', 'anyOf', 'someOf', 'oneOf', 'except'], function (key) {\n                def (cursor, key, () => shift (R[key] (cursor.forward))) })\n\n            _.each (['parentheses', 'brackets'], key =>\n                def (cursor, 'in' + key.capitalized, () =>\n                    (cursor.$$.prev = $$r (R[key] (cursor.$$)))))\n\n            _.each (['or'], key =>\n                def (cursor, key, () => {\n                    let next = $r\n                    return (next.prev = (cursor.$$.prev = $$r (R[key] (cursor.$$, next)))).next = next }))\n\n            _.each (['begin', 'end', 'space', 'anything', 'something'], key =>\n                def (cursor, key, () => shift ([R[key], cursor.forward])))\n\n            def (cursor, '$$', () => {\n                let root = cursor\n                while (root.prev) { root = root.prev }\n                return root })\n\n            def (cursor, '$', () => R.expr (cursor.$$))\n\n            return cursor\n        })\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./base/Rx.js","\"use strict\";\n\n$global.Sort = {\n    Ascending: 1,\n    Descending: -1,\n    strings: function (a, b) {\n        a = $.trim (a).toLowerCase ()\n        b = $.trim (b).toLowerCase ()\n        if (a.length == 0 && b.length > 0) {\n            return 1;\n        } else if (a.length > 0 && b.length == 0) {\n            return -1;\n        } else {\n            return a == b ? 0 : (a < b ? -1 : 1)\n        }\n    },\n    numbers: function (a, b) {\n        if (isNaN (a) && isNaN (b)) {\n            return 0\n        } else if (isNaN (a)) {\n            return -1\n        } else if (isNaN (b)) {\n            return 1\n        } else {\n            return a < b ? -1 : (a > b ? 1 : 0)\n        }\n    },\n    generic: function (a, b) {\n        if (!a && !b) {\n            return 0\n        } else if (!a) {\n            return -1\n        } else if (!b) {\n            return 1\n        } else {\n            return a < b ? -1 : (a > b ? 1 : 0)\n        }\n    },\n    inverse: function (sort) {\n        return function (a, b) {\n            return -(sort (a, b))\n        }\n    },\n    field: function (name, sort, order) {\n        return function (a, b) {\n            return sort (a[name], b[name]) * order\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./base/Sort.js","\"use strict\";\n\n/*  What for:\n\n    -   Hierarchy management (parent-child relationship)\n    -   Destructors ('destroy' method), propagating through hierarchy\n    -   bindable on $prototypes, auto-disconnecting if involved component gets destroyed\n    -   trigger/barrier on $prototypes, auto-disconnecting if involved component gets destroyed\n\n    Component facility provides unified mechanics for deinitialization, thus allowing\n    to freely combine distinct components into more complex structure with no need to\n    know how to specifically deinitialize each of them.\n\n    Use to define highly configurable/reusable objects having limited lifetime, holding\n    system resources and organizing into hierarchies, e.g. UI components, like dialogs,\n    menus, embeddable data views. They hold DOM references and bound events, so one needs\n    to properly free those resources during deinitialization. Case studies:\n\n    -   For example, a pop-up menu could render itself into top-level 'document' element, \n        so just by destroying its parent component's DOM, things created by this pop-up\n        wont be destroyed, and that's why explicit 'destroy' method is needed. With\n        Component, you call 'destroy' on parent component, and it propagates to child\n        components automatically, triggering their 'destroy' methods.\n\n    -   A component could dynamically bind to other components with help of $bindable and\n        $trigger facilities. If such component gets destroyed, those links became invalid\n        and should be removed, otherwise it's considered as 'memory leak'. Component handles\n        such situation, removing those links if any involved component gets destroyed.\n\n    Component could be considered as basic tool for dynamic code binding at macro level,\n    promoting functional code binding tools (defined in dynamic/stream.js) to $prototypes.\n */\n\n_.tests.component = {\n\n    /*  - Passing config to constructor will extend constructed instance with that object\n        - Component constructors exhibit CPS interface (last function argument interprets as continuation)\n     */\n    'constructor([cfg, ][then])': function () { $assertNotCalled (function (mkay) {\n\n        var Compo = $component ({})\n\n        /*  1. constructor (cfg)\n         */\n        $assertMatches (new Compo ({ foo: 42 }), { foo: 42 })\n\n        /*  2. constructor (then)\n         */\n        //new Compo (mkay)\n\n        /*  3. constructor (cfg, then)\n         */\n        /*$assertMatches (new Compo ({ foo: 42 }, mkay), { foo: 42 })*/ }) },\n\n\n    /*  init() should be entry point to a component, calling at constructor by default\n     */\n    'init': function () { $assertEveryCalledOnce (function (mkay) {\n                            $singleton (Component, {\n                                init: function () {\n                                    mkay () } }) }) },\n\n\n    /*  init(then) means your initialization is defined in CPS style\n     */\n    /*'CPS init': function () { $assertEveryCalled (function (compo1, compo2) {\n\n                            var Compo = $prototype ({\n                                init: function (then) { // you're required to call then, to complete init\n                                    then () } })\n\n                            var compo = new Compo (function () {\n                                compo1 () })\n\n                            var compo2 = new Compo ({ _42: 42 }, function () {\n                                $assert (this._42, 42)\n                                compo2 () }) }) },*/\n\n    /*  constructor overriding is prohibited (by $final), use init() API for configuration means\n     */\n    'no constructor overriding': function () { $assertThrows (function () {\n                                        $singleton (Component, {\n                                            constructor: function () {} }) }) },\n\n\n    /*  If you don't want init() to be called at constructor (to call it manually later),\n        pass init:false to constructor's config\n     */\n    'manual init()': function () { $assertNotCalled (function (fail) {\n                                        var Compo = $component ({ init: function () { fail () } })\n                                        var compo = new Compo ({ init: false })\n                                        $assert (typeof compo.init, 'function') }) }, // shouldn't be replaced by false\n\n    /*  initialized is a _.barrier that opens after initialization\n     */\n    'initialized (barrier)': function () {\n        var Compo = $component ({ init: function () {} })\n        var compo = new Compo ({ init: false })\n\n        $assert (!compo.initialized.already)\n        $assertEveryCalledOnce (function (mkay) {\n            compo.initialized (function () { mkay () })\n            compo.init () }) },\n\n    /*  'thiscall' semantics for methods (which can be defined by a variety of ways)\n     */\n    'thiscall for methods': function () {\n        $assertEveryCalledOnce (function (prototypeMethod, instanceMethod) {\n            var instance = null\n            var Compo = new $component ({\n                prototypeMethod: function () { $assert (this === instance); prototypeMethod () } })\n            instance = new Compo ({\n                instanceMethod:  function () { $assert (this === instance); instanceMethod () } })\n\n            instance.prototypeMethod.call (null)\n            instance.instanceMethod.call (null) }) },\n\n    /*  Pluggable init/destroy with $traits (tests all combinations of CPS / sequential style method calling)\n     */\n    'pluggable init with $traits': function () { var A, B, C, D\n\n        var A = $trait ({\n            beforeInit: function () { A = true; return Promise.resolve () },\n            afterInit:  function () { B = true; return Promise.resolve () } })\n\n        var B = $trait ({\n            beforeInit: function () { C = true; },\n            afterInit:  function () { D = true; }\n        })\n\n        var C = $component ({\n            $traits: [B, A] })\n\n        return (new C ()).initialized.promise.then (function () {\n                                                        $assert (A,B,C,D,true) }) },\n\n\n    /*  $defaults is convenient macro to extract _.defaults thing from init() to definition level\n     */\n    '$defaults basic': function () {\n        var Compo = $component ({ $defaults:           { foo: 42 }})\n        $assert ($untag (Compo.$definition.$defaults), { foo: 42 })\n        $assert (        Compo.            $defaults,  { foo: 42 })\n\n        var Compo2 = $component ({ $traits: [$trait ({ $defaults: { foo: 11 } })], $defaults: { } })\n        $assert ($untag (Compo2.$definition.$defaults), { foo: 11 })\n        $assert (        Compo2.            $defaults,  { foo: 11 })\n    },\n\n    '$defaults': function () {\n        var Trait = $trait ({ $defaults: { pff: 'pff', inner: { fromTrait: 1 } }})\n        var Base = $component ({ $defaults: { foo: 12, qux: 'override me', inner: { fromBase: 1 } } })\n        var Derived = $extends (Base, {\n            $traits: [Trait],\n            $defaults: { bar: 34, qux: 'overriden', inner: { fromDerived: 1 } } })\n        \n        //$assert (Derived.$ownDefaults,\n        //               { bar: 34, qux: 'overriden', inner: { fromDerived: 1 } } )\n\n        /* TODO: fix bug not allowing derived to not have $defaults\n           var Derived2 = $extends (Derived, {}) */\n \n        $assert (new Derived ().inner !== new Derived ().inner) // should clone $defaults at instance construction\n\n        $assertMatches (new Derived ({ pff: 'overriden from cfg' }), { pff: 'overriden from cfg', foo: 12, bar: 34, qux: 'overriden', inner: { fromTrait: 1, fromBase: 1, fromDerived: 1 } }) },\n\n\n    '$defaults cloning semantics': function () { var set = new Set ([1,2,3])\n\n        var S = $component ({ $defaults: { foo: set,\n                                           bar: new Set () } })\n\n        var s = new S ()\n\n        $assert (s.foo instanceof Set,\n                 s.bar instanceof Set,\n                 true)\n\n        $assert (s.foo !== set)\n    },\n\n    /*  Use $requires to specify required config params along with their type signatures\n     */\n    '$requires': function () {\n        var SomeType = $prototype ()\n        var CompoThatRequires = $component ({\n                                    $requires: {\n                                        foo: SomeType,                      // requires foo to be instance of SomeType\n                                        ffu: { a: 'number', b: 'string' },  // breakdown test\n                                        bar: 'number',\n                                        qux: ['number'],\n                                        baz: _.not (_.isEmpty) } })         // custom requirement predicate\n\n\n        var DerivedCompoThatRequiresMore =\n            $extends (CompoThatRequires, {\n                $requires: { more: 'string' } })\n\n\n        $assertFails (function () {\n            new CompoThatRequires ({ baz: {} }) }) // $requires behaves like assertion in case of failure\n\n        $assertFails (function () {\n            new DerivedCompoThatRequiresMore ({ more: 'hey how about other requirements' }) })\n\n        new DerivedCompoThatRequiresMore ({\n            foo: new SomeType (),\n            bar: 42,\n            qux: [1,2,3],\n            more: 'blah blah',\n            ffu: { a: 1, b: '2' },\n            baz: 'blahblah' }) },\n\n\n    /*  $overrideThis is a macro that requires a method to be overriden\n     */\n    /*'overrideThis': function () {\n        $assertThrows (function () { $singleton (Component, { foo: $overrideThis (function () {}) }) },\n            _.matches ({ message: 'foo should be overriden' })) },*/\n\n\n    /*  $bindable lifts _.bindable to Component level, opening new venues to hooking onto existing impl,\n        in ad-hoc way, with no need to specify hard-coded callback structure beforehand.\n\n        Use to implement common beforeXXX and afterXXX semantics.\n     */\n    '$bindable': function () { $assertEveryCalledOnce (function (method, before, after) {\n\n        var compo = $singleton (Component, {\n                        method: $bindable (function (x) { method ()\n                            return 42 }) })\n\n        compo.method.onBefore (function (_5) { before ()\n            $assert (this === compo)\n            $assert (_5, 5) })\n\n        compo.method.onAfter (function (_5, _result) { after ()\n            $assert (this === compo)\n            $assert (_5, 5)\n            $assert (_result, 42) })\n\n        $assert (compo.method (5), 42) }) },\n\n\n    /*  Trigger has many names in outer world, like Event, Signal (and legion of\n        many other misleading buzzwords).\n\n        In our implementation, Trigger is a partial case of 'stream' concept, which\n        is a highly abstract functional I/O primitive for multicasting of data/events).\n        See dynamic/stream.js for its amazingly simple implementation.\n\n            1.  If called with some value arguments (or no argument), it performs\n                multicast of these arguments to all bound listeners (readers).\n                In terms of 'streams' that operation is called 'write'.\n\n            2.  If called with function argument, it adds that function to the wait\n                queue mentioned before. In terms of 'streams' it is called 'read'.\n\n        Component manages those streams (defined by $-syntax at its prototype definition),\n        auto-disconnecting bound methods, so that no method of Component bound\n        to such streams will ever be called after destroy().\n     */\n    '$trigger': function () { $assertEveryCalled (function (mkay__2) {\n        \n        var compo = $singleton (Component, {\n                        mouseMoved: $trigger () })\n\n        compo.mouseMoved (function (x, y) { $assert ([x, y], [7, 12]); mkay__2 () })\n        compo.mouseMoved (7, 12)\n        compo.mouseMoved (7, 12) }) },\n\n    'init streams from config': function () { $assertEveryCalled (function (atDefinition, atInit) {\n\n        var Compo = $component ({\n                        mouseMoved: $trigger (atDefinition),\n                        init: function () {\n                            this.mouseMoved () } })\n\n        new Compo ({ mouseMoved: atInit }) }) },\n\n    /*  A variation of trigger. On 'write' operation, it flushes wait queue, so\n        no callback bound previously gets called in future (until explicitly\n        queued again by 'read' operation).\n     */\n    '$triggerOnce': function () {\n        var compo = $singleton (Component, {\n                        somthingHappened: $triggerOnce () })\n\n        $assertEveryCalled (function (first, second) {\n            compo.somthingHappened (function (what) { $assert (what, 'somthin'); first () })\n            compo.somthingHappened (function (what) { $assert (what, 'somthin'); second () })\n            compo.somthingHappened ('somthin') }) },\n\n\n    /*  Another variation of stream, having 'memory fence / memory barrier' semantics,\n        widely known as synchronization primitive in concurrent programming.\n\n            1.  At first, barrier is in closed state, putting any callback passed to it\n                to a queue.\n\n            2.  When barrier is called with value argument, it state changes to 'opened',\n                triggering all queued callbacks with that value argument passed in.\n\n            3.  After barrier had opened, any futher callback gets called immediately\n                with that value argument passed before, i.e. short-circuits.\n     */\n    '$barrier': function () { $assertEveryCalled (function (early, lately) {\n        \n        var compo = $singleton (Component, {\n                        hasMessage: $barrier () })\n\n        compo.hasMessage (function (_msg) { $assert (_msg, 'mkay'); early () })\n        compo.hasMessage ('mkay')\n        compo.hasMessage (function (_msg) { $assert (_msg, 'mkay'); lately () }) }) },\n\n\n    /*  $observableProperty is a powerful compound mechanism for data-driven dynamic\n        code binding, built around streams described previously.\n     */\n    '$observableProperty': function () { $assertEveryCalled (function (\n                                            fromConstructor,\n                                            fromConfig,\n                                            fromLateBoundListener,\n                                            fromDefinition,\n                                            fromListenerOnlyVariant) {\n\n        var Compo = $component ({\n                        color: $observableProperty (),\n                        smell: $observableProperty (),\n                        shape: $observableProperty ('round', function (now) { $assert (now, 'round'); fromDefinition () }),\n                        size:  $observableProperty (function (x) { $assert (x, 42); fromListenerOnlyVariant () }),\n                        init: function () {\n                            this.colorChange (function (now, was) { if (was) { fromConstructor ()\n                                $assert ([now, was], ['green', 'blue']) } }) } })\n\n        var compo = new Compo ({\n            color: 'blue',\n            size: 42,\n            colorChange: function (now, was) { if (was) {   fromConfig ()\n                                                            $assert ([now, was], ['green', 'blue']) } } })\n\n        compo.smellChange (function (now, was) { fromLateBoundListener ()\n            $assert (compo.smell, now, 'bad')\n            $assert (undefined,   was) })\n\n        compo.color = 'green'\n        compo.smell = 'bad' }) },\n\n\n    /*  $observableProperty automatically calls prototype constructor if supplied with non-prototype instance data\n     */\n    '$observableProperty (Prototype)': function () {\n        var Compo = $component ({\n                        position: $observableProperty (Vec2.zero),\n                        init: function () {\n                            this.positionChange (function (v) {\n                                $assertTypeMatches (v, Vec2)\n                                $assert (v.y, 42) }) } })\n\n        var compo = new Compo ({ position: { x: 10, y: 42 }}) // supply POD value from constructor\n        compo.position = { x: 20, y: 42 } },                  // supply POD value from property accessor\n\n    'binding to streams with traits': function () {\n\n        Tags.define ('dummy')\n\n        $assertEveryCalled (function (mkay1, mkay2) { var this_ = undefined\n\n            var Trait = $trait ({\n                somethingHappened: $trigger () })\n\n            var Other = $trait ({\n                somethingHappened: $dummy (function (_42) { $assert (this, this_); $assert (_42, 42); mkay1 () }) })\n\n            var Compo = $component ({\n                $traits: [Trait, Other],\n                somethingHappened: function (_42) { $assert (this, this_); $assert (_42, 42); mkay2 () } })\n\n            this_ = new Compo ()\n            this_.somethingHappened (42) }) },\n\n    'binding to bindables with traits': function () {\n\n        $assertCallOrder (function (beforeCalled, interceptCalled, bindableCalled, afterCalled) { var this_ = undefined\n\n            var Trait = $trait ({\n                doSomething: $bindable (function (x) { $assert (this, this_); bindableCalled () }) })\n\n            var Other = $trait ({\n                beforeDoSomething: function (_42) { $assert (this, this_); $assert (_42, 42); beforeCalled () },\n                interceptDoSomething: function (_42, impl) { interceptCalled (); $assert (this, this_); return impl (_42) } })\n\n            var Compo = $component ({\n                $traits: [Trait, Other],\n                afterDoSomething: function (_42) { $assert (this, this_); $assert (_42, 42); afterCalled () } })\n\n            this_ = new Compo ()\n            this_.doSomething (42) }) },\n\n    'binding to observable properties with traits': function () {\n\n        $assertEveryCalled (function (one, two) { var this_ = undefined\n\n            var Trait = $trait ({\n                someValue: $observableProperty (42) })\n\n            var Other = $trait ({\n                someValue: function (_42) { one () } })\n\n            var Compo = $component ({\n                $traits: [Trait, Other],\n                someValue: function (_42) { two () } })\n\n            this_ = new Compo ()\n\n            $assert (_.isFunction (this_.someValueChange))\n\n            this_.someValue = 33 }) },\n\n    'hierarchy management': function () { $assertEveryCalled (function (mkay__9) {\n        \n        var Compo = $extends (Component, {\n            init:    function () { mkay__9 () },\n            destroy: function () { mkay__9 () } })\n\n        var parent = new Compo ().attach (\n                        new Compo ().attach (\n                            new Compo ()))\n\n        var parrot = new Compo ()\n                        .attachTo (parent)\n                        .attachTo (parent)\n\n        $assert (parrot.attachedTo === parent)\n        $assert (parrot.detach ().attachedTo === undefined)\n\n        var carrot = new Compo ()\n        parent.attach (carrot)\n        parent.attach (carrot)\n\n        parent.destroy () })},\n\n    'thiscall for streams': function () {\n        \n        var compo = $singleton (Component, {\n            trig: $trigger () })\n\n        compo.trig (function () {\n            $assert (this === compo) })\n\n        compo.trig.call ({}) },\n\n    '$defaults can set $observableProperty': function () {\n\n        var compo = $singleton (Component, {\n            twentyFour: $observableProperty (42),\n            $defaults: { twentyFour: 24 } })\n\n        $assertEveryCalledOnce (function (mkay) {\n            compo.twentyFourChange (function (val) { $assert (val, 24); mkay (); }) }) },\n\n    'defer init with $defaults': function () {\n        var compo = $singleton (Component, {\n            $defaults: { init: false },\n            init: function () { } })\n\n        compo.init () },\n\n    'stream members should be available at property setters when inited from config': function () {\n        var compo = new ($component ({\n            ready: $barrier (),\n            value: $property ({\n                set: function (_42) { $assertTypeMatches (this.ready, 'function') } }) })) ({ value: 42 }) },\n\n    'observableProperty.force (regression)': function () { $assertEveryCalled (function (mkay__2) {\n        \n        var compo = $singleton (Component, {\n            prop: $observableProperty () })\n\n        compo.prop = 42\n        compo.propChange (function (value) {\n            $assert (value, 42)\n            $assert (this === compo)\n            mkay__2 () })\n\n        compo.propChange.force () }) },\n\n    'two-argument $observableProperty syntax': function () {\n\n        $assertEveryCalled (function (mkay) {\n            var compo = $singleton (Component, {\n                                        prop: $observableProperty (42, function (value) { mkay ()\n                                            if (compo) {\n                                                $assert (this  === compo)\n                                                $assert (value === compo.prop) } }) })\n                compo.prop = 43 }) },\n\n    'two-argument $observable': function () {\n\n        $assertEveryCalled (function (mkay) {\n            $assert ('foo', $singleton (Component, {\n                foo: $observable ('foo', function (x) { $assert (x, 'foo'); mkay () }) }).foo.value)\n        })\n    },\n\n    'destroyAll()': function () { $assertEveryCalled (function (destroyed__2) {\n        \n        var Compo = $extends (Component, {\n            destroy: function () { destroyed__2 () } })\n\n        var parent = new Compo ()\n                        .attach (new Compo ())\n                        .attach (new Compo ())\n\n        $assert (parent.attached.length === 2)\n\n        parent.destroyAll ()\n        parent.destroyAll ()\n\n        $assert (parent.attached.length === 0) })},\n\n    '$macroTags for component-specific macros': function () {\n\n        var Trait =    $trait ({   $macroTags: {\n                                        add_2: function (def, fn, name) {\n                                            return Tags.modify (fn, function (fn) {\n                                                return fn.then (_.sum.$ (2)) }) } } })\n\n        var Base = $component ({   $macroTags: {\n                                        add_20: function (def, fn, name) {\n                                            return Tags.modify (fn, function (fn) {\n                                                return fn.then (_.sum.$ (20)) }) } } })\n\n        var Compo = $extends (Base, {\n            $traits: [Trait],\n            $macroTags: { dummy: function () {} },\n\n             testValue: $static ($add_2 ($add_20 (_.constant (20)))) })\n\n        $assert (42, Compo.testValue ())\n        $assertMatches (_.keys (Compo.$macroTags), ['dummy', 'add_2', 'add_20'])\n\n        _.each (_.keys (Compo.$macroTags), function (name) { delete $global['$' + name] }) },\n\n    '$raw for performance-critical methods (disables thiscall proxy)': function () {\n\n        var compo = new ($component ({\n            method:          function (this_) { $assert (this_ === this) },\n            rawMethod: $raw (function (this_) { $assert (this_ !== this) }) }))\n\n        var    method = compo.   method;    method (compo)\n        var rawMethod = compo.rawMethod; rawMethod (compo) },\n\n    'two-way $observable binding': function () {\n\n        var Compo = $component ({ x: $observable ('foo') })\n        var x = _.observable ('bar')\n\n        var compo = new Compo ({ x: x })\n\n        $assert (compo.x !== x)\n        $assert (compo.x.value, x.value, 'bar')\n\n        compo.x (42); $assert (x.value, 42)\n        x ('lol'); $assert (compo.x.value, 'lol')\n\n    /*  Test unbinding    */\n\n        compo.destroy ()\n\n        $assert (compo.x.queue, [])\n\n        compo.x ('yo'); $assert (x.value, 'lol') // shouldnt change\n        x ('oy'); $assert (compo.x.value, 'yo')  // shouldnt change\n    },\n\n    /*  $alias (TODO: fix bugs)\n     */\n    /*'$alias': function () { var value = 41\n\n        var compo = $singleton (Component, {\n\n            foo: function () { return ++value },\n            bar: $bindable ($alias ('foo')),\n            baz: $memoize  ($alias ('bar')) })\n\n        $assertEveryCalled (function (mkay) { compo.bar.onBefore (mkay)\n            $assert (compo.baz (),\n                     compo.baz (), 42) }) },*/\n\n    /*  Auto-unbinding\n     */\n    'unbinding (simple)': function () {\n        var somethingHappened = _.trigger ()\n        var compo = $singleton (Component, { fail: function () { $fail } })\n\n        somethingHappened (compo.fail)\n        compo.destroy ()\n        somethingHappened () }, // should not invoke compo.fail\n\n\n    '(regression) undefined was allowed as trait': function () {\n        $assertThrows (function () {\n            var Compo = $component ({ $traits: [undefined] }) }, { message: 'invalid $traits value' }) },\n\n    '(regression) undefined members fail': function () {\n        var Compo = $component ({ yoba: undefined })\n        $assert ('yoba' in Compo.prototype) },\n\n    '(regression) $defaults with $traits fail': function () {\n        var Compo = $component ({ $traits: [$trait ({ $defaults: { x: 1 }})], $defaults: { a: {}, b: [], c: 0 } })\n        $assert (Compo.$defaults, { x: 1, a: {}, b: [], c: 0 }) },\n\n    '(regression) $defaults with $traits fail #2': function () {\n        var Compo = $component ({ $traits: [$trait ({ $defaults: { x: 1 }})] })\n        $assert (Compo.$defaults, { x: 1 }) },\n\n    '(regression) method overriding broken': function () {\n        var Compo = $component ({ method: function () { $fail } })\n        var compo = new Compo ({ value: 42, method: function () { return this.value } })\n        $assert (compo.method (), 42) },\n\n    '(regression) $observableProperty (false)': function () {\n        $assertEveryCalledOnce (function (mkay) {\n            $singleton (Component, {\n                foo: $observableProperty (false),\n                init: function () { this.fooChange (mkay) } }) }) },\n\n    '(regression) was not able to define inner compos at singleton compos': function () {\n        var Foo = $singleton (Component, {\n            InnerCompo: $component ({\n                foo: $observableProperty () }) })\n\n        var Bar = $extends (Foo.InnerCompo, { bar: $observableProperty () })\n        var bar = new Bar ()\n\n        $assertTypeMatches (bar, { fooChange: 'function', barChange: 'function' }) },\n\n    /*'(regression) postpone': function (testDone) { $assertEveryCalledOnce ($async (function (foo) {\n        $singleton (Component, {\n            foo: function () { foo (); },\n            init: function () { this.foo.postpone () } }) }), testDone) },*/\n\n    '(regression) undefined at definition': function () { $singleton (Component, { fail: undefined }) },\n\n    '(regression) properties were evaluated before init': function () {\n        $singleton (Component, {\n            fail: $property (function () { $fail }) }) },\n\n    '(regression) misinterpretation of definition': function () {\n        $singleton (Component, { get: function () { $fail } }) },\n\n    '(regression) alias incorrectly worked with destroy': function () {\n            var test = $singleton (Component, {\n                destroy: function () { mkay () },\n                close: $alias ('destroy') })\n\n            $assert (test.close, test.destroy) } }\n\n\n/*  General syntax\n */\n$global.$component = function (definition) {\n                        return $extends (Component, definition) }\n\n_([ 'extendable', 'trigger', 'triggerOnce', 'barrier', 'bindable', 'memoize', 'interlocked',\n    'memoizeCPS', 'debounce', 'throttle', 'overrideThis', 'listener', 'postpones', 'reference', 'raw', 'binds', 'observes'])\n    .each (Tags.define)\n\n;(function () {\n    var impl = function (impl) {\n                return function (x, fn) {\n                    return ((_.isFunction (x) && (arguments.length === 1)) ?\n                                impl (x, fn) :     // $observableProperty (listener)\n                                impl (fn, x)) } }  // $observableProperty (value[, listener])\n\n    Tags.define ('observableProperty', impl) \n    Tags.define ('observable',         impl) \n}) ();\n\n$global.$observableRef = function (x) { return $observableProperty ($reference (x)) }\n\n$prototype.macro ('$depends', function  (def, value, name) {\n                                       (def.$depends = $builtin ($const (_.coerceToArray (value))))\n                                 return def })\n\n$prototype.macroTag ('extendable',\n            function (def, value, name) {\n                      def[name] = $builtin ($const (value))\n               return def })\n\n$global.Component = $prototype ({\n\n    $defaults:  $extendable ({}),\n    $requires:  $extendable ({}),\n    $macroTags: $extendable ({}),\n\n    /*  Overrides default OOP.js implementation\n     */\n    $impl: {\n\n        sequence: function (def, base) { return _.sequence (\n            this.convertPropertyAccessors,\n            this.extendWithTags,\n            this.flatten,\n            this.generateCustomCompilerImpl (base),\n            this.ensureFinalContracts (base),\n            this.generateConstructor (base),\n            this.evalAlwaysTriggeredMacros (base),\n            this.evalMemberTriggeredMacros (base),\n            this.expandTraitsDependencies,\n            this.mergeExtendables (base),\n            this.contributeTraits (base),\n            this.mergeStreams,\n            this.mergeBindables,\n            this.generateBuiltInMembers (base),\n            this.callStaticConstructor,\n            this.expandAliases,\n            this.groupMembersByTagForFastEnumeration,\n            this.defineStaticMembers,\n            this.defineInstanceMembers) },\n\n        expandTraitsDependencies: function (def) {\n\n                if (_.isNonempty ($untag (def.$depends)) &&\n                    _.isEmpty    ($untag (def.$traits))) {\n                                          def.$traits = DAG.sortedSubgraphOf (def, {\n                                                                nodes: function (def) {\n                                                                    return $untag (def.$depends) } }) }; return def },\n\n        mergeExtendables: function (base) { return function (def) {\n\n                _.each (base.$definition, function (value, name) {\n                    if (value && value.$extendable) {\n                        def[name] = Tags.modify (                       value,\n                                        function (                      value) {\n                                                                        value =    _.extendedDeep (value, $untag (def[name] || {}))\n                                    _.each ($untag (def.$traits),\n                                                function (trait) { if (!trait) {    log.e (def.$traits)\n                                                                                    throw new Error ('invalid $traits value') }\n                                                      var traitVal = trait.$definition [name]\n                                                      if (traitVal) {   value =   _.extendedDeep ($untag (traitVal), value) } })\n                                                               return   value }) } }); \n               return def } },\n\n        mergeTraitsMembers: function (def, traits) { var pool = {}, bindables = {}, streams = {}\n\n            var macroTags = $untag (def.$macroTags)\n            var definitions = _.pluck (traits, '$definition').concat (_.clone (def))\n\n            _.each (definitions, function (traitDef) {\n                _.each ((macroTags && this.applyMacroTags (macroTags,\n                                                _.extend (_.clone (traitDef), {\n                                                    constructor: def.constructor }))) || traitDef,\n                    function (member, name) {\n                        if ($builtin.isNot (member) &&\n                            $builtin.isNot (def[name]) && (name !== 'constructor')) {\n\n                            if ($bindable.is (member))                  { bindables[name] = member }\n                            if (Component.isStreamDefinition (member))  {   streams[name] = member }\n                            (pool[name] || (pool[name] = [])).push (member);    def[name] = member } }) }, this)\n\n            def.__bindables     = bindables\n            def.__streams       = streams\n            def.__membersByName = pool },\n\n        mergeStreams: function (def) { var pool = def.__membersByName\n\n            _.each (def.__streams, function (stream, name) {\n\n                    var clonedStream = def[name] = Tags.clone (stream)\n                        clonedStream.listeners = []\n\n                    _.each (pool[name], function (member) {\n                                            if (member !== stream) {\n                                                clonedStream.listeners.push ($untag (member)) } }) }); return def },\n\n        mergeBindables: function (def) { var pool = def.__membersByName\n\n            _.each (def.__bindables, function (member, name) {\n                var bound = _.filter2 (_.bindable.hooks, function (hook, i) {\n                                                            var bound = pool[_.bindable.hooksShort[i] + name.capitalized]\n                                                            return bound ? [hook, bound] : false })\n\n                if (bound.length) { var hooks = {}\n\n                    _.each (bound, function (kv) {\n                        _.each (kv[1], function (fn) { fn = $untag (fn)\n                            if (_.isFunction (fn)) { var k = '_' + kv[0]; (hooks[k] || (hooks[k] = [])).push (fn) } }) })\n\n                    def[name] = $bindable ({ hooks: hooks }, Tags.clone (member)) } }, this)\n\n            return def } },\n\n\n    /*  Syntax helper\n     */\n    isStreamDefinition: $static (function (def) {\n        return _.isObject (def) && (\n            def.$trigger || def.$triggerOnce ||\n            def.$barrier || def.$observable || def.$observableProperty) }),\n    \n\n    /*  Another helper (it was needed because _.methods actually evaluate $property values while enumerating keys,\n        and it ruins most of application code, because it happens before Component is actually created).\n     */\n    mapMethods: function (/* [predicate, ] iterator */) { var iterator  = _.last (arguments),\n                                                               predicate = (arguments.length === 1 ? _.constant (true) : arguments[0])\n        var methods = []\n        for (var k in this) {\n            var def = this.constructor.$definition[k]\n            if (!(def && def.$property)) { var fn = this[k]\n                if (_.isFunction (fn) && !_.isPrototypeConstructor (fn) && predicate (def))  {\n                    this[k] = iterator.call (this, fn, k, def) || fn } } } },\n\n    enumMethods: function (_1, _2) {\n        if (arguments.length === 2) { this.mapMethods (_1, _2.returns (undefined)) }\n                               else { this.mapMethods (    _1.returns (undefined)) } },\n\n\n    /*  Thou shall not override this\n     */\n    constructor: $final (function (arg1, arg2) {\n\n        this.parent_ = undefined\n        this.children_ = []\n\n        var cfg                 = this.cfg = ((typeof arg1 === 'object') ? arg1 : {}),\n            componentDefinition = this.constructor.$definition\n\n\n        /*  Apply $defaults\n         */\n        if (this.constructor.$defaults) {\n            cfg = this.cfg = _.extend (_.cloneDeep (this.constructor.$defaults), cfg) }\n\n\n        /*  Add thiscall semantics to methods\n         */\n        this.mapMethods (function (fn, name, def) { if ((name !== '$') && (name !== 'init') && !(def && def.$raw)) { return this.$ (fn) } })\n\n\n        /*  Listen self destroy method\n         */\n        _.onBefore  (this, 'destroy', this._beforeDestroy)\n        _.onAfter   (this, 'destroy', this._afterDestroy)\n\n\n        var initialStreamListeners = []\n        var excludeFromCfg = { init: true }\n\n\n        /*  Expand macros\n            TODO: execute this substitution at $prototype code-gen level, not at instance level\n         */\n        _.each (componentDefinition, function (def, name) { if (def !== undefined) {\n\n            /*  Expand $observableProperty\n                TODO: rewrite with $prototype.macro\n             */\n            if (def.$observableProperty) {  var definitionValue = def.subject\n                                            var defaultValue = (name in cfg) ? cfg[name] : definitionValue\n                                            var streamName   = name + 'Change'\n\n                /*  xxxChange stream\n                 */\n                var observable           = excludeFromCfg[streamName] = this[streamName] = _.observable ()\n                    observable.context   = this\n                    observable.postpones = def.$postpones\n\n                /*  auto-coercion of incoming values to prototype instance\n                 */\n                if (_.isPrototypeInstance (definitionValue)) { var constructor = definitionValue.constructor\n                    observable.beforeWrite = function (value) {\n                        return constructor.isTypeOf (value) ? value : (new constructor (value)) } }\n\n                /*  tracking by reference\n                 */\n                if (def.$reference) {\n                    observable.trackReference = true }\n\n                /*  property\n                 */\n                _.defineProperty (this, name, {\n                        get: function ()  { return observable.value },\n                        set: function (x) { observable.write.call (this, x) } })\n\n                /*  Default listeners (come from traits)\n                 */\n                if (def.listeners) {\n                    _.each (def.listeners, function (value) {\n                        initialStreamListeners.push ([observable, value]) }) }\n\n                /*  Default listener which comes from $observableProperty (defValue, defListener) syntax\n                 */\n                if (_.isFunction (def.$observableProperty)) {\n                      initialStreamListeners.push ([observable, def.$observableProperty]) }\n\n                /*  write default value\n                 */\n                if (defaultValue !== undefined) {\n                    observable (defaultValue) } }\n\n            /*  Expand streams\n             */\n            else if (Component.isStreamDefinition (def)) {\n                var stream = excludeFromCfg[name] = this[name] = _.extend (\n                                (def.$trigger       ? _.trigger :\n                                (def.$triggerOnce   ? _.triggerOnce :\n                                (def.$observable    ? _.observable :\n                                (def.$barrier       ? _.barrier : undefined)))) (def.subject), { context: this, postpones: def.$postpones })\n\n                /*  tracking by reference\n                 */\n                if (def.$reference) {\n                    observable.trackReference = true }\n\n                if (def.listeners) {\n                    _.each (def.listeners, function (value) {\n                        initialStreamListeners.push ([stream, value]) }) }\n\n                /*  Default listener which comes from $observable (defValue, defListener) syntax\n                 */\n                if (_.isFunction (def.$observable)) {\n                      initialStreamListeners.push ([stream, def.$observable]) }\n\n                var defaultListener = cfg[name]                \n                if (defaultListener) {\n                    if (def.$observable && defaultListener.isObservable) { // two-way observable binding\n                        defaultListener.tie (stream) }\n                    else {\n                        initialStreamListeners.push ([stream, defaultListener]) } } }\n\n            /*  Expand $listener (TODO: REMOVE)\n             */\n            if (def.$listener) {\n                this[name].queuedBy = [] }\n\n            /*  Expand $interlocked\n             */\n            if (def.$interlocked) {\n                this[name] = _.interlocked (this[name]) }\n\n            /*  Expand $bindable\n             */\n            if (def.$bindable) {\n                this[name] = _.extend (_.bindable (this[name], this),\n                                       _.map2 (def.$bindable.hooks || {},\n                                       _.mapsWith (this.$.bind (this).arity1))) }\n            /*  Expand $debounce\n             */\n            if (def.$debounce) { var fn = this[name], opts = _.coerceToObject (def.$debounce)\n                this[name] = fn.debounced (opts.wait || 500, opts.immediate) }\n\n            /*  Expand $throttle\n             */\n            if (def.$throttle) { var fn = this[name], opts = _.coerceToObject (def.$throttle)\n                this[name] = _.throttle (fn, opts.wait || 500, opts) }\n\n            /*  Expand $memoize\n             */\n                 if (def.$memoize) {\n                this[name] = _.memoize (this[name]) }\n            else if (def.$memoizeCPS) {\n                this[name] = _.cps.memoize (this[name]) } } }, this)\n\n        /*  Add before/after stage to init\n         */\n        var init  = this.init\n                    this.init = this._beforeInit\n                                     .then (init\n                                     .then (this._afterInit)).bind (this)\n\n        /*  Apply cfg thing\n         */\n        _.each (cfg, function (value, name) {\n            if (!(name in excludeFromCfg)) {\n                this[name] = _.isFunction (value) ? this.$ (value) : value } }, this)\n\n\n        /*  Fixup aliases (they're now pointing to nothing probably, considering what we've done at this point)\n         */\n        _.each (componentDefinition, function (def, name) {\n            if (def && def.$alias && !def.$raw) {\n                this[name] = this[$untag (def)] } }, this)\n\n\n        /*  Check $overrideThis\n         */\n        /*_.each (componentDefinition, function (def, name) {\n            if (def.$overrideThis && this[name] === undefined) {\n                throw new Error (name + ' should be overriden') } })*/\n\n\n        /*  Check $requires (TODO: make human-readable error reporting)\n         */\n        if (_.hasAsserts) {\n            _.each (this.constructor.$requires, function (contract, name) {\n                $assertTypeMatches (_.fromPairs ([[name, this[name]]]),\n                                    _.fromPairs ([[name, contract]])) }, this) }\n\n\n        /*  Subscribe default listeners\n         */\n        _.each (initialStreamListeners, function (v) { v[0].call (this, v[1]) }, this)\n\n\n        /*  Call init (if not marked as deferred)\n         */\n        if (!(cfg.init === false || (this.constructor.$defaults && (this.constructor.$defaults.init === false)))) {\n            var result = this.init ()\n            if (result instanceof Promise) {\n                result.panic } } }),\n\n    /*  Arranges methods defined in $traits in chains and evals them\n     */\n    callChainMethod: function (name) { var self = this\n        return __.seq (\n                _.filter2 (this.constructor.$traits || [], function (Trait) {\n                                                            var method = Trait.prototype[name]\n                                                            return (method && method.bind (self)) || false })) },\n\n    /*  Lifecycle\n     */\n    _beforeInit: function () {\n        if (this.initialized.already) {\n            throw new Error ('Component: I am already initialized. Probably you\\'re doing it wrong.') }\n\n        return this.callChainMethod ('beforeInit') },\n\n    init: function () { /* return Promise for asynchronous init */ },\n\n    _afterInit: function () { var cfg  = this.cfg,\n                                  self = this\n\n        return __.then (this.callChainMethod.$ ('afterInit'), function () {\n\n                        self.initialized (true)\n                        self.alive (true)\n\n                        /*  Bind default property listeners. Doing this after init, because property listeners\n                            get called immediately after bind (observable semantics), and we're want to make\n                            sure that component is initialized at the moment of call.\n\n                            We do not do this for other streams, as their execution is up to component logic,\n                            and they're might get called at init, so their default values get bound before init.\n                         */\n                        _.each (self.constructor.$definition, function (def, name) {\n                            if (def && def.$observableProperty) {            name += 'Change'\n                                var defaultListener = cfg[name]\n                                if (defaultListener) {\n                                    self[name] (defaultListener) } } })\n\n                        return true }) },\n    \n    initialized: $barrier (),\n    alive:       $observable (false),\n\n    _beforeDestroy: function () {\n        if (this.destroyed_) {\n            throw new Error ('Component: I am already destroyed. Probably you\\'re doing it wrong.') }\n        if (this.destroying_) {\n            throw new Error ('Component: Recursive destroy() call detected. Probably you\\'re doing it wrong.') }\n            this.destroying_ = true\n\n        _.each (this.constructor.$traits, function (Trait) {\n            if (Trait.prototype.beforeDestroy) {\n                Trait.prototype.beforeDestroy.call (this) } }, this)\n\n        this.alive (false)\n\n        /*  Unbind streams\n         */\n        this.enumMethods (_.off.arity1)\n\n        /*  Destroy children\n         */\n        _.each (this.children_, _.method ('destroy'))\n                this.children_ = [] },\n\n    destroy: function () {},\n\n    _afterDestroy: function () {\n\n        _.each (this.constructor.$traits, function (Trait) {\n            if (Trait.prototype.destroy) {\n                Trait.prototype.destroy.call (this) }\n            if (Trait.prototype.afterDestroy) {\n                Trait.prototype.afterDestroy.call (this) } }, this)\n\n        delete this.destroying_\n        this.parent_ = undefined\n        this.destroyed_ = true },\n\n\n    /*  Parent manip.\n     */ \n    attachedTo: $property (function () {\n                            return this.parent_ }),\n\n    attachTo: function (p) {\n                    if (p === this) {\n                        throw new Error ('smells like time-travel paradox.. how else can I be parent of myself?') }\n\n                    if (this.parent_ !== p) {\n                        if ((this.parent_) !== undefined) {\n                            this.parent_.children_.remove (this) }\n                            \n                        if ((this.parent_ = p) !== undefined) {\n                            this.parent_.children_.push (this) }} return this },\n\n    detach: function () {\n                return this.attachTo (undefined) },\n\n    /*  Child manip.\n     */\n    attached: $property (function () {\n                            return this.children_ }),\n\n    attach: function (c) {\n                _.invoke (_.coerceToArray (c), 'attachTo', this); return this },\n\n    detachAll: function () {\n                    _.each (this.children_, function (c) { c.parent_ = undefined })\n                            this.children_ = []\n                            return this },\n\n    destroyAll: function () {\n                    _.each (this.children_, function (c) { c.parent_ = undefined; c.destroy () })\n                            this.children_ = []\n                            return this } })\n\n\n\n// WEBPACK FOOTER //\n// ./base/component.js","\"use strict\";\n\n/*  Unit test / documentation / specification / how-to.\n    ======================================================================== */\n\n_.tests.concurrency = {\n\n    'scope': function (testDone) { var releases = [],\n                                       acquires = [],\n                                       count    = 10\n\n        var method = $scope (function (release, id, then) {           acquires.push (id)\n                        _.delay (function () { release (function () { releases.push (id)\n                                                            if (then)\n                                                                then () }) }, 10) })\n\n        method (42, function /* released */ () {\n            $assert (count + 1, acquires.length, releases.length)\n            $assert (acquires, releases.reversed)\n            testDone () })\n\n        _.times (count, function () { method (_.random (1000)) }) },\n\n    'interlocked': function () { var isNowRunning = false\n\n        var op = _.interlocked (function (item, i) { $assert (         !isNowRunning)\n                                                                        isNowRunning = true\n                    return __.delay (_.random (2)).then (function () { isNowRunning = false }) })\n\n        return __.scatter (_.times (15, String.randomHex), op, { maxConcurrency: 10 }) } }\n\n\n/*  Mutex/lock (now supports stand-alone operation, and it's re-usable).\n */\n$global.Lock = class {\n\n    acquire (then) {\n        this.wait (() => {\n            if (!this.waitQueue) {\n                 this.waitQueue = [] }\n            then () }) }\n\n    acquired () {\n        return this.waitQueue !== undefined }\n\n    wait (then) {\n        if (this.acquired ()) {     \n            this.waitQueue.push (then) }\n        else {\n            then () }}\n\n    release () {\n        if (this.waitQueue.length) {\n            var queueFirst = this.waitQueue[0]\n            this.waitQueue = this.waitQueue.slice (1)\n            queueFirst () }\n        else\n            delete this.waitQueue } }\n\n_.interlocked = function (fn) { var lock = new Lock (),\n                                    fn   = $untag (fn)\n    return _.extendWith ({\n                lock: lock,\n                wait: lock.wait.bind (lock) }, function (...args) {\n                                                return new Promise (resolve => {\n                                                                        lock.acquire (() => {\n                                                                            __.then (fn.apply (this, args),\n                                                                                     x => { lock.release (); resolve (x) }) }) }) }) }\n/*  EXPERIMENTAL (TBD)\n */\n$global.$scope = function (fn) { var releaseStack = undefined\n                                                    \n    return _.argumentPrependingWrapper (Tags.unwrap (fn),\n\n            function /* acquire */ (fn) {\n\n                            var released     = { when: undefined };\n                               (releaseStack = (releaseStack || [])).push (released)\n\n                    fn (function /* release */ (then) { if (released.when) throw new Error ('$scope: release called twice')\n                                                            released.when = then\n                        while (releaseStack &&\n                               releaseStack.last &&\n                               releaseStack.last.when) { var trigger =  releaseStack.last.when\n                                                                   if ((releaseStack = _.initial (releaseStack)).isEmpty) {\n                                                                        releaseStack = undefined }\n                                                             trigger () } }) }) }\n\n\n\n// WEBPACK FOOTER //\n// ./base/concurrency.js","\"use strict\";\n\n/*  Interceptable/observable methods\n    ======================================================================== */\n\n\n/*  TODO: rewrite test\n */\n_.deferTest ('bindable', function () {\n\n    /*  Test subject\n     */\n    var obj = {\n        plusOne: function (x) {\n            return x + 1 },\n\n        innocentMethod: function (x) {\n            return x } }\n\n    $assertEveryCalled (function (before__1, after__1, intercept__2, secondIntercept__1, bindable__1, infixBefore__1) {\n\n        /*  That's how you observe method calls\n         */\n        _.onBefore (obj, 'plusOne', function (x)            { before__1 (); $assert (x === 7) })\n        _.onAfter  (obj, 'plusOne', function (x, result)    { after__1 (); $assert ([x, result], [7, 8]) })\n\n        $assert (obj.plusOne (7), 8)\n\n        /*  That's how you intercept method calls\n         */\n        _.intercept (obj, 'innocentMethod', function (x, method) {\n            intercept__2 ()\n            return method (x + 1) * 2 })\n\n        $assert (obj.innocentMethod (42), (42 + 1) * 2) \n\n        /*  Consequent interceptors wrap-up previous ones\n         */\n        _.intercept (obj, 'innocentMethod', function (x, method) {\n            secondIntercept__1 ()\n            $assert (method (x), (42 + 1) * 2) \n            return 'hard boiled shit' })\n\n        $assert (obj.innocentMethod (42), 'hard boiled shit')\n\n        /*  Test infix calls\n         */\n        var method = _.bindable (function (x) { bindable__1 (); $assert (x === 42) })\n            method.onBefore (function (x) { infixBefore__1 (); $assert (x === 42) })\n            method (42) })\n\n    /*  Test 'once' semantics\n     */\n    var obj2 = { plusOne: function (x) { return x + 1 } }\n\n    $assertEveryCalledOnce (function (beforeCalled, afterCalled) {\n\n        var before = function (x) { beforeCalled (); $assert (x === 7) }\n        var after  = function (x, result) { afterCalled ();  $assert ([x, result], [7, 8]) }\n\n        _.times (2, function () {\n            _.onceBefore (obj, 'plusOne', before)\n            _.onceAfter  (obj, 'plusOne', after) })\n\n        $assert (obj.plusOne (7), 8)\n        $assert (obj.plusOne (7), 8) })\n\n    /*  Test unbinding\n     */\n    $assertEveryCalled (function (afterCalled__1, shouldNotCall__0) {\n                                var method = _.bindable (function () {})\n\n                                    /*  Unbind specific delegate\n                                     */\n                                    method.onBefore (shouldNotCall__0)\n                                    method.onAfter (afterCalled__1)\n                                    method.off (shouldNotCall__0)\n                                    method ()\n\n                                    /*  Unbind everything\n                                     */\n                                    method.onBefore (shouldNotCall__0)\n                                    method.onAfter (shouldNotCall__0)\n                                    method.off ()\n                                    method () })\n\n}, function () {\n\n    /*  Internal impl\n     */\n    var hooks      = ['onceBefore', 'onceAfter', 'onBefore', 'onAfter', 'intercept']\n    var hooksShort = ['onceBefore', 'onceAfter', 'before', 'after', 'intercept']\n\n    var copyHooks = function (from, to) {\n        _.extend (to, _.map2 (_.pick (from, hooks), _.clone)) }\n\n    var makeBindable = function (obj, targetMethod) { var method = obj[targetMethod]\n                            return _.isBindable (method) ? method : (obj[targetMethod] = _.bindable (method)) }\n\n    var hookProc = function (name) {\n                        return function (obj, targetMethod, delegate) {\n                               var bindable = makeBindable (obj, targetMethod)\n                            return bindable[name].call (bindable, delegate) } }\n\n    var mixin = function (method, context) { if (typeof method !== 'function') { throw new Error ('method should be a function') }\n\n                    return _.extend ({}, method, {\n\n                                    _bindable: true,\n                                         impl: method,\n                                     _wrapped: method,\n                                      context: context,\n                                          off: function (delegate) {\n                                                    _.each (hooks, function (hook) {\n                                                        if (delegate) { this['_' + hook].remove (delegate) }\n                                                                 else { this['_' + hook].removeAll () } }, this); return this } },\n\n                                /*  .onBefore, .onAfter, .intercept (API methods)\n                                 */\n                                _.fromPairs (_.map (hooks, function (name) { var queueName = ('_' + name)\n                                                                             var once      = (name.indexOf ('once') >= 0)\n\n                                                            return [name, function (fn) {\n                                                                            if (!_.isBindable (this)) {\n                                                                                throw new Error ('wrong this') }\n\n                                                                            var queue = this[queueName]\n                                                                            if (!once || queue.indexOf (fn) < 0) {\n                                                                                this[queueName].push (fn) }\n\n                                                                            return this }] })),\n\n                                /*  ._onBefore, ._onAfter, ._intercept (queues)\n                                 */\n                                _.fromPairs (_.map (hooks, function (name) {\n                                                            return ['_' + name, []] }))) }\n\n    /*  Public API\n     */\n    _.extend (_, _.mapValues (_.invert (hooks), hookProc.flip2), {\n\n        unbind: function (obj, targetMethod, delegate) {\n                var method = obj[targetMethod]\n                if (method &&\n                    method.off) {\n                    method.off (delegate) } },\n\n        isBindable: function (fn) {\n            return (fn && fn._bindable) ? true : false },\n\n        bindable: _.extendWith ({ hooks: hooks, hooksShort: hooksShort }, function (method, context) {\n\n            return _.withSameArgs (method, _.extendWith (mixin (method, context), function wrapper (...args) {   \n\n                var onceBefore  = wrapper._onceBefore\n                var onceAfter   = wrapper._onceAfter\n                var before      = wrapper._onBefore\n                var after       = wrapper._onAfter\n                var intercept   = wrapper._intercept\n                var this_       = context || this\n                var i, ni       = undefined\n\n                /*  Call onceBefore\n                 */\n                if (onceBefore.length) {\n                    for (i = 0, ni = onceBefore.length; i < ni; i++) {\n                        onceBefore[i].apply (this_, args) }\n                    onceBefore.removeAll () }\n\n                /*  Call before\n                 */\n                for (i = 0, ni = before.length; i < ni; i++) {\n                    before[i].apply (this_, args) }\n\n                /*  Call intercept\n                 */\n                var result = (intercept.length ? _.cps.compose ([method].concat (intercept)) : method).apply (this_, args) // @hide\n\n                if (after.length || onceAfter.length) { var newArgs = args.concat (result)\n\n                    /*  Call after\n                     */\n                    for (i = 0, ni = after.length; i < ni; i++) {\n                        after[i].apply (this_, newArgs) }\n\n                    /*  Call onceAfter\n                     */\n                    if (onceAfter.length) { var arr = onceAfter.copy\n                                                      onceAfter.removeAll ()\n                        for (i = 0, ni = arr.length; i < ni; i++) {\n                            arr[i].apply (this_, newArgs) } } }\n\n                return result } )) }) }) })\n\n\n\n// WEBPACK FOOTER //\n// ./base/dynamic/bindable.js","\"use strict\";\n\n/*  Generic functional primitives for dynamic code binding\n    ======================================================================== */\n\n_.tests.stream = {\n\n    'triggerOnce': function () { $assertEveryCalledOnce (function (mkay) {\n                                    var t = _.triggerOnce ()\n                                    var f = function (_321) { $assert (_321 === 321); mkay () }\n                                     t (f)\n                                     t (f)\n                                     t (321)\n                                     t (123) }) },\n\n    'observable': function () {\n\n        /*  Should accept value as constructor, it should be accessible by .value property\n         */\n        var initedWithValue = _.observable (555)\n        $assert (initedWithValue.value, 555)\n\n        /*  Should call with current value when upon binding\n         */\n        $assertEveryCalledOnce (function (mkay) { var valueChanged = _.observable ()\n            valueChanged (999)\n            valueChanged (function (_999) { $assert (_999, 999); mkay () }) })\n\n        /*  Should call previously bound callback if changed\n         */\n        $assertEveryCalled (function (mkay__3) { var valueChanged = _.observable ()\n            valueChanged (mkay__3)\n            valueChanged (123)\n            valueChanged (345)\n            valueChanged (567) })\n\n        /*  Should pass last distinct value as argument to callbacks, not calling if its not changed\n         */\n        $assertEveryCalledOnce (function (mkay) { var valueChanged = _.observable ()\n            valueChanged (function (_111) {\n                            $assert (111, _111)\n                            mkay () })\n            valueChanged (111)\n            valueChanged (111) })\n\n        /*  Should pass previous value as second argument\n         */\n        $assertEveryCalledOnce (function (mkay) { var valueChanged = _.observable (444)\n            valueChanged (function (_666, _444) { if (_444) { $assert ([_666, _444], [666, 444]); mkay () } })\n            valueChanged (666) }) },\n\n    'observable.when': function () {\n\n        $assertEveryCalledOnce (function (mkay) {\n            var value = _.observable (234)\n                value.when (          234, function () { mkay () }) }) // passing constant should work\n\n        $assertEveryCalledOnce (function (mkay) {\n            var value = _.observable ()\n                value.when (_.equals (432), function () { mkay () })\n                value (432)\n                value (234) })\n\n        $assertNotCalled (function (mkay) {\n            var value = _.observable ()\n                value.when (_.equals (432), function () { mkay () })\n                value (7) }) },\n\n    'once': function () { $assertEveryCalledOnce (function (mkay) {\n\n        var whenSomething = _.trigger ()\n            whenSomething.once (mkay)\n            whenSomething.once (mkay)\n            whenSomething ()\n            whenSomething () }) },\n\n    '_.gatherChanges': function () {\n\n        var valueA   = _.observable (),\n            valueB   = _.observable (),\n            changes  = []\n\n        _.gatherChanges (valueA, valueB, function (a, b) {\n            changes.push ([a, b]) })\n\n        valueA (123)\n        valueB (777)\n\n        $assert (changes, [[123, undefined], [123, 777]]) },\n\n    'context': function () {\n        var trigger = _.extend (_.trigger (), { context: 42 })\n\n        trigger (function () { $assert (this, 42) })\n        trigger () },\n\n    '_.off (bound)': function () {  var react = function () { $fail }\n                                    var act = _.trigger (react)\n        _.off (react)\n        act () },\n\n    '_.off (stream)': function () { var fail = function () { $fail }\n                                    var act = _.trigger (fail)\n        _.off (act)\n        act () },\n\n    '_.barrier (defaultListener)': function () {\n        $assertEveryCalled (function (mkay) {\n             _.barrier (function () { mkay () }) () }) },\n\n    /*  Need to rewrite it for clariy\n     */\n    'all shit': function () {\n\n        var obj = {\n            somethingReady: _.barrier (),\n            whenSomething:  _.trigger () }\n\n\n        /*  Test conventional semantics (1:1 multicast)\n         */\n        $assertEveryCalled (function (mkay1__2, mkay2__2) {\n\n            obj.whenSomething (mkay1__2)                // that's how you bind\n            obj.whenSomething (mkay2__2)\n\n            obj.whenSomething ()                        // that's how you trigger it\n            obj.whenSomething ()     })                      \n\n\n        /*  Test unbinding\n         */\n        $assertEveryCalledOnce (function (shouldCall) {\n\n            var whenSomething = _.trigger ()\n\n            var shouldBeCalled    = function () { shouldCall () },\n                shouldNotBeCalled = function () { $fail }\n\n            whenSomething (shouldBeCalled)\n            whenSomething (shouldNotBeCalled)\n            whenSomething.off (shouldNotBeCalled) // that's how you unbind specific listeners\n            whenSomething () })\n\n\n        /*  Test 'barrier' semantics + test argument passing\n         */\n        $assertEveryCalledOnce (function (mkay1, mkay2) {\n\n            obj.somethingReady (function (x) {\n                $assert (x === 'foo')               // you may pass arguments to callbacks\n                obj.somethingReady (x)              // should not call anything\n                mkay1 () })\n\n            obj.somethingReady (function (x) {\n                $assert (x === 'foo')\n                mkay2 () })\n\n            obj.somethingReady ('foo') })   // that's how you trigger it (may pass arguments)\n        obj.somethingReady ('bar')          // should not call anything\n\n\n        /*  Test _.allTriggered\n         */\n        var t1 = _.triggerOnce (), t2 = _.triggerOnce (),       // test pair1\n            t3 = _.triggerOnce (), t4 = _.triggerOnce ()        // test pair2\n\n        _.allTriggered ([t1, t2], function () { $fail }); t1 ()     // pair1: should not cause _.allTriggered to trigger\n\n        $assertEveryCalledOnce (function (mkay) {\n            _.allTriggered ([t3, t4], mkay); t3 (); t4 () })        // pair2: should trigger _.allTriggered\n    },\n\n    'call order consistency': function (done) {\n\n        var abc = ''\n        var put = function (x) { return _.barrier (function () { abc += x }) }\n        var a = put ('a'),\n            b = put ('b'),\n            c = put ('c')\n\n        var barr = _.barrier ()\n            barr (a) (function () { barr.postpones = true; barr (c); barr.postpones = false }) (b) // C is bound after B, so it should be executed after B\n            barr (true)\n\n        _.allTriggered ([a,b,c], function () { $assert (abc, 'abc'); done () })\n    },\n\n    '_.barrier reset': function () {\n        var b = _.barrier ()\n\n        b ('not_42')\n        b.reset ()\n\n        $assertEveryCalledOnce (function (mkay) {\n            b (function (value) { mkay (); $assert (value, 42) })\n            b (42) }) },\n\n    '_.barrier (value)': function () { $assertEveryCalledOnce (function (mkay) {\n             var willBe42 = _.barrier (42)\n        $assert (willBe42.already)\n                 willBe42 (function (_42) { $assert (_42, 42); mkay () }) }) },\n\n    'observable.item': function () {\n\n        var items = _.observable ({ foo: 7, bar: 8 })\n        var foo = items.item ('foo')\n        var bar = items.item ('bar')\n\n        $assert (foo, items.item ('foo')) // should be same cached observable\n        $assert (foo.value, 7)\n        $assert (bar.value, 8)\n\n        foo (77)\n\n        $assert (foo.value, 77)\n        $assert (items.value, { foo: 77, bar: 8 })\n\n        items ({ bar: 88 })\n\n        $assert (foo.value, undefined)\n        $assert (bar.value, 88)\n        $assert (items.value, { bar: 88 })\n    }\n}\n\n_.extend (_, {\n\n    gatherChanges: function (...args) {\n\n        var observables = _.isArray (args[0]) ? args[0] : _.initial (args)\n        var accept      = _.last (args)\n        var gather      =   function (value) {\n                                accept.apply (this, _.pluck (observables, 'value')) }\n\n        _.each (observables, function (read) {\n            read (gather) }) },\n\n    allTriggered: function (triggers, then) {\n                        var triggered = []\n                        if (triggers.length > 0) {\n                            _.each (triggers, function (t) {\n                                t (function () {\n                                    triggered = _.union (triggered, [t])\n                                    if (then && (triggered.length === triggers.length)) {\n                                        then ()\n                                        then = undefined } }) }) }\n                        else {\n                            then () } },\n\n    observableRef: function (...args) {\n        return _.extend (_.observable.apply (this, args), { trackReference: true }) },\n\n    observable: function (...args) { const value = args[0]\n        var stream = _.stream ({\n\n                        isObservable: true,\n                        hasValue:     args.length > 0,\n                        value:      _.isFunction (value) ? undefined : value,\n\n                        read: function (schedule) {\n                                return function (returnResult) {\n                                    if (stream.hasValue) {\n                                        returnResult.call (this, stream.value) }\n                                    schedule.call (this, returnResult) } },\n\n                        write: function (returnResult) {\n                                    return function (value) {\n\n                                        if (stream.beforeWrite) {\n                                            value = stream.beforeWrite (value) }\n\n                                        if (!stream.hasValue ||\n                                            !(stream.trackReference ?\n                                                (stream.value === value) :\n                                                _.isEqual (stream.value, value))) {\n\n                                            var prevValue = stream.value\n                                            var hadValue = stream.hasValue\n\n                                            stream.hasValue = true\n                                            stream.value = value\n\n                                            if (hadValue) {\n                                                returnResult.call (this, false /* flush */, stream.value, prevValue) }\n                                            else {\n                                                returnResult.call (this, false /* flush */, stream.value) } } } } })\n\n        if (args.length) {\n            stream.apply (this, args) }\n\n        return _.extend (stream, {\n\n            force: function (value) {\n                stream.hasValue = false\n                stream (value || stream.value) },\n\n            then: function (fn) {\n                        var next = _.observable ()\n                            next.beforeWrite = fn\n                        stream (function (x) { next.write (x) })\n                        return next },\n\n            toggle: function () {\n                        return stream (!stream.value) },\n\n            tie: function (other) {\n\n                stream (other)\n                 other (stream)\n\n                return stream },\n\n            item: function (id) {\n\n                var all = stream.itemObservables || (stream.itemObservables = {})\n                var item = all[id]\n                if (!item) { item = all[id] = _.observable ((stream.value && stream.value)[id])\n\n                    item (function (x) {\n                        var oldValue = (stream.value && stream.value[x])\n                        if (oldValue !== x) {\n                            (stream.value || (stream.value = {}))[id] = x\n                            stream.force () } })\n\n                    stream (function (items) {\n                        item.write (items[id]) }) }\n\n                return item\n            },\n\n            when: function (match, then) { var matchFn       = _.isFunction (match) ? match : _.equals (match),\n                                               alreadyCalled = false\n                stream (function callee (...args) {\n                    if (matchFn (args[0])) {\n                        if (!alreadyCalled) {\n                             alreadyCalled = true\n                             stream.off (callee)\n                             then.apply (this, args) }\n                        else { \n                            /* log.w ('WTF') */ } } }) } }) },\n\n\n    barrier: function (defaultValue) { var defaultListener = undefined\n\n        if (_.isFunction (defaultValue)) {\n            defaultListener = defaultValue\n            defaultValue = undefined }\n\n        var barrier = _.stream ({\n                    already: defaultValue !== undefined,\n                    value: defaultValue,\n\n                    reset: function () {\n                        barrier.already = false\n                        delete barrier.value },\n\n                    write: function (returnResult) {\n                                return function (value) {\n                                    if (!barrier.already) {\n                                        barrier.already = true\n                                        barrier.value = value }\n                                    \n                                    returnResult.call (this, true /* flush schedule */, barrier.value) } },\n\n                    read: function (schedule) {\n                                return function (returnResult) {\n                                    if (barrier.already) {\n                                        ((barrier.postpones || barrier.commitingReads) ? // solves problem outlined in 'call order consistency' test\n                                            returnResult.postponed :\n                                            returnResult).call (this, barrier.value) }\n                                    else {\n                                        schedule.call (this, returnResult) } } } })\n\n        if (defaultListener) {\n            barrier (defaultListener) }\n\n        _.defineProperty (barrier, 'promise', function () {\n                                                    return new Promise (function (resolve) { barrier (resolve) }) })\n\n        return barrier },\n\n\n    triggerOnce: $restArg (function (...args) {\n                var stream = _.stream ({\n                                read: function (schedule) {\n                                            return function (listener) {\n                                                if (stream.queue.indexOf (listener) < 0) {\n                                                    schedule.call (this, listener) } } },\n                                write: function (writes) {\n                                    return writes.partial (true) } }).apply (this, args); return stream }),\n\n    trigger: $restArg (function (...args) {\n                return _.stream ({\n                            read: _.identity,\n                            write: function (writes) {\n                                return writes.partial (false) } }).apply (this, args) }),\n\n    off: function (...args) { const fn = args[0], what = args[1]\n\n        if (fn.queue) {\n            if (args.length === 1) { fn.queue.off ()     }\n            else                   { fn.queue.off (what) } }\n        if (fn.queuedBy) {\n            _.each (fn.queuedBy, function (queue) { queue.remove (fn) })\n             delete fn.queuedBy } },\n\n    stream: function (cfg_) {\n\n                var cfg         = cfg_ || {}\n                var queue       = _.extend ([], { off: function (...args) { const fn = args[0]\n\n                                                    if (this.length) {\n                                                        if (args.length === 0) {\n                                                            _.each (this, function (fn) {\n                                                                fn.queuedBy.remove (this) }, this)\n                                                            this.removeAll () }\n                                                        else {\n                                                            if (fn.queuedBy) {\n                                                                fn.queuedBy.remove (this)\n                                                                this.remove (fn) } } } } })\n\n                var self = undefined\n\n                var scheduleRead = function (fn) {\n                    if (queue.indexOf (fn) < 0) {\n                        if (fn.queuedBy) {\n                            fn.queuedBy.push (queue) }\n                        else {\n                            fn.queuedBy = [queue] }\n                        queue.push (fn) } }\n\n                var commitPendingReads = function (flush, ...args) {\n                    var context     = self.context || this,\n                        schedule    = queue.copy\n\n                    if (flush) {\n                        queue.off () }\n\n                    self.commitingReads = true\n\n                    for (var i = 0, n = schedule.length; i < n; i++) {\n                        (self.postpones ? schedule[i].postponed : schedule[i]).apply (context, args) }\n\n                    delete self.commitingReads }\n\n                var write = cfg.write (commitPendingReads)\n                var read  = cfg.read (scheduleRead)\n\n                /*  I/O API (two-way)\n                 */\n                var frontEnd  = function (...args) { const fn = args[0]\n\n                                    if (_.isFunction (fn)) {\n                                        read.call (this, fn) }\n\n                                    else {\n                                        write.apply (this, args) }\n\n                                    return frontEnd }\n\n                /*  Once semantics\n                 */\n                var once = function (then) {\n                                if (!_.find (queue, function (f) { return f.onceWrapped_ === then })) {\n                                    read (_.extend (function callee (v) { _.off (self, callee); then (v) }, { onceWrapped_: then })) } }\n\n                /*  Constructor\n                 */\n                return (self = _.extend ($restArg (frontEnd), cfg, {\n                    queue:    queue,\n                    once:     once,\n                    off:    _.off.asMethod,\n                    read:     read,\n                    write:    write,\n                    postpone: (...args) => { this.postponed.apply (self.context, args) } })) } })\n\n\n/*  Observable.map (experimental)\n    ======================================================================== */\n\n_.deferTest (['stream', 'observable.map'], function () {\n\n/*  General semantics   */\n\n    var foo = _.observable ('foo'),\n        bar = _.observable ('bar')\n\n    var fooBar = _.observable.map ([foo, bar], _.appends ('42'))\n\n    var results = []\n\n    fooBar (function (value) {\n        results.push (value.copy) })\n\n    $assert (results, [['foo42', 'bar42']])\n\n    foo ('qux')\n    bar ('zap')\n\n    $assert (results, [['foo42', 'bar42'],\n                       ['qux42', 'bar42'],\n                       ['qux42', 'zap42']])\n\n\n/*  Works over objects  */\n\n    _.observable.map ({ 'foo': _.observable ('bar') }) (function (obj) {\n                                                            $assert ({ 'foo': 'bar' }, obj) })\n\n}, function () {\n\n    _.observable.map = function (obj, fn) { fn = fn || _.identity\n\n        var value = _.isArray (obj) ? new Array (obj.length) : {}\n        var result = _.observable (value)\n\n        _.each (obj, function (read, i) {\n                        read (function (x) {\n                                value[i] = fn (x, i); result.force (value) }) })\n\n        return result\n    }\n\n    _.observable.all = _.observable.map\n\n})\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/dynamic/stream.js","\"use strict\";\n\n/*  ------------------------------------------------------------------------ */\n\nconst O = Object\n\n/*  ------------------------------------------------------------------------ */\n\n$global.Http = $singleton (Component, {\n\n/*  You can re-use the HttpMethods trait to build API-specific layers over Http */\n\n    $traits: [$global.HttpMethods = $trait ({\n\n                get (path, cfg) {\n                    return this.request ('GET',  path, cfg) },\n\n                post (path, cfg) {\n                    return this.request ('POST', path, cfg) },\n\n                loadFile (path, cfg) {\n                    return this.request ('GET', path, { responseType: 'arraybuffer' }) },\n\n                uploadFile (path, file, cfg) {\n                    return this.post (path, _.extend2 ({\n                        data: file,\n                        headers: {\n                            'Content-Type': 'binary/octet-stream',\n                            'X-File-Name': Parse.fileName (file.name || 'file').transliterate || 'file',\n                            'X-File-Size': file.size,\n                            'X-File-Type': file.type } }, cfg)) } }) ],\n\n    request (type, path, cfg_) { const cfg = cfg_ || {}\n                                           \n            /*  Reference to the abort method (will be initialized at Promise construction) */\n\n                let abort = undefined\n\n            /*  returned Promise     */\n\n                const p = new Promise ((resolve, reject) => {\n\n                    if ($platform.Browser) {\n\n                        var prePath = (cfg.protocol || cfg.hostname || cfg.port) ?\n                                     ((cfg.protocol || window.location.protocol) + '//' +\n                                      (cfg.hostname || window.location.hostname) + ':' +\n                                      (cfg.port     || window.location.port)) : ''\n\n                        /*  Init XMLHttpRequest\n                         */\n                        var xhr = new XMLHttpRequest ()\n                            xhr.open (type, prePath + path, true)\n\n                        /*  Set to 'arraybuffer' to receive binary data\n                         */\n                        if (cfg.responseType)\n                            xhr.responseType = cfg.responseType\n\n                        /*  Set headers\n                         */\n                        _.each (cfg.headers, (value, key) => {\n                            xhr.setRequestHeader (key, value) })\n\n                        /*  Bind events\n                         */\n                        if (cfg.progress) {\n                            xhr.onprogress = Http.progressCallbackWithSimulation (cfg.progress) }\n\n                            xhr.onreadystatechange = () => {\n\n                                if (xhr.readyState === 4) {\n                                    if (cfg.progress) {\n                                        cfg.progress (1) }\n\n                                    const response = (xhr.responseType === 'arraybuffer')\n                                                        ? xhr.response\n                                                        : xhr.responseText\n\n                                    if (xhr.status === 200) { resolve (response) }\n                                                       else { reject  (_.extend (new Error (xhr.statusText), {\n                                                                                        httpResponse: response,\n                                                                                        httpStatus: xhr.status })) } } }\n                        /*  Set up the abort method\n                         */\n                        abort = () => {\n                                    xhr.abort ()\n                                    reject ('aborted') }\n\n                        /*  Send\n                         */\n                        if (cfg.data) { xhr.send (cfg.data) }\n                                 else { xhr.send () } }\n\n                    else {\n                        reject ('not implemented') } })\n\n                /*  Add abort method to the returned Promise\n                 */\n                return _.extend (p, { abort: abort }) },\n\n    progressCallbackWithSimulation (progress) { let simulated = 0\n\n                                                progress (0)\n        return e => { if (e.lengthComputable) { progress (e.loaded / e.total) }\n                                         else { progress (simulated = ((simulated += 0.1) > 1) ? 0 : simulated) } } },\n})\n\n/*  An example of custom API layer over Http:\n\n    1.  Converts request I/O to JSON\n    2.  Interprets { success: true/false, value: ... } semantics\n    3.  Adds cross-machine exception throwing\n    \n    ------------------------------------------------------------------------ */\n\n$global.JSONAPI = $singleton (Component, {\n\n    $traits: [HttpMethods],\n\n    request (type, path, cfg_) {\n\n                const cfg = _.extend2 ({ headers: {\n                                            'Cache-Control': 'no-cache',\n                                            'Content-Type' : 'application/json; charset=utf-8' } }, cfg_)\n\n                if (cfg.what) {\n                    cfg.data = JSON.stringify (cfg.what) }\n\n                const stackBeforeCall = _.hasReflection && (new StackTracey ()) // @hide \n\n                return Http\n                        .request (type, '/api/' + path, cfg)\n                        .finally ((e, response) => {\n\n                            if (response) {\n                                return JSON.parse (response) }\n\n                            else if (e) {\n                                if (e.httpResponse) {\n                                    return JSON.parse (e.httpResponse) }\n                                else {\n                                    throw e } }\n\n                            else {\n                                throw new Error ('empty response') } })\n\n                        .then (response => {\n\n                            if (response.success) {\n                                return response.value }\n\n                            else {\n\n                                if (response.parsedStack) {\n\n                                    const fieldName = (typeof Symbol !== 'undefined') ? Symbol.for ('StackTracey') : '__StackTracey'\n                                    const joinedStack = response.parsedStack\n                                                         .map (e => O.assign (e, { file: '/api/source/' + e.file }))\n                                                         .concat (stackBeforeCall || [])\n\n                                    throw O.assign (new Error ('SERVER: ' + response.error), {\n                                        remote: true,\n                                        [fieldName]: joinedStack\n                                    })\n                                }\n\n                                else {\n                                    throw new Error (response.error) } } })\n    }\n})\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/http.js","\"use strict\";\n\n/*  Array extensions\n    ======================================================================== */\n\n_.withTest ('Array extensions', function () {\n\n    var arr = [1,3,2,3,3,4,3]\n\n    $assert ([arr.first, arr.second, arr.top, arr.last], [1, 3, 3, 3])\n    $assert (arr.rest, [3,2,3,3,4,3])\n\n    $assert (arr.take (4), [1,3,2,3])\n\n    $assert ([arr.contains (4), arr.contains (9)], [true, false])\n\n    $assert (arr.lastIndex, 6)\n\n    $assert (arr.copy, arr)\n    $assert (arr.copy !== arr)\n\n    $assert (arr.remove (3), [1,2,4]) // it is fast\n    $assert (arr,            [1,2,4]) // and mutates original (thats why fast)\n                                      // for immutable version, use underscore's _.without\n\n    $assert (arr.removeAll (),   [])\n    $assert (arr,                [])\n\n    $assert (['a','b','c'].removeAt (1),    ['a','c'])      // NOTE: mutates original\n    $assert (['a','c'].insertAt ('b', 1),   ['a','b','c'])  // NOTE: mutates original\n\n    $assert ([0,1,2].itemAtWrappedIndex (4) === 1)\n\n             arr =         [1,2,3]\n    $assert (arr.reversed, [3,2,1])\n    $assert (arr,          [1,2,3]) // does not mutate original (in contrary to .reverse)\n                                        \n    $assert ([[1], [[2], 3], 4].flat,         [1, [2], 3, 4])\n    $assert ([[1,2,3], [4,5,6]].zip (_.sum),  [5,7,9])\n\n    $assert (['a','b','c'].swap (1,2), ['a','c','b']) // NOTE: mutates original\n\n    $assert ([1].random === 1) // returns random item from array\n    $assert ([].random === undefined)\n\n    $assert ([{ foo: 'bar'}, { foo: 'qux' }].pluck ('foo'),\n                    ['bar',         'qux'])\n\n    $assert ([['foo', 'bar'].join (),\n              ['foo', 'bar'].join ('.'),\n              ['foo', 'bar'].join (777),\n              ['foo'       ].join (777),\n              [       'bar'].join ('.')], ['foobar', 'foo.bar', ['foo', 777, 'bar'], 'foo', 'bar'])\n\n}, function () {\n\n    /*  TODO: rewrite using new $mixin facility\n     */\n    $extensionMethods (Array, {\n\n        each:        _.each,\n        map:         _.map,\n        fold:        _.reduce2,\n        reduce:      _.reduce,\n        reduceRight: _.reduceRight,\n        zip:         _.zipWith,\n        groupBy:     _.groupBy,\n        indexBy:     _.indexBy,\n        find:        _.find,\n        findWhere:   $method (_.findWhere),\n        filter:      _.filter,\n        reject:      $method (_.reject),\n        flat:        _.flatten.tails2 (true),\n        object:      _.fromPairs,\n        shuffle:     _.shuffle,\n        nonempty:    _.nonempty,\n        pluck:       $method (_.pluck),\n        without:     $method (_.without),\n\n        join: (function (strJoin) {\n                    return $forceOverride (function (arr, delim) { delim = (arguments.length < 2) ? '' : delim\n                                                if (/*_.isString (arr[0]) && */ // semantically correct, but breaks compat\n                                                    _.isString (delim)) { return strJoin.call (arr, delim) }\n                                                                   else { return _.reduce2 (arr, function (a, b) { return [a].concat ([delim, b]) }) } }) }) (Array.prototype.join),\n\n        contains: function (arr, item) { return arr.indexOf (item) >= 0 },\n\n\n        top:    function (arr) { return arr[arr.length - 1] },        \n        first:  function (arr) { return arr[0] },\n        second: function (arr) { return arr[1] },\n        rest:   function (arr) { return arr.slice (1) },\n        last:   function (arr) { return arr[arr.length - 1] },\n        \n        /*  TODO: refactor\n         */\n        take:   function (arr, n) { return arr.slice (0, n) },\n        takeAt: $method (function (arr, n) {\n        \tvar i = (typeof (n) == 'number') ? n : arr.findIndex (n)\n        \treturn (i !== -1) ? arr.splice (i, 1).first : undefined }),\n        lastN:  $method (_.last),\n\n        before: function (arr, x) { var i = arr.indexOf (x); return i < 0 ? arr : arr.slice (0, i - 1) },\n        after: function (arr, x)  { var i = arr.indexOf (x); return i < 0 ? arr : arr.slice (i + 1) },\n\n        isEmpty: function (arr) { return arr.length === 0 },\n        notEmpty: function (arr) { return arr.length > 0 },\n\n        lastIndex: function (arr) { return arr.length - 1 },\n\n        random: function (arr) {\n            return arr[_.random (0, arr.lastIndex)] },\n\n        copy: function (arr) {\n            return arr.slice (0) },\n\n        removeAll: $method (function (arr) {\n                        return arr.splice (0, arr.length), arr }),\n\n        remove: function (arr, item) {\n            var i; while ((i = arr.indexOf (item)) !== -1) {\n                arr.splice (i, 1) } return arr },\n\n        removeAt: function (arr, index) {\n            arr.splice (index, 1); return arr },\n\n        insertAt: function (arr, item, index) {\n            arr.splice (index, 0, item); return arr },\n\n        itemAtWrappedIndex: function (arr, i) {\n            return arr[i % arr.length] },\n\n        reversed: function (arr) {\n            return arr.slice ().reverse () },\n\n        swap: $method (function (arr, indexA, indexB) {\n            var a = arr[indexA], b = arr[indexB]\n            arr[indexA] = b\n            arr[indexB] = a\n            return arr }) })\n})\n\n\n\n// WEBPACK FOOTER //\n// ./base/infix/Array.js","\"use strict\";\n\n/*  Function extensions\n    ======================================================================== */\n\n_.tests.Function = {\n\n    '$ for partial application': function () {\n\n             var sum = function (a, b) { return a + b }\n\n        $assert (sum.$  ('foo') ('bar'), 'foobar')      // bind to head of argument list\n        $assert (sum.$$ ('foo') ('bar'), 'barfoo') },   // bind to tail of argument list\n\n    'Fn.callsWith': function () {\n        $assert (42, (function (a,b,c) {\n                      $assert ([a,b,c],\n                               [1,2,3]); return 42; }).callsWith (1,2) (3)) },\n\n    /*  Converts regular function (which returns result) to CPS function (which passes result to 'then')\n     */\n    'asContinuation': function () { $assertEveryCalled (function (mkay__2) {\n\n        var twoPlusTwo   = function () { return 2 + 2 }\n        var shouldBeFour = function (result) {\n            $assert (result == 4)\n            mkay__2 () }\n\n        twoPlusTwo.asContinuation (shouldBeFour)\n        _.asContinuation (twoPlusTwo) (shouldBeFour) }) },\n\n    /*  Postpones execution\n     */\n    'postpone': function (testDone) {\n        $assertEveryCalledOnce ($async (function (mkay1, mkay2) { var testSecondCall = false\n            var callMeLater = function () {\n                if (testSecondCall) {\n                    mkay2 ()\n                    testDone () }\n                else {\n                    mkay1 ()\n                    testSecondCall = true\n                    callMeLater.postpone () } } // should be postponed again\n            callMeLater.postpone ()\n            callMeLater.postpone () })) },       // should not trigger double call\n\n    'postponed': function (testDone) {\n        $assertEveryCalledOnce ($async (function (mkay) {\n            (function (_42) {\n                $assert (this, 'foo')\n                $assert (42, _42); mkay (); }).postponed.call ('foo', 42) }), testDone) },\n\n    'postponed args': function (done) {\n\n        var xs = []\n        var f = function (x) { xs.push (x) }\n\n        f.postponed (42)\n        f.postponed (43)\n\n        _.delay (function () {\n            $assert (xs, [43]); done () }, 1) },\n\n    /*  Returns function that executed after _.delay\n     */\n    'delayed': function (testDone) {\n        var eat42           = function (_42, then) { $assert (_42, 42); then () }\n        var eat42_after5ms  = eat42.delayed (5)\n\n        $assertEveryCalledOnce ($async (function (mkay) {\n            eat42_after5ms (42, function () { mkay () }) }), testDone) } }\n\n/*  Impl.\n */\n$extensionMethods (Function, {\n\n    $:  $method (_.partial), // binding to head of argument list\n    $$: $method (_.tails),   // binding to tail of argument list\n\n    bind:           _.bind,\n    partial:        _.partial,\n    calls:          _.bind,\n    tails:          _.tails,\n    tails2:         _.tails2,\n    tails3:         _.tails3,\n    applies:        _.applies,\n    compose:        _.compose,\n    then:           _.then,\n    with:           _.flipN,\n    flip2:          _.flip2,\n    flip3:          _.flip3,\n    asFreeFunction: _.asFreeFunction,\n    asMethod:       _.asMethod,\n\n    callsWith: _.callsTo,\n    tailsWith: _.tailsTo,\n\n    higherOrder: _.higherOrder,\n\n    returns: function (              fn,                                returns) {\n                return function () { fn.apply (this, arguments); return returns } },\n                                                \n    asContinuation: function (f) {\n        return $restArg (function () { _.last (arguments) (f.apply (this, _.initial (arguments))) }) },\n\n    wraps: function (f, w) { f._wrapped = _.withSameArgs (f, w); return f },\n    wrapped: function (f) { return f._wrapped || f },\n\n    arity0:         _.arity0,\n    arity1:         _.arity1,\n    arity2:         _.arity2,\n    arity3:         _.arity3,\n\n    or:     _.or,\n    and:    _.and,\n    not:    _.not,\n\n    new: _.higherOrder (_.new),\n\n    each: function (fn, obj) { return _.each2 (obj, fn) },\n    map:  function (fn, obj) { return _.map2  (obj, fn) },\n\n    oneShot: function (fn) { var called = false\n        return function () {   if (!called) {\n                                    called = true; return fn.apply (this, arguments) } } },\n\n    memoized: _.memoize,\n    throttled: _.throttle,\n    \n    debounced: function (func, wait, immediate) {\n        \n        var timestamp, timeout, result, args, context\n        var later = function () {\n            var last = Date.now () - timestamp\n            if (last < wait && last > 0) {\n                timeout = setTimeout (later, wait - last) }\n            else {\n                timeout = null;\n                if (!immediate) {\n                    result = func.apply (context, args)\n                    if (!timeout) {\n                        context = args = null } } } }\n\n        var debouncedFn = function() {\n            context = this\n            args = arguments\n            timestamp = Date.now()\n            var callNow = immediate && !timeout\n            if (!timeout) {\n                timeout = setTimeout(later, wait) }\n            if (callNow) {\n                result = func.apply(context, args)\n                context = args = null }\n            return result }\n\n        debouncedFn.cancel = function () {\n            if (timeout) {\n                clearTimeout (timeout)\n                timeout = null } }\n\n        debouncedFn.callImmediately = function () { // cancels timeout (set by fn.debounced/fn.throttled) and calls immediately\n            debouncedFn.cancel ()\n            func.apply (context, args) }\n\n        return debouncedFn },\n\n    postpone: $method (function (fn) { fn.postponed.apply (null, arguments) }),\n\n    postponed: function (fn) {\n        return function () {\n\n            var shouldPostpone = !fn._postponed\n\n            fn._postponed = _.asArray (arguments)\n            fn._postponedThis = this\n            \n            if (shouldPostpone) {\n\n                _.delay (function () {\n                    \n                    var args_ = fn._postponed\n                    var this_ = fn._postponedThis\n\n                    fn._postponed     = undefined\n                    fn._postponedThis = undefined\n\n                    fn.apply (this_, args_) }) } } },\n\n    delay: _.delay,\n    delayed: function (fn, time) {\n        return function () {\n            var args = arguments, context = this\n            _.delay (function () { fn.apply (context, args) }, time) } } })\n\n\n/*  A functional try/catch\n    ======================================================================== */\n\n_.tests.Function.catches = function () {\n\n    $assert (           'yo',\n         _.constant    ('yo').catches ($fails) (),\n         _.identity          .catches ($fails) ('yo'),\n         _.throwsError ('xx').catches          ('yo')   ())\n\n    $assertThrows (function () {\n        _.constant ('yo').catches (function () { $assert ('catch handler shoudnt work on passed continuations') }, _.throwsError ('xx')) () })\n\n    $assert ((function (x) { throw x }).catches (\n                                            _.appends ('+error_case'),\n                                            _.appends ('+no_error_case'),\n                                            _.appends ('+finally')) ('foo'), 'foo+error_case+finally')\n\n    $assertMatches (\n         _.throwError.catches () ('yo'), {\n                         message: 'yo' })\n\n    $assert (_.catches (_.throwsError (  42 ), $assertMatches\n                          .$ ({ message: 42 })\n                              .returns ('yo')) (),\n                                        'yo')\n\n    $assertCPS (_.constant ('yo').catches ($fails),\n                            'yo') }\n\n$extensionMethods (Function, { catch_:  function (fn, catch_, then, finally_) { return fn.catches (catch_, then) () },\n                               catches: function (fn, catch_, then, finally_) {\n                                                              var args = arguments.length\n                                                        catch_ = (args > 1 ? _.coerceToFunction (catch_)   : _.identity)\n                                                         then  = (args > 2 ? _.coerceToFunction (then)     : _.identity)\n                                                    finally_   = (args > 3 ? _.coerceToFunction (finally_) : _.identity)\n                                          return function () {     var result = undefined, catched = false\n                                                      try          {   result = fn.apply (this, arguments) }\n                                                      catch (e)    {   result = catch_ (e); catched = true }\n                                                     if (!catched) {   result = then (result) }\n                                                  return finally_  (   result) } } })\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/infix/Function.js","\"use strict\";\n\n/*  String extensions\n    ======================================================================== */\n\n_.deferTest ('String extensions', function () {\n\n    /*  Convenient infix versions of string-crunching basics. The\n        naming scheme of reversed/capitalized/trimmed is chosen to\n        not cause conflicts with built-in methods/properties doing\n        the same (which are implementation-dependent, e.g. str.trim\n        method).\n     */\n    $assert (''.repeats (0)    === '')\n    $assert (''.repeats (4)    === '')\n    $assert (''.first (2)   === '')\n    $assert (''.reversed    === '')\n    $assert (''.capitalized === '') // capital Zhopa\n    $assert ('    '.trimmed === '')\n    $assert ('<>'.escaped   === '&lt;&gt;')\n    $assert (''.prepend   (''),\n             ''.append    (''), '')\n\n    $assert ([''.contains (''),\n              ''.contains ('')], [true, false])\n\n    $assert  ([''.startsWith (''),\n               ''.startsWith (''),\n               ''.startsWith ('')], [true,\n                                          true,\n                                          false])\n    $assert  ([''.endsWith (''),\n               ''.endsWith (''),\n               ''.endsWith ('')], [true,\n                                        true,\n                                        false])\n\n    /*  Higher order version of former utility\n     */\n    $assert ([  _.map ([1, 2, 3], _.prepends ('foo')), // higher order version\n                _.map ([1, 2, 3], _.appends  ('bar'))].zip (_.append), ['foo11bar', 'foo22bar', 'foo33bar'])\n\n    /*  This one is defined via unicode_regexp_hack and is super slow\n     */\n    $assert ('}|{/7A  Py4K() ololo 321321'.latinAlphanumericValue,   '7APy4Kololo321321')\n    $assert ('}|{/7A  Py4K() ololo 321321'.alphanumericValue,        '7APy4Kololo321321')\n\n    /*  This one is defined though regexps, and is kinda slow. Don't use\n        in performance-critical code (like mass object rendering in UI)\n     */\n    $assert ('+7(965)412-63-21'.numericValue, '79654126321')\n    $assert ('+7(965)412-63-21'.integerValue,   79654126321)\n    $assert ('foo'.integerValue,                undefined)      // NOTE: returns undefined instead of NaN (for consistency reasons)\n    $assert ('0'.integerValue,                  0)              // regression test (was resulting to undefined due to bug)\n\n    /*  Use str.parsedInt instead of raw parseInt(), because latter requires\n        base-10 argument, often mistakengly omited, thus resulting something\n        like '010' to be parsed as octal number. I once spend hours of debugging\n        to catch this kind of mistake, and now not want for someone's got\n        trapped into the same shitty situation.\n     */\n    $assert ('123'.parsedInt,   123)\n    $assert ('foo'.parsedInt,   undefined)      // NOTE: returns undefined instead of NaN (for consistency reasons)\n    $assert ('0'.parsedInt,     0)              // regression test (was resulting to undefined due to bug)\n\n    /*  This one is taken from Java's object hasher. Not to ever be used in\n        some security-critical calculations, as it's not secure. It's fast.\n     */\n    $assert ('foo'.hash, 101574)\n\n    /*  Use for filename/URL-part generation\n     */\n    $assert (' '.transliterate, 'pisyakamushkin')\n\n    /*  This one is really convetient!\n     */\n    $assert  ('qux'.quote (''),     'qux')\n    $assert  ('qux'.quote ('\"'),    '\"qux\"')\n    $assert  ('qux'.quote ('[]'),   '[qux]')\n    $assert  ('qux'.quote ('/'),    '/qux/')\n    $assert  ('qux'.quote ('{  }'), '{ qux }')\n    $assert  ('qux'.quote ('</>'),  '</qux>')\n\n    $assert  (_.isTypeOf (Uint8Array, 'foo'.bytes))\n    $assert  (_.asArray ('foo'.bytes), [102, 111, 111])\n\n    $assert  (['foobar'  .limitedTo (6),\n               'tooloong'.limitedTo (6),\n               ''        .limitedTo (0)], ['foobar',\n                                           'toolo', ''])\n\n    $assert  (''.pad (5),      '  ')\n    $assert  (''.pad (5, ''), '')\n\n    $assert ('foo'.pluck ([    { foo: 10 },    { foo: 11 } ]), [    10,    11 ])\n    $assert ('foo'.pluck ({ a: { foo: 10 }, b: { foo: 11 } }), { a: 10, b: 11 })\n\n    $assert ('foo/'.concatPath ('/bar'),\n             'foo' .concatPath ('/bar'),\n             'foo/'.concatPath ( 'bar'),\n             'foo' .concatPath ( 'bar'), 'foo/bar')\n\n    $assert ('123456'.first (2), '12')\n    $assert ('123456'.last  (2), '56')\n\n}, function () { $extensionMethods (String, {\n\n    quote: _.quote,\n\n    concatPath: function (a, b) {\n\n                    var a_endsWithSlash = (a[a.length - 1] === '/')\n                    var b_startsWithSlash = (b[0] === '/')\n\n                    return a + ((a_endsWithSlash || b_startsWithSlash) ? '' : '/') +\n                               ((a_endsWithSlash && b_startsWithSlash) ? b.substring (1) : b) },\n\n    pluck: function (s, arr) {\n                return _.pluck2 (arr, s) },\n\n    contains: function (s, other) { return s.indexOf (other) >= 0 },\n\n    startsWith: function (s, x) {\n                    return (x.length === 1) ? (s[0] === x) : (s.substring (0, x.length) === x) },\n\n    endsWith: function (s, x) {\n                    return (x.length === 1) ? (s[s.length - 1] === x) : (s.substring (s.length - x.length) === x) },\n\n    pad: function (s, len, filler) {\n        return s += (filler || ' ').repeats (Math.max (0, len - s.length)) },\n\n    cut: function (s, from) {\n        return s.substring (0, from - 1) + s.substring (from, s.length) },\n\n    insert: function (s, position, what) {\n        return s.substring (0, position) + what + s.substring (position, s.length) },\n\n    lowercase: function (s) {\n        return s.toLowerCase () },\n\n    uppercase: function (s) {\n        return s.toUpperCase () },\n\n    trimmed: function (s) {\n        return s.trim () },\n\n    limitedTo: function (s, n) {\n        return s && ((s.length <= n) ? s : (s.substr (0, n - 1) + '')) },\n\n    escaped: function (s) {\n        return _.escape (s) },\n\n    repeats: function (s, n) {                              // TODO: this should come in two versions: _.repeat (s, n) and _.repeats (n, s)\n        return _.times (n, _.constant (s)).join ('') },\n\n    prepend: function (s, other) {\n        return other + s },\n\n    append: function (s, other) {\n        return s + other },\n\n    first: function (s, n) {\n        return s.slice (0, n) },\n\n    last: function (s, n) {\n        return s.slice (-2) },\n\n    reversed: function (s) {\n        return s.split ('').reverse ().join ('') },\n\n    capitalized: function (s) {\n        return s.charAt (0).toUpperCase () + s.slice (1) },\n\n    decapitalized: function (s) {\n        return s.charAt (0).toLowerCase () + s.slice (1) },\n\n    latinAlphanumericValue: function (s) {\n        return s.replace (/[^a-z0-9]/gi, '') },\n\n    alphanumericValue: function (s) {\n        return s.replace (unicode_hack (/[^0-9\\p{L}|^0-9\\p{N}|^0-9\\p{Pc}|^0-9\\p{M}]/g), '') }, // utilizes unicode regexp hack (defined at the end of file)\n\n    numericValue: function (s) {\n        return s.replace (/[^0-9]/g, '') },\n\n    integerValue: function (s) {\n        return s.numericValue.parsedInt },\n\n    parsedInt: function (s) {\n        var result = parseInt (s, 10)\n        return _.isFinite (result) ? result : undefined },\n\n    bytes: function (s) {                var bytes = new Uint8Array (s.length)\n        for (var i = 0; i < s.length; ++i) { bytes[i] = s.charCodeAt (i) }\n                                      return bytes },\n\n    hash: function (s) { // unsecure, but fast, taken from Java's object hasher\n        var hash = 0, i, chr, len\n        if (s.length === 0) {\n            return hash; }\n\n        for (i = 0, len = s.length; i < len; i++) {\n            chr   = s.charCodeAt (i)\n            hash  = ((hash << 5) - hash) + chr\n            hash |= 0 } // Convert to 32bit integer\n\n        return hash },\n\n    transliterate: (function () {\n        var table = _.extend ({\n\n            '': 'a', '': 'b', '': 'v', '': 'g',\n            '': 'd', '': 'e', '': 'yo', '': 'zh',\n            '': 'z', '': 'i', '': 'y', '': 'k',\n            '': 'l', '': 'm', '': 'n', '': 'o',\n            '': 'p', '': 'r', '': 's', '': 't',\n            '': 'u', '': 'ph', '': 'h', '': 'ts',\n            '': 'ch', '': 'sh', '': 'sch', '': '',\n            '': '', '': 'y', '': 'e', '': 'yu', '': 'ya' },\n\n            _.fromPairs (_.map ('_-1234567890qwertyuiopasdfghjklzxcvbnm', function (x) { return [x,x] })))\n        \n        return function (s) {\n            var result = ''\n            var source = (s || '').toLowerCase ()\n\n            for (var i = 0, n = source.length; i < n; i++) {\n                var c = source[i]\n                var x = table[c] || ''\n                result += x }\n\n            return result }}) () }) })\n\n_.extend (String, {\n\n    randomHex: function (length) {\n                            if (length === undefined) {\n                                length = _.random (1, 32) }\n                            var string = '';\n                            for (var i = 0; i < length; i++) { string += Math.floor (Math.random () * 16).toString (16) }\n                            return string },\n\n    leadingZero: function (n) {\n                    return (n < 10) ? '0' + n : n.toString () } })\n\n_.deferTest (['identifier naming style interpolation'], function () {\n\n    $assert (_.camelCaseToLoDashes        ('flyingBurritoOption'), 'flying_burrito_option')\n    $assert (_.camelCaseToDashes          ('flyingBurritoOption'), 'flying-burrito-option')\n    $assert (_.dashesToCamelCase          ('flying-burrito-option'), 'flyingBurritoOption')\n    $assert (_.loDashesToCamelCase        ('flying_burrito_option'), 'flyingBurritoOption')\n\n}, function () {\n\n    _.camelCaseToDashes   =   function (x) { return x.replace (/[a-z][A-Z]/g, function (x) { return x[0] + '-' + x[1].lowercase }) }\n    _.camelCaseToLoDashes =   function (x) { return x.replace (/[a-z][A-Z]/g, function (x) { return x[0] + '_' + x[1].lowercase }) }\n    _.dashesToCamelCase   =   function (x) { return x.replace (/(-.)/g,       function (x) { return x[1].uppercase }) } })\n    _.loDashesToCamelCase =   function (x) { return x.replace (/(_.)/g,       function (x) { return x[1].uppercase }) }\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/infix/String.js","\"use strict\";\n\n/*  Extensions methods\n    ======================================================================== */\n\n;['method', 'property', 'flipped', 'forceOverride'].forEach (Tags.define)\n    \n$global.$extensionMethods = (Type, methods) => {\n\n    _.each (methods, (tags, name) => { var fn = Tags.unwrap (tags)\n\n        /*  define as _.method (this, ...)\n         */\n        if (!(name in _)) {\n                      _[name] = _[name] || fn }\n\n        /*  define as property of Type\n         */\n        if (!tags.$method && (tags.$property || (_.oneArg (fn)))) {\n            if (!(name in Type.prototype) || tags.$forceOverride) {\n                _.defineHiddenProperty (Type.prototype, name, function () { return fn (this) }) } }\n\n        /*  define as method\n         */\n        else if (!tags.$property) {\n            if (!(name in Type.prototype) || tags.$forceOverride) {\n                Type.prototype[name] = _.asMethod (tags.$flipped ? _.flip (fn) : fn) } }\n\n        else {\n            throw new Error ('$extensionMethods: crazy input, unable to match') } })}\n\n\n// WEBPACK FOOTER //\n// ./base/infix/extensionMethods.js","\"use strict\";\n\n/*  TODO:   UNIT TEST DAT MUTHAFUCKA\n */\n\n/*  TODO:   get rid of _ namespace (now legacy)\n */\n\nMath.clamp = _.clamp = function (n, min, max) {\n                            return Math.max (min, Math.min (max, n)) }\n\nMath.lerp = _.lerp = function (t, min, max) {\n                        return min + (max - min) * t }\n\nMath.rescale = _.rescale = function (v, from, to, opts) { var unit = (v - from[0]) / (from[1] - from[0])\n                                return _.lerp (opts && opts.clamp ? _.clamp (unit, 0, 1) : unit, to[0], to[1]) }\n\nMath.rescaleClamped = _.rescaleClamped = function (v, from, to) {\n                                            return _.rescale (v, from, to, { clamp: true }) }\n\nMath.sqr = _.sqr = function (x) { return x * x }\n\n\n/*  Math.sign (missing from Safari)\n    ======================================================================== */\n\nif (!Math.sign) {\n    Math.sign = function (x) {\n        return (x < 0) ? -1 : ((x > 0) ? 1 : 0) } }\n\n/*  Intersections (draft)\n    ======================================================================== */\n\n$global.Intersect = {\n\n    rayCircle: function (origin, d, center, r) {\n\n        var f = origin.sub (center)\n        var a = d.dot (d)\n\n        var b = 2.0 * f.dot (d)\n        var c = f.dot (f) - r*r\n\n        var discriminant = b*b - 4.0*a*c\n        if (discriminant < 0) {\n            return undefined }\n\n        else {\n            discriminant = Math.sqrt (discriminant)\n\n            var t1 = (-b - discriminant) / (2.0 * a)\n            var t2 = (-b + discriminant) / (2.0 * a)\n\n            if ((t1 >= 0) && (t1 <= 1)) {\n                return { time: t1, where: origin.add (d.scale (t1)) } }\n\n            if ((t2 >= 0) && (t2 <= 1)) {\n                return { time: t2, where: origin.add (d.scale (t2)), insideOut: true } }\n\n            return undefined } }\n}\n\n/*  TODO: Vec1, for consistency with arity-abstract vector algorithms\n    ======================================================================== */\n\n/*  2-dimensional vector\n    ======================================================================== */\n\n$global.Vec2 = $prototype ({\n\n    $static: {\n        xx:          function (x)   { return new Vec2 (x,x) },\n        xy:          function (x,y) { return new Vec2 (x,y) },\n        x:           function (x)   { return new Vec2 (x,0) },\n        y:           function (y)   { return new Vec2 (0,y) },\n        zero:        $property (function () { return new Vec2 (0, 0) }),\n        unit:        $property (function () { return new Vec2 (1, 1) }),\n        one:         $alias ('unit'),\n        lt:          $alias ('fromLT'),\n        wh:          $alias ('fromWH'),\n        fromLT:      function (lt) { return lt && (new Vec2 (lt.left, lt.top)) },\n        fromWH:      function (wh) { return wh && (new Vec2 (wh.width, wh.height)) },\n        fromLeftTop:     $alias ('fromLT'),\n        fromWidthHeight: $alias ('fromWH'),\n        lerp:        function (t, a, b) { return new Vec2 (_.lerp (t, a.x, b.x), _.lerp (t, a.y, b.y)) },\n        clamp:       function (n, a, b) { return new Vec2 (_.clamp (n.x, a.x, b.x), _.clamp (n.y, a.y, b.y)) } },\n\n    constructor: function (x, y) {\n        if (arguments.length === 1) {\n            if (_.isNumber (x)) {\n                this.x = this.y = x }\n            else {\n                this.x = x.x\n                this.y = x.y } }\n        else {\n            this.x = x\n            this.y = y } },\n\n    w: $alias ($property ('x')),\n    h: $alias ($property ('y')),\n\n    width:  $alias ($property ('x')),\n    height: $alias ($property ('y')),\n\n    length:        $property (function () { return Math.sqrt (this.lengthSquared) }),\n    lengthSquared: $property (function () { return this.x * this.x + this.y * this.y }),\n\n    distance: function (pt) { return this.sub (pt).length },\n\n    aspect: $property (function () { return this.x / this.y }),\n\n    add: function (a, b) {\n        if (b === undefined) {\n            return (typeof a === 'number') ?\n                new Vec2 (this.x + a,   this.y + a) :\n                new Vec2 (this.x + a.x, this.y + a.y) }\n        else {\n            return new Vec2 (this.x + a, this.y + b) } },\n\n    aspect: $property (function () { return this.w / this.h }),\n\n    dot: function (other) {\n        return this.x * other.x + this.y * other.y },\n\n    sub: function (other) {\n        return new Vec2 (this.x - other.x, this.y - other.y) },\n\n    scale: function (tx, ty) {\n        return new Vec2 (this.x * tx, this.y * (ty === undefined ? tx : ty)) },\n\n    mul: function (other) {\n        return new Vec2 (this.x * other.x, this.y * other.y) },\n\n    divide: function (other) {\n        return new Vec2 (this.x / other.x, this.y / other.y) },\n\n    normal: $property (function () {\n        return this.scale (1.0 / this.length) }),\n\n    perp: $property (function () {\n        return new Vec2 (this.y, -this.x) }),\n\n    half: $property (function () {\n        return new Vec2 (this.x * 0.5, this.y * 0.5) }),\n\n    inverse: $property (function () {\n        return new Vec2 (-this.x, -this.y) }),\n\n    asArray: $property (function () {\n        return [this.x, this.y] }),\n\n    asLeftTop: $property (function () {\n        return { left: this.x, top: this.y } }),\n\n    asLeftTopMargin: $property (function () {\n        return { marginLeft: this.x, marginTop: this.y } }),\n\n    asWidthHeight: $property (function () {\n        return { width: this.x, height: this.y } }),\n\n    asTranslate: $property (function () {\n        return 'translate(' + this.x + ' ' + this.y + ')' }),\n\n    separatedWith: function (sep) {\n        return this.x + sep + this.y },\n\n    floor: $property (function () {\n                        return new Vec2 (Math.floor (this.x), Math.floor (this.y)) }),\n\n    sum: $static (function (arr) {\n                    return _.reduce ((_.isArray (arr) && arr) || _.asArray (arguments),\n                        function (memo, v) { return memo.add (v || Vec2.zero) }, Vec2.zero) }),\n\n    projectOnCircle: function (center, r) {\n        return center.add (this.sub (center).normal.scale (r)) },\n\n    projectOnLineSegment: function (v, w) {\n        var wv = w.sub (v)\n        var l2 = wv.lengthSquared\n        if (l2 == 0) return v\n        var t = this.sub (v).dot (wv) / l2\n        if (t < 0) return v\n        if (t > 1) return w\n        return v.add (wv.scale (t)) },\n\n    projectOnRay: function (origin, dir) { \n        var l2 = dir.lengthSquared\n        if (l2 == 0) return 0\n        return this.sub (origin).dot (dir) / l2 } })\n\n/*  ------------------------------------------------------------------------ */\n\nif (typeof Symbol !== 'undefined') {\n    Vec2.prototype[Symbol.for ('String.ify')] = function () {\n                                                    return '{' + this.x + ',' + this.y + '}'  } }\n\n/*  Cubic bezier\n    ======================================================================== */\n\n$global.Bezier = {\n\n    cubic: function (t, p0, p1, p2, p3) {\n        var cube = t * t * t\n        var square = t * t\n        var ax = 3.0 * (p1.x - p0.x);\n        var ay = 3.0 * (p1.y - p0.y);\n        var bx = 3.0 * (p2.x - p1.x) - ax;\n        var by = 3.0 * (p2.y - p1.y) - ay;\n        var cx = p3.x - p0.x - ax - bx;\n        var cy = p3.y - p0.y - ay - by;\n        var x = (cx * cube) + (bx * square) + (ax * t) + p0.x;\n        var y = (cy * cube) + (by * square) + (ay * t) + p0.y;\n        return new Vec2 (x, y) },\n        \n    cubic1D: function (t, a, b, c, d) {\n        return Bezier.cubic (t, Vec2.zero, new Vec2 (a, b), new Vec2 (c, d), Vec2.one).y },\n\n    make: {\n        \n        cubic:   function (a,b,c,d) { return function (t) { return Bezier.cubic   (t,a,b,c,d) } },\n        cubic1D: function (a,b,c,d) { return function (t) { return Bezier.cubic1D (t,a,b,c,d) } } } }\n\n\n/*  Bounding box (2D)\n    ======================================================================== */\n\n$global.BBox = $prototype ({\n\n    $static: {\n\n        zero: $property (function () {\n            return new BBox (0, 0, 0, 0) }),\n\n        unit: $property (function () {\n            return new BBox (0, 0, 1, 1) }),\n\n        rect: $property (function (sideSize) {\n            return new BBox (0, 0, sideSize, sideSize) }),\n\n        fromLeftTopAndSize: function (pt, size) {\n            return BBox.fromLTWH ({ left: pt.x, top: pt.y, width: size.x, height: size.y }) },\n\n        fromLTWH: function (l,t,w,h) {\n            if (arguments.length === 1) { return l && (BBox.fromLTWH (l.left, l.top, l.width, l.height)) }\n                                   else { return new BBox (l + w / 2.0, t + h / 2.0, w, h) } },\n\n        fromLTRB: function (l,t,r,b) {\n            if (arguments.length === 1) { return l && (BBox.fromLTRB (l.left, l.top, l.right, l.bottom)) }\n                                   else { return new BBox (_.lerp (0.5, l, r), _.lerp (0.5, t, b), r - l, b - t) } },\n\n        fromSizeAndCenter: function (size, center) {\n            return new BBox (center.x - size.x / 2.0, center.y - size.y / 2.0, size.x, size.y) },\n\n        fromSize: function (a, b) {\n            if (b) { return new BBox (-a / 2.0, -b / 2.0, a, b) }\n              else { return new BBox (-a.x / 2.0, -a.y / 2.0, a.x, a.y) } },\n\n        fromPoints: function (pts) { var l = Number.MAX_VALUE, t = Number.MAX_VALUE, r = Number.MIN_VALUE, b = Number.MIN_VALUE\n            _.each (pts, function (pt) {\n                l = Math.min (pt.x, l)\n                t = Math.min (pt.y, t)\n                r = Math.max (pt.x, r)\n                b = Math.max (pt.y, b) })\n            return BBox.fromLTRB (l, t, r, b) } },\n\n    constructor: function (x, y, w, h) {\n        if (arguments.length == 4) {\n            this.x = x\n            this.y = y\n            this.width = w\n            this.height = h }\n        else {\n            _.extend (this, x) } },\n\n    classifyPoint: function (pt) {\n        \n        var sides = _.extend (\n\n            (pt.x > this.right)   ? { right   : true } : {},\n            (pt.x < this.left)    ? { left    : true } : {},\n            (pt.y > this.bottom)  ? { bottom  : true } : {},\n            (pt.y < this.top)     ? { top     : true } : {})\n        \n        return _.extend (sides,\n\n            (!sides.left &&\n             !sides.right &&\n             !sides.bottom && !sides.top) ? { inside: true } : {}) },\n\n    classifyRay: function (origin, delta, cornerRadius) {\n\n        var half = this.size.half\n        var farTime, farTimeX, farTimeY, nearTime, nearTimeX, nearTimeY, scaleX, scaleY, signX, signY\n\n        scaleX = 1.0 / delta.x\n        scaleY = 1.0 / delta.y\n        signX  = Math.sign (scaleX)\n        signY  = Math.sign (scaleY)\n\n        nearTimeX = (this.x - signX * half.x - origin.x) * scaleX\n        nearTimeY = (this.y - signY * half.y - origin.y) * scaleY\n        farTimeX =  (this.x + signX * half.x - origin.x) * scaleX\n        farTimeY =  (this.y + signY * half.y - origin.y) * scaleY\n\n        if (nearTimeX > farTimeY || nearTimeY > farTimeX) {\n            return undefined }\n\n        nearTime = nearTimeX > nearTimeY ? nearTimeX : nearTimeY\n        farTime  = farTimeX  < farTimeY  ? farTimeX  : farTimeY\n\n        if (nearTime >= 1 || farTime <= 0) {\n            return undefined }\n\n        var hit = { time: _.clamp (nearTime, 0, 1) }\n        \n        if (nearTimeX > nearTimeY) {\n            hit.normal = new Vec2 (-signX, 0) }\n        else {\n            hit.normal = new Vec2 (0, -signY) }\n\n        hit.delta = delta.scale (hit.time)\n        hit.where = origin.add (hit.delta)\n\n        if (cornerRadius) { var inner = this.grow (-cornerRadius)\n\n            if (hit.where.x > inner.right) {\n                if (hit.where.y < inner.top) {\n                    hit = Intersect.rayCircle (origin, delta, inner.rightTop, cornerRadius) }\n                else if (hit.where.y > inner.bottom) {\n                    hit = Intersect.rayCircle (origin, delta, inner.rightBottom, cornerRadius) } }\n\n            else if (hit.where.x < inner.left) {\n                if (hit.where.y < inner.top) {\n                    hit = Intersect.rayCircle (origin, delta, inner.leftTop, cornerRadius) }\n                else if (hit.where.y > inner.bottom) {\n                    hit = Intersect.rayCircle (origin, delta, inner.leftBottom, cornerRadius) } }\n\n            if (hit && hit.insideOut) {\n                hit.where = origin } }\n\n        return hit\n    },\n\n    nearestPointTo: function (pt, cornerRadius) { var r = cornerRadius || 0\n\n        var a = new Vec2 (this.left,  this.top),\n            b = new Vec2 (this.right, this.top),\n            c = new Vec2 (this.right, this.bottom),\n            d = new Vec2 (this.left,  this.bottom)\n\n        var pts = [ pt.projectOnLineSegment (a.add (r, 0),  b.add (-r, 0)),  // top\n                    pt.projectOnLineSegment (b.add (0, r),  c.add (0, -r)),  // right\n                    pt.projectOnLineSegment (c.add (-r, 0), d.add (r, 0)),   // bottom\n                    pt.projectOnLineSegment (d.add (0, -r), a.add (0, r)),   // left\n\n                    pt.projectOnCircle (a.add ( r,  r), r),\n                    pt.projectOnCircle (b.add (-r,  r), r),\n                    pt.projectOnCircle (c.add (-r, -r), r),\n                    pt.projectOnCircle (d.add ( r, -r), r) ]\n\n        return _.min (pts, function (test) { return pt.sub (test).length }) },\n\n    xywh: $property (function () {\n        return { x: this.x, y: this.y, width: this.width, height: this.height } }),\n\n    ltwh: $property (function () {\n        return { left: this.left, top: this.top, width: this.width, height: this.height } }),\n\n    union: function (other) { return BBox.fromLTRB (\n                                        Math.min (this.left,   other.left),\n                                        Math.min (this.top,    other.top),\n                                        Math.max (this.right,  other.right),\n                                        Math.max (this.bottom, other.bottom)) },\n\n    centerIn: function (other) {\n        return new BBox (other.x, other.y, this.width, this.height) },\n\n    clone: $property (function () {\n        return new BBox (this.x, this.y, this.width, this.height) }),\n    \n    floor: $property (function () {\n        return new BBox.fromLTRB (Math.floor (this.left),\n                                  Math.floor (this.top),\n                                  Math.floor (this.right),\n                                  Math.floor (this.bottom)) }),\n\n    css: $property (function () {\n                        return { left: this.left   + 'px',\n                                  top: this.top    + 'px',\n                                width: this.width  + 'px',\n                               height: this.height + 'px' } }),\n\n    leftTop: $property (function () {\n        return new Vec2 (this.left, this.top) }),\n\n    leftBottom: $property (function () {\n        return new Vec2 (this.left, this.bottom) }),\n\n    rightBottom: $property (function () {\n        return new Vec2 (this.right, this.bottom) }),\n    \n    rightTop: $property (function () {\n        return new Vec2 (this.right, this.top) }),\n\n    left: $property (function () {\n        return this.x - this.width / 2.0 }),\n\n    right: $property (function () {\n        return this.x + this.width / 2.0 }),\n\n    top: $property (function () {\n        return this.y - this.height / 2.0 }),\n\n    bottom: $property (function () {\n        return this.y + this.height / 2.0 }),\n\n    center: $property (function () {\n        return new Vec2 (this.x, this.y) }),\n\n    extent: $alias ('size'),\n\n    size: $property (function () {\n        return new Vec2 (this.width, this.height) }),\n\n    offset: function (amount) {\n        return new BBox (this.x + amount.x, this.y + amount.y, this.width, this.height) },\n\n    newWidth: function (width) {\n        return new BBox (this.x - (width - this.width) / 2.0, this.y, width, this.height) },\n\n    grow: function (amount) {\n        return new BBox (this.x, this.y, this.width + amount * 2, this.height + amount * 2) },\n\n    shrink: function (amount) {\n        return this.grow (-amount) },\n\n    mul: function (z) {\n            return new BBox (this.x * z, this.y * z, this.width * z, this.height * z) },\n\n    area: $property (function () {\n        return Math.abs (this.width * this.height) }),\n\n    intersects: function (other) {\n                    return !((this.right < other.left) ||\n                             (this.left > other.right) ||\n                             (this.bottom < other.top) ||\n                             (this.top > other.bottom)) },\n})\n\n/*  ------------------------------------------------------------------------ */\n\nif (typeof Symbol !== 'undefined') {\n    BBox.prototype[Symbol.for ('String.ify')] = function () {\n                                                    return '{ ' + this.left + ',' + this.top + '  ' + this.right + ',' + this.bottom + ' }'  } }\n\n\n/*  3x3 affine transform matrix, encoding scale/offset/rotate/skew in 2D\n    ======================================================================== */\n\n$global.Transform = $prototype ({\n\n    $static: {\n\n        identity: $property (function () { return new Transform () }),\n\n        svgMatrix: function (m) {\n                        return new Transform ([\n                            [m.a, m.c, m.e],\n                            [m.b, m.d, m.f],\n                            [0.0, 0.0, 1.0] ]) },\n\n        translation: function (v) {\n                        return new Transform ([\n                                    [1.0, 0.0, v.x],\n                                    [0.0, 1.0, v.y],\n                                    [0.0, 0.0, 1.0] ]) } },\n\n    constructor: function (components) {\n                    this.components = components || [\n                        [1.0, 0.0, 0.0],\n                        [0.0, 1.0, 0.0],\n                        [0.0, 0.0, 1.0]] },\n\n    multiply: function (m) {\n                    var result = [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0], [0.0, 0.0, 0.0]]\n                    var i, j, k, a = this.components, b = m.components;\n                    for (i = 0; i < 3; i++) {\n                        for (j = 0; j < 3; j++) {\n                            for (k = 0; k < 3; k++) {\n                                   result[i][j] += a[i][k] * b[k][j] } } }\n\n                    return new Transform (result) },\n\n    translate: function (v) {\n                    return this.multiply (Transform.translation (v)) },\n\n    scale: function (s) {\n                return this.multiply (new Transform ([\n                    [s,   0.0, 0.0],\n                    [0.0, s,   0.0],\n                    [0.0, 0.0, 1.0] ])) },\n\n    inverse: $property ($memoized (function () { var m = this.components\n                                        var id = (1.0 / \n                                                    (m[0][0] * (m[1][1] * m[2][2] - m[2][1] * m[1][2]) -\n                                                     m[0][1] * (m[1][0] * m[2][2] - m[1][2] * m[2][0]) +\n                                                     m[0][2] * (m[1][0] * m[2][1] - m[1][1] * m[2][0])))\n\n                                        return new Transform ([[\n\n                                                 (m[1][1]*m[2][2]-m[2][1]*m[1][2])*id,          // 0 0\n                                                -(m[0][1]*m[2][2]-m[0][2]*m[2][1])*id,          // 0 1\n                                                 (m[0][1]*m[1][2]-m[0][2]*m[1][1])*id],         // 0 2\n\n                                                [(m[1][0]*m[2][2]-m[1][2]*m[2][0])*id,          // 1 0\n                                                 (m[0][0]*m[2][2]-m[0][2]*m[2][0])*id,          // 1 1\n                                                -(m[0][0]*m[1][2]-m[1][0]*m[0][2])*id],         // 1 2\n\n                                                [(m[1][0]*m[2][1]-m[2][0]*m[1][1])*id,          // 2 0\n                                                -(m[0][0]*m[2][1]-m[2][0]*m[0][1])*id,          // 2 1\n                                                 (m[0][0]*m[1][1]-m[1][0]*m[0][1])*id] ]) })),  // 2 2\n        \n    unproject: function (v) {\n                    var m = this.components\n                    return new Vec2 (\n                        v.x * m[0][0] + v.y * m[0][1] + m[0][2],\n                        v.x * m[1][0] + v.y * m[1][1] + m[1][2]) },\n\n    project: function (v) {\n                return this.inverse.unproject (v) } })\n\n\n/*  Generates random number generator\n    ======================================================================== */\n\n_.rng = function (seed, from, to) {\n    var m_w = seed;\n    var m_z = 987654321;\n    var mask = 0xffffffff;\n    return function () {\n        m_z = (36969 * (m_z & 65535) + (m_z >> 16)) & mask;\n        m_w = (18000 * (m_w & 65535) + (m_w >> 16)) & mask;\n        var result = ((m_z << 16) + m_w) & mask;\n        result /= 4294967296;\n        result += 0.5\n        if (from === undefined && to === undefined) {\n            return result }\n        else {\n            return Math.round (from + result * (to - from)) } } }\n\n\n/*  Kind of Brezenham algorithm for 1D\n    ======================================================================== */\n\n_.equalDistribution = function (value, n) {\n    var average = value / n\n    var realLeft = 0.0\n    return _.times (n, function () {\n        var left = Math.round (realLeft)\n        var right = Math.round (realLeft += average)\n        var rough = Math.floor (right - left)\n        return rough }) }\n\n\n/*  DEPRECATED: use BBox utility\n    ======================================================================== */\n\n_.ptInRect = function (pt, rect) {\n    return ((pt.x >= rect.left) && (pt.y >= rect.top) && (pt.x < rect.right) && (pt.y < rect.bottom)) }\n\n\n/*  Color utility\n    ======================================================================== */\n\n_.hue2CSS = function (H, a)   { return _.RGB2CSS (_.hue2RGB (H), a)       }\n_.HSL2CSS = function (hsl, a) { return _.RGB2CSS (_.HSL2RGB (hsl), a) }\n\n_.HSL2RGB = function (hsl) { var h = hsl[0], s = hsl[1], l = hsl[2]\n    var rgb = _.hue2RGB (h)\n    var c = (1.0 - Math.abs (2.0 * l - 1.0)) * s\n    return [(rgb[0] - 0.5) * c + l,\n            (rgb[1] - 0.5) * c + l,\n            (rgb[2] - 0.5) * c + l] }\n\n_.hue2RGB = function (hue) {\n    return [Math.max (0.0, Math.min (1.0, Math.abs (hue * 6.0 - 3.0) - 1.0)),\n            Math.max (0.0, Math.min (1.0, 2.0 - Math.abs (hue * 6.0 - 2.0))),\n            Math.max (0.0, Math.min (1.0, 2.0 - Math.abs (hue * 6.0 - 4.0)))] }\n\n_.RGB2CSS = function (rgb, a) {\n    return 'rgba(' +\n        Math.round (rgb[0] * 255) + ',' +\n        Math.round (rgb[1] * 255) + ',' +\n        Math.round (rgb[2] * 255) + ',' + (a === undefined ? (rgb[3] === undefined ? 1.0 : rgb[3]) : a) + ')' }\n\n_.RGB2HSL = function (rgb, a_) {\n    var r = rgb[0], g = rgb[1], b = rgb[2], a = (a_ === undefined ? rgb[3] : a_)\n    var max = Math.max (r, g, b), min = Math.min (r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0 }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max){\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break; }\n        h /= 6 }\n    return a === undefined ? [h, s, l] : [h, s, l, a] }\n    \n\n/*  Advanced rounding utility\n    ======================================================================== */\n\n_.extend (Math, (function (decimalAdjust) {\n    return {\n        roundTo: function (value, precision) {\n            return value - (value % precision)\n        },\n        round10: function(value, exp) {\n            return decimalAdjust ('round', value, exp);\n        },\n        floor10: function(value, exp) {\n            return decimalAdjust ('floor', value, exp);\n        },\n        ceil10: function(value, exp) {\n            return decimalAdjust ('ceil', value, exp);\n        }\n    }\n}) (function /* decimalAdjust */ (type, value, exp) {\n\n    /**\n     * Decimal adjustment of a number.\n     *\n     * @param   {String}    type    The type of adjustment.\n     * @param   {Number}    value   The number.\n     * @param   {Integer}   exp     The exponent (the 10 logarithm of the adjustment base).\n     * @returns {Number}            The adjusted value.\n     */\n\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n        return Math[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n        return NaN;\n    }\n    // Shift\n    value = value.toString().split('e');\n    value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n    // Shift back\n    value = value.toString().split('e');\n    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n}))\n\n/*  ------------------------------------------------------------------------ */\n\n;(function () {\n\n    var toposort = require ('toposort')\n\n    Array.prototype.topoSort = function () { return toposort (this) }\n\n}) ();\n\n/*  ------------------------------------------------------------------------ */\n\n_.withTest (['Array', 'topomerge'], function () {\n\n      $assert ( [['all','your',                'to','us'],\n                 [      'your',       'belong',     'us'],\n                 [             'base','belong','to'     ],\n                 [      'your','base'                   ]].topoMerge (),\n               /* -------------------------------------- */\n                 ['all','your','base','belong','to','us'])\n\n/*  ------------------------------------------------------------------------ */\n\n}, function () {\n\n    Array.prototype.topoMerge = function () {                    var edges    = []\n        for (var i = 0, ni = this.length;         i < ni; i++) { var sequence = this[i]\n        for (var j = 0, nj = sequence.length - 1; j < nj; j++) {\n            edges.push ([\n                sequence[j    ],\n                sequence[j + 1]]) } }\n\n        return edges.topoSort ()\n    }\n})\n\n/*  ------------------------------------------------------------------------ */\n\n_.withTest (['DAG', 'sortedSubgraphOf'], function () {\n\n    var modules = {\n        \n        '1':    { requires: [] },\n        '11':   { requires: ['1'] },\n        '2':    { requires: ['0'] },\n        '111':  { requires: ['12', '100'] },\n        '12':   { requires: ['0',  '11', '2'] },\n        '100':  { requires: ['10'] },\n        '0':    { requires: [] },\n        '10':   { requires: ['0', '2'] },\n        'root': { requires: ['2', '111'] } }\n\n    $assert (\n        DAG.sortedSubgraphOf ('root', { nodes: function (x) { return modules[x].requires } }),\n        [\"0\", \"1\", \"11\", \"2\", \"12\", \"10\", \"100\", \"111\"]  )\n\n/*  ------------------------------------------------------------------------ */\n\n}, function () {\n\n    $global.DAG = function (cfg) {\n                    this.cfg   = cfg       || {},\n                    this.nodes = cfg.nodes || _.noop },\n\n    DAG.prototype.each = function (N, fn, prev,  visited) {\n                                                 visited = visited || new Set ()\n\n                                            if (!visited.has (N)) { \n                                                 visited.add (N);   var self  = this,\n                                                                        nodes = this.nodes (N) || [],\n                                                                        stop  = fn.call (this, N, {     nodes: nodes,\n                                                                                                         prev: prev,\n                                                                                                      visited: visited })\n                                                if (stop !== true) {\n                                                    nodes.forEach (function ( NN) {\n                                                                   self.each (NN, fn, N, visited) }) } }; return visited },\n    DAG.prototype.edges = function (N) {\n                                var edges = []\n                                    this.each (N, function (N, context) {   context .nodes\n                                                                                    .concat (N)\n                                                                                    .reduce (function (A, B) {\n                                                                                          edges.push ([A, B]); return B }) }); return edges },\n    DAG.prototype.sortedSubgraphOf = function (node0) {\n                                          return this.edges  (node0)\n                                                     .topoSort ()\n                                                     .remove (node0) }\n\n    DAG.sortedSubgraphOf = function (node0, cfg) {\n                                return new DAG (cfg).sortedSubgraphOf (node0) }\n\n})\n\n/*  ------------------------------------------------------------------------ */\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/math.js","\"use strict\";\n\n/*  converts 'arguments' (and any other array mimick) to real Array\n    ======================================================================== */\n\n_.withTest (['stdlib', 'asArray'], function () {\n\n    (function (a, b) {\n        var args = _.asArray (arguments)\n\n        $assert (_.isArray (args))\n        $assert (args.length === 2)\n        $assert (args[0] === a)\n        $assert (args[1] === b) }) (42, 43)\n\n        $assert (_.asArray (42), [42])\n\n        /*  Should not mutate its argument (regression)\n         */\n        var foo =     { 0: 'foo', length: 1 }\n        $assert (_.asArray (foo), ['foo'])\n        $assert (foo, { 0: 'foo', length: 1 }) }, function () { _.extend (_, {\n\n    asArray: function (x) {\n                return (x.length !== undefined) ? [].slice.call (x, 0) : [x] } }) })\n\n/*  Argument count tracking module (provides hinting to several metaprogramming\n    utilities, like property definitions)\n    ======================================================================== */\n\n_.withTest ('argcount tracking', function () {\n\n    var none        = function () {}\n    var one         = function (a) {}\n    var three       = function (a, b, c) {}\n    var many        = $restArg (function () {})\n\n    $assert (_.noArgs (none)    === true)\n    $assert (_.hasArgs (none)   === false)\n    $assert (_.numArgs (three)  === 3)\n    $assert (_.hasArgs (three)  === true)\n    $assert (_.restArg (many)   === true)\n    $assert (_.noArgs (many)    === false)\n    $assert (_.oneArg (one)     === true)\n\n    var sameAsThree = _.withSameArgs (three, function () {})\n    var oneArgLess  = _.withArgs (_.numArgs (three) - 1, _.restArg (three), function () {})\n\n    $assert ([_.numArgs (sameAsThree), _.restArg (sameAsThree)], [3, false])\n    $assert ([_.numArgs (oneArgLess ), _.restArg (oneArgLess )], [2, false])\n\n\n}, function () { _.extend (_, {\n\n    /*  Querying\n     */\n    numArgs: function (fn) {\n                return fn._ac === undefined ? fn.length : fn._ac },     // short name for speed\n\n    restArg: function (fn) {\n                return fn._ra || false },                               // short name for speed\n\n    noArgs: function (fn) {\n                return (_.numArgs (fn) === 0) && !fn._ra },\n\n    hasArgs: function (fn) {\n                return (_.numArgs (fn) > 0) && !fn._ra },\n\n    oneArg: function (fn) {\n                return (_.numArgs (fn) === 1) && !fn._ra },\n\n    /*  Setting\n     */\n    withRestArg: $global.$restArg = function (fn) {\n                                        Object.defineProperty (fn, '_ra', { enumerable: false, writable: true, value: true })\n                                        return fn },\n\n    withArgs: function (numArgs, restArg, fn) {\n                        if (numArgs !== undefined) {\n                            Object.defineProperty (fn, '_ac', { enumerable: false, writable: true, value: numArgs }) }\n                        if (restArg !== undefined) {\n                            Object.defineProperty (fn, '_ra', { enumerable: false, writable: true, value: restArg }) }\n                        return fn },\n\n    withSameArgs: function (other, fn) {\n                        return _.withArgs (_.numArgs (other), _.restArg (other), fn) } }) })\n\n/*  Adds argcount tracking to some underscore functions.\n    Will test it for speed in future, and if slow in app code,\n    will be de-mounted, thus sacrificing clarity in some places.\n    ======================================================================== */\n\n;(function () {\n\n    var override = function (name, genImpl) {\n                        return _[name] = genImpl (_[name]) }\n\n    override ('memoize',\n        function (memoize) {\n            return function (fn) {\n                        return _.withSameArgs (fn, memoize (fn)) } })\n\n    override ('partial',\n        function (partial) {\n            return $restArg (function (fn) {\n                                    return _.withArgs (\n                                        Math.max (0, _.numArgs (fn) - (arguments.length - 1)), fn._ra,\n                                            partial.apply (this, arguments)) }) })\n\n    override ('bind',\n        function (bind) {\n            return $restArg (function (fn, this_) {\n                                return _.withArgs (\n                                    Math.max (0, _.numArgs (fn) - (arguments.length - 2)), fn._ra,\n                                        bind.apply (this, arguments)) }) })\n\n}) ();\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/arguments.js","\"use strict\";\n\n/*  Basic utility for writing data-crunching functional expressions.\n    ======================================================================== */\n\n_.typeOf = function (what) {\n                return typeof what }\n\n_.instanceOf = function (what) {\n                    return function (x) { return (x instanceof what) } }\n\n_.count = function (what) { // cannot override _.length\n                return what.length }\n\n_.array = _.tuple = function () {\n                        return _.asArray (arguments) }\n\n_.cons = function (head, tail) { return [head].concat (tail || []) }\n\n_.atIndex = function (n) {\n                return function (arr) { return arr[n] } }\n\n_.takesFirst = _.higherOrder (_.first)\n_.takesLast  = _.higherOrder (_.last)\n\n_.applies = function (fn, this_, args) {\n                return function () { return fn.apply (this_, args) } }\n\n_.prepends = function (what) {\n                return function (to) {\n                    return what + to } }\n\n_.appends = function (what) {\n                return function (to) {\n                    return to + what } }\n\n_.join = function (arr, s) { return arr.join (s) }\n_.joinWith = _.flip2 (_.join)\n_.joinsWith = _.higherOrder (_.joinWith)\n\n_.split      = function (s, del) { return s.split (del) }\n_.splitWith  =                   _.flip2 (_.split)\n_.splitsWith =             _.higherOrder (_.splitWith)\n\n_.sum = function (a, b) {\n            return (a || 0) + (b || 0) }\n\n\n_.subtract = function (a, b) {\n                return (a || 0) - (b || 0) }\n\n_.mul = function (a, b) {\n            return (a || 0) * (b || 0) }\n\n_.equal = function (a, b) {\n            return a === b }\n\n_.sums      = _.plus  = _.higherOrder (_.sum)\n_.subtracts = _.minus = _.higherOrder (_.subtract)\n_.muls                = _.higherOrder (_.mul)\n_.equals              = _.higherOrder (_.equal)\n\n_.less           = function (a, b) { return a <  b }\n_.lessOrEqual    = function (a, b) { return a <= b }\n_.greater        = function (a, b) { return a >  b }\n_.greaterOrEqual = function (a, b) { return a >= b }\n\n_.isNegative = function (a) { return a < 0 }\n\n_.largest = function (a, b) {                   // FFFFUUUU: underscore already taken _.max for its dirty needs.\n                if (isNaN (a) && isNaN (b)) {\n                    return NaN }\n                else if (isNaN (a)) {\n                    return b }\n                else if (isNaN (b)) {\n                    return a }\n                else {\n                    return Math.max (a, b) } }\n\n_.notZero = function (x) { return x !== 0 }\n\n_.propertyOf = function (obj) { return function (prop) {            // inverted version of _.property\n                                            return obj[prop] }}\n\n_.oneOf = $restArg (function () {\n    return _.propertyOf (_.index (_.asArray (arguments))) })\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/busybox.js","\"use strict\";\n\n/*  Useful for debugging and tests\n    ======================================================================== */\n\n_.debugEcho = function () { return [this].concat (_.asArray (arguments)) }\n\n\n/*  Context-free version of fn.call (for consistency)\n    ======================================================================== */\n\n_.call = function (fn, this_, ...args) { return fn.apply (this_, args) }\n\n/*  Limits function to given number of arguments\n    ======================================================================== */\n\n_.arity = function (N, fn) { return function (...args) {\n                                        return fn.apply (this, args.slice (0, N)) }}\n\n_.arity0 = function (fn) { return function () {\n                                    return fn.call (this) }}\n\n_.arity1 = function (fn) { return function (a) {\n                                    return fn.call (this, a) }}\n\n_.arity2 = function (fn) { return function (a, b) {\n                                    return fn.call (this, a, b) }}\n\n_.arity3 = function (fn) { return function (a, b, c) {\n                                    return fn.call (this, a, b, c) }}\n\n_.arityFn = function (N) { return _['arity' + N] }\n\n\n/*  A version of _.partial that binds to tail of argument list\n    ======================================================================== */\n\n_.tails = $restArg (function (fn, ...tailArgs) {\n                                        return function () {\n                                            return fn.apply (this, _.asArray (arguments).concat (tailArgs)) }})\n\n_.tails2 = $restArg (function (fn, ...tailArgs) {\n                                        return function (a) {\n                                            return fn.apply (this, [a].concat (tailArgs)) }})\n\n_.tails3 = $restArg (function (fn, ...tailArgs) {\n                                        return function (a, b) {\n                                            return fn.apply (this, [a, b].concat (tailArgs)) }})\n\n\n/*  Userful for higher order operations\n    ======================================================================== */\n\n_.withTest (['function', 'calls / tails'], function () {\n\n    var fn       = _.debugEcho\n    var  foo42_  = _.callsWith ('foo', 42)\n    var _foo42   = _.tailsWith ('foo', 42)\n\n    var foo42_fn =   foo42_ (fn)\n    var fn_foo42 =  _foo42  (fn)\n\n    var _fn       = _.callsTo (fn)\n    var  fn_      = _.tailsTo (fn)\n    var fn_bar24  =  fn_ ('bar', 24)\n    var bar24_fn  = _fn  ('bar', 24)\n\n    $assert (foo42_fn.call ('lol', 777), ['lol', 'foo', 42, 777])\n    $assert (bar24_fn.call ('lol', 777), ['lol', 'bar', 24, 777])\n\n    $assert (fn_foo42.call ('lol', 777), ['lol', 777, 'foo', 42])\n    $assert (fn_bar24.call ('lol', 777), ['lol', 777, 'bar', 24])\n\n    $assertEveryCalledOnce (function (mkay) {\n        _.argumentPrependingWrapper (fn, function (fn) {\n            $assert (fn (777), ['lol', 777, 'foo', 42]); mkay () }).call ('lol', 'foo', 42) })\n\n}, function () {\n\n    _.callsTo = function (fn) {\n                    return $restArg (function () {\n                        return _.callsWith.apply (null, arguments) (fn) }) }\n\n    _.tailsTo = function (fn, then) {\n                    return $restArg (function () {\n                        return _.tailsWith.apply (null, arguments) (fn) }) }\n\n    _.callsWith = $restArg (function (/* args */) { var args = _.asArray (arguments)\n                                        return function (fn) {\n                                            return _.withSameArgs (fn, function () {\n                                                return fn.apply (this, args.concat (_.asArray (arguments))) }) } }) // @hide\n\n\n    _.tailsWith = $restArg (function (/* args */) { var args = _.asArray (arguments)\n                                        return function (fn) {\n                                            return _.withSameArgs (fn, function () {\n                                                return fn.apply (this, _.asArray (arguments).concat (args)) }) } }) // @hide\n\n    _.argumentAppendingWrapper = function (fn, then) {\n        return _.withSameArgs (fn, function () { var this_ = this, args = _.asArray (arguments)\n                                        return then (function () {\n                                            return fn.apply (this_, args.concat (_.asArray (arguments))) }) }) } // @hide\n\n    _.argumentPrependingWrapper = function (fn, then) {\n        return _.withSameArgs (fn, function () { var this_ = this, args = _.asArray (arguments)\n                                        return then (function () {\n                                            return fn.apply (this_, _.asArray (arguments).concat (args)) }) }) } }) // @hide\n\n\n/*  binding to constructor arguments (cannot do this with bind/partial)\n    ======================================================================== */\n\n_.new = $restArg (function (Constructor, a, b, c, d) {\n            switch (arguments.length) {\n                case 1: return new Constructor ()\n                case 2: return new Constructor (a)\n                case 3: return new Constructor (a, b)\n                case 4: return new Constructor (a, b, c)\n                case 5: return new Constructor (a, b, c, d)\n                default: _.notImplemented () } })\n\n/*  Flips function signature (argument order)\n    ======================================================================== */\n\n_.flipN = function (fn) { return $restArg (function () {\n             return fn.apply (this, _.asArray (arguments).reverse ()) })}\n\n_.flip = function (fn) {\n            if (_.restArg (fn)) { return _.flipN (fn) }\n            else { switch (_.numArgs (fn)) {\n                                    case 0:\n                                    case 1: return fn\n                                    case 2: return _.flip2 (fn)\n                                    case 3: return _.flip3 (fn)\n                                    default: throw new Error ('flip: unsupported arity') } } }\n\n_.flip2 = function (fn) { return function (a, b) {\n                                    return fn.call (this, b, a) }}\n\n_.flip3 = function (fn) { return function (a, b, c) {\n                                    return fn.call (this, c, b, a) }}\n\n/*  Logical composition operators\n    ======================================================================== */\n\n_.or = function (a, b) { return function () {\n        return a.apply (this, arguments) || b.apply (this, arguments) }},\n\n_.and = function (a, b) { return function () {\n        return a.apply (this, arguments) && b.apply (this, arguments) }},\n\n_.not = function (x) { return function () {\n        return !x.apply (this, arguments) } }\n\n/*  Y combinator (for anonymous recursive functions)\n    ======================================================================== */\n\n_.withTest (['function', 'Y combinator'], function () {\n\n    var countTo5 = _.Y (function (self) {\n        return function (n) {\n            return n >= 5 ? n : self (n + 1) } })\n\n    $assert (countTo5 (0), 5) }, function () { _.extend (_, {\n\n    Y: function (eatSelf) {\n        var self = eatSelf (function () {\n            return self.apply (this, arguments) }); return self } }) });\n\n\n/*  converts regular things like map/zip to hyper versions, that traverse\n    deep structures (tested later, via its derivatives: zipZip/mapMap etc)\n    ======================================================================== */\n\n/*  Operator argument is the thing that walks down the tree and transforms it.\n    But its predicate gets called only on the leaves of a tree (end values).\n\n    Essentially, it abstracts you from structure, making it 'transparent'\n    for any kind of previously defined one-dimensional operators like\n    map/filter/zip/reduce/etc.\n\n    Example:    hyperMap = _.hyperOperator (_.unary,  _.map2)\n                hyperZip = _.hyperOperator (_.binary, _.zip2)\n */\n\n (function () {\n\n    /*  N number denotes how many arguments underlying operation accepts\n     */\n    _.hyperOperator = function (N, operator, diCaprioPredicate, nonTrivial) {\n                                                                          var arity            = _.arityFn (N)       || _.identity\n                                                                          var weNeedToGoDeeper =  (diCaprioPredicate || _.goDeeperWhenFirstArgumentIsGood) (N, nonTrivial || _.isNonTrivial)\n                            return function () {                          var subOperator      = _.last (arguments)\n                                return _.Y (function (hyperOperator_) {   var hyperOperator    = _.tails (operator, arity (hyperOperator_))\n                                    return function () {\n                                        return (weNeedToGoDeeper (arguments) ?\n                                                    hyperOperator :\n                                                    subOperator)\n                                                        .apply (this, arguments) } }).apply (this, _.initial (arguments)) } }\n\n    /*  Combinatoric complexity classifiers for exact configuration of hyperOperator behavior\n     */\n    _.goDeeperWhenFirstArgumentIsGood= function (N, canGoDeeper) { \n        return function (args) { return   (args.length > 0) ? canGoDeeper (args[0]) : false } }\n\n    _.goDeeperAlwaysIfPossible= function (N, canGoDeeper) {\n             if (N === 0) {                          return _.constant (false)                                }\n        else if (N === 1) { return function (args) { return   canGoDeeper (args[0])                           } }\n        else if (N === 2) { return function (args) { return   canGoDeeper (args[0]) || canGoDeeper (args[1])  } }\n        else              { return function (args) { return _.some (_.asArray (args),  canGoDeeper)           } } }\n\n    _.goDeeperOnlyWhenNessesary = function (N, canGoDeeper) {\n             if (N === 0) {                          return _.constant (false)                                }\n        else if (N === 1) { return function (args) { return   canGoDeeper (args[0])                           } }\n        else if (N === 2) { return function (args) { return   canGoDeeper (args[0]) && canGoDeeper (args[1])  } }\n        else              { return function (args) { return _.every (_.asArray (args), canGoDeeper)           } } }\n\n    _.isTrivial = function (x) { return            _.isEmpty (x) || _.isString (x) || _.isNumber (x) || (x instanceof RegExp) ||\n                                        !(_.isStrictlyObject (x) || _.isArray (x)) || _.isPrototypeInstance (x) || _.isMeta (x) }\n\n    _.isMeta = _.constant (false)\n\n    _.isNonTrivial = _.not (_.isTrivial)\n\n    /*  Self-descriptive constants (for clarity)\n     */\n    _.binary = 2\n    _.unary  = 1 }) ()\n\n/*  Generates higher order stuff from regular routine\n    ======================================================================== */\n\n_.withTest (['function', 'higherOrder'], function () {\n\n        var file = []\n        var write = function (x) { file.push (x) }\n        var writes = _.higherOrder (write)\n\n        _.times (3, writes ('foo'))\n\n        $assert (file, ['foo', 'foo', 'foo']) }, function () {\n\n    _.higherOrder = _.callsTo })\n\n/*  coerces x|fn()x to x (useful for configuration parameters)\n    ======================================================================== */\n\n_.deferTest (['function', 'eval/evals'], function () {\n\n        var cfg = {\n            value1: 42,\n            value2: function () { return 42 },\n            value3: _.property ('number')\n        }\n\n        var evl = _.evals ({ number: 42 }) // higher order\n\n        $assert (_.eval (cfg.value1), _.eval (cfg.value2), evl (cfg.value3), 42) }, function () {\n\n    _.eval = function (x) {\n                return _.isFunction (x) ? x.call (this) : x  }\n\n    _.evals = function (__args__) {\n                var arguments_ = arguments\n                return function (x) {\n                    return _.isFunction (x) ? x.apply (this, arguments_) : x } } })\n\n/*  in rhyme with _.property, this one calls a method\n    ======================================================================== */\n\n_.method = function (name, ...args) {\n                    return function (obj) {\n                        return obj[name].apply (obj, args) } }\n\n/*  Converts between calling conventions\n    ======================================================================== */\n\n_.asFreeFunction = function (fn) { return function (this_, ...args) {\n                                            return fn.apply (this_, args) } }\n\n_.asMethod = function (fn) { return function () {\n                                        return fn.apply (undefined, [this].concat (_.asArray (arguments))) } } // @hide\n\n\n/*  _.once\n    ======================================================================== */\n\n_.withTest (['function', 'once'], function () {\n\n    $assertEveryCalledOnce (function (mkay) {\n        var f = _.once (function () { mkay () })\n        f ()\n        f () }) },                                          function () {\n\n    _.once = function (fn) {\n                var called = false\n                return function () {\n                    if (!called) { called = true\n                        return fn.apply (this, arguments) } } } })\n\n/*  _.withTimeout\n    ======================================================================== */\n\n_.deferTest (['function', 'withTimeout'], function (testDone) {\n\n    _.withTimeout ({\n        maxTime: 10,\n        expired: function () { $fail } },\n        function (done) { done () })\n\n    _.withTimeout ({\n        maxTime: 10,\n        expired: function (then) { testDone () } },\n        function (done) { _.delay (done, 20) },\n        function () { // 'then' should not be called if expired (though you may call it explicitly at expired() callback)\n            $fail })\n\n}, function () {\n\n    _.withTimeout = function (cfg, what, then) {\n        var expired = false\n        var timeout = setTimeout (function () {\n            expired = true\n            if (cfg.expired) {\n                cfg.expired (then) } }, cfg.maxTime)\n\n        what (function () {\n            if (!expired) {\n                clearTimeout (timeout)\n                if (then) {\n                    then.apply (this, arguments) } } }) } })\n\n/*  Sequential composition operator (inverted _.compose, basically)\n    ======================================================================== */\n\n_.withTest (['function', 'sequence / then'], function () {\n\n        var context = { foo: 'bar' }\n\n        var makeCookies = function (from) { $assert (this === context)\n            return 'cookies from ' + from }\n\n        var eatCookies = function (cookies) { $assert (this === context)\n            return 'nice ' + cookies }\n\n        var lifeProcess = makeCookies.then ?                            // available in both notations\n                                makeCookies.then (eatCookies) :\n                                _.then (makeCookies, eatCookies)\n\n        var anotherWay = _.sequence (makeCookies, eatCookies)\n        var wayAnother = _.sequence ([makeCookies, eatCookies])\n\n        $assert (lifeProcess.call (context, 'shit'), 'nice cookies from shit')\n        $assert (anotherWay.call  (context, 'shit'), 'nice cookies from shit')\n        $assert (wayAnother.call  (context, 'shit'), 'nice cookies from shit')\n\n        $assert (_.sequence ([]).call (context, 'foo'), 'foo')\n\n        var plusBar = _.then (function (x) { return Promise.resolve (x) },\n                              function (x) { return x + 'bar' })\n\n        return plusBar ('foo').then (function (x) { $assert (x, 'foobar') })\n\n    }, function () {\n\n        _.sequence = function (arg) { // was _.flip (_.compose) before... but it needs performance\n            var chain = _.isArray (arg) ? arg : _.asArray (arguments)\n            var length = chain.length\n            return (length === 0) ? _.identity : function (x) {\n                for (var i = 0; i < length; i++) { x = chain[i].call (this, x) }\n                return x } }\n\n        _.seq = _.sequence\n\n        _.then = function (fn1, fn2) { return function (args) {\n                                                var r = fn1.apply (this, arguments)\n                                                return (r instanceof Promise)\n                                                            ? r.then (fn2.bind (this))\n                                                            : fn2.call (this, r) }} })\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/function.js","\"use strict\";\n\nconst O = Object\n\n/*  For checking whether the module is available\n    ======================================================================== */\n\n_.hasTags = true\n\n\n/*  Unit test / spec\n    ======================================================================== */\n\n_.withTest ('meta-tags', function () {\n\n/*  This is how you define tags     */\n\n    Tags.define ('foo')\n    Tags.define ('bar')\n    Tags.define ('qux')\n\n    $assert (Tags.isDefined ('foo'))\n    $assert ($foo instanceof Function)\n\n/*  Tags produce objects containing them as boolean flags. You can tag anything.\n    Order doesn't matter, redundancy is legal.   */\n\n    $assert ($foo (42).$foo,    true)\n    $assert ($bar (null).$bar,  true)\n    $assert ($foo (42).$bar,    undefined)\n    $assert ($foo ($bar (42)),  $bar ($foo ($foo (42))))\n\n/*  Safe way to check for a tag presence is $tag.is method:     */\n\n    $assert ($foo.is ($foo (42)), true)\n    $assert ($foo.is ($bar (42)), false)\n    $assert ($foo.is (42),        false)\n\n/*  Example of complex object containing tagged fields.     */\n\n    var test = {\n        fourtyOne: $bar ($foo (41)),\n        fourtyTwo: $foo ($bar (42)),\n        notTagged: 40 }\n\n/*  This is how you coerce what-might-be-tagged to actual values:   */\n\n    $assert ($untag (42), Tags.unwrap (42), Tags.unwrap (test.fourtyTwo), 42)\n    $assert (Tags.unwrapAll (test), { fourtyTwo: 42, fourtyOne: 41, notTagged: 40 })\n\n/*  Tags have .matches property, which is a predicate to test objects for those tags.   */\n\n    $assert ($foo.matches ($foo ()))\n    $assert ($foo.matches (test.fourtyOne))\n    $assert ($foo.matches (42) === false)\n\n/*  These predicates could be combined to produce complex test (a generic feature of Function provided by common.js)    */\n\n    $assert ({ fourtyOne: 41, fourtyTwo: 42 },  Tags.unwrapAll (_.pick (test, _.and ($foo.matches, $bar.matches))))\n    $assert ({ notTagged: 40 },                 Tags.unwrapAll (_.omit (test, $foo.matches)))\n\n/*  You can replace value that might be tagged, i.e. $foo($bar(x))  $foo($bar(y))  */\n\n    $assert (43,                Tags.modify (42,         function (subject) { return subject + 1 })) // not tagged\n    $assert ($foo (43),         Tags.modify ($foo (42),  _.constant (43)))\n    $assert ($foo ($bar (43)),  Tags.modify ($foo (42),  function (subject) { return $bar (subject + 1) }))\n\n/*  Low-level way of tags addition, for run-time shit.  */\n\n    $assert (Tags.add ('qux', 42).$qux)\n    $assert (Tags.add ('qux', test.fourtyTwo).$qux)\n\n/*  Wrapping nothing is now legal   */\n\n    $assert (Tags.hasSubject ($foo ()),   false)\n    $assert (Tags.hasSubject ($foo (42)), true)\n\n/*  Map over tagged values:     */\n\n    $assert (     $qux ([8, 9, $foo ($bar (10))]),\n        Tags.map ($qux ([1, 2, $foo ($bar (3))]), _.sums (7)))\n\n/*  Enumerating tags with Tags.each (obj, iter)     */\n\n    $assertMatches (['foo', 'bar', 'qux'], _.arr (function (iter) { Tags.each (test.fourtyTwo, iter) }))\n\n/*  Tagging with non-boolean data   */\n\n    $assert ($foo ({ some: 'params' }, 42).$foo, { some: 'params' })\n\n/*  'Extend' algebra    */\n\n    $assert (Tags.extend ($foo (7), $bar (8)), $foo ($bar (7)))\n    $assert (Tags.extend ($foo (7),       8),  $foo (      7))\n    $assert (Tags.extend (      7,  $foo (8)), $foo (      7))\n    $assert (Tags.extend (      7,        8),              7)\n\n/*  Tags.omit   */\n\n    $assert (Tags.omit (            7,   '$foo'),          7)\n    $assert (Tags.omit ($foo ($bar (7)), '$foo',  '$bar'), 7)\n    $assert (Tags.omit ($foo ($bar (7)), '$foo'),  $bar (  7))\n\n/*  String.ify  */\n\n    if (String.ify) {\n\n        $assert (String.ify ({ foo: $constant ($get ({ bar: 7 }, 1)) }),\n                            '{ foo: $constant ($get ({ bar: 7 }, 1)) }')\n        \n        $assert (String.ify.configure ({ pretty: true })\n                            ({ foo: $constant ($get ([ 7,\n                                                       8  ])) }),\n                            '{ foo: $constant ($get ([ 7,\\n'\n                          + '                          8  ])) }')\n    }\n\n/*  Cleanup test stuff  */\n\n    ;['$foo', '$bar', '$qux', '$plusOne'].forEach (function (x) { delete $global[x] })\n        \n\n/*  IMPLEMENTATION\n    ======================================================================== */\n\n}, function () {\n\n/*  Tags object\n    ======================================================================== */\n\n    $global.Tags = function (subject, keys) { if (subject !== undefined) { this.subject = subject }\n                                              if (keys    !== undefined) { _.extend (this, keys) } }\n\n    Tags.$definition = {} // to make it recognizeable by ES3000\n\n\n/*  Instance methods (internal API)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n    \n    O.assign (Tags.prototype, {\n\n        add: function (name, additionalData) {\n                    return this['$' + name] = additionalData || true, this },\n\n        clone: function (newSubject) {\n                    return O.assign (new Tags (newSubject || this.subject), Tags.get (this)) },\n\n        modify: function (changesFn) {\n                            this.subject = changesFn (this.subject)\n                            if (this.subject instanceof Tags) {\n                                return O.assign (this.subject, Tags.get (this)) }\n                            else {\n                                return this }},\n\n        extend: function (other) {\n                    return (other instanceof Tags) ? O.assign (this, Tags.get (other)) : this } })\n\n\n/*  Static methods (public API)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n    O.assign (Tags, {\n\n        omit: $restArg (function (what, ...args) {\n\n            if (what instanceof Tags) {                   var keysToOmit = _.index (args)\n                                                          var keysLeft   = _.pick (what, function (v, k) { return (k[0] === '$') && !(k in keysToOmit) })\n                        return (!_.isEmptyObject (            keysLeft)\n                                    ? new Tags (what.subject, keysLeft)\n                                    :           what.subject) }\n            else {\n                return what } }),\n  \n        clone: function (what, newSubject) {\n                    return (what instanceof Tags) ? what.clone (newSubject) : (newSubject || what) },\n\n        extend: function (what, other) { return (what instanceof Tags)  ? what.clone ().extend (other) : (\n                                                (other instanceof Tags) ? Tags.wrap (what).extend (other) : what) },\n\n        get: function (def) {\n                    return ((def instanceof Tags) ? _.pick (def, function (v, k) { return k[0] === '$' }) : {}) },\n\n        each: function (def, accept) {\n                    if (def instanceof Tags) { _.each (def, function (v, k) { if (k[0] === '$') { accept (k.slice (1)) } }) } },\n\n        hasSubject: function (def) {\n                        return ((def instanceof Tags) && ('subject' in def)) },\n\n        matches: function (name) {\n                    return function (obj) { return obj && (obj['$' + name] !== undefined) } },\n\n        unwrapAll: function (definition) {\n                        return _.map2 (definition, Tags.unwrap) },\n\n        unwrap: function (what) {\n                    return (what instanceof Tags) ? what.subject : what },\n\n        wrap: function (what) {\n                    return (what instanceof Tags) ? what : ((arguments.length === 0) ? new Tags () : new Tags (what)) },\n\n        modify: function (what, changesFn) {\n                            return (what instanceof Tags) ?\n                                        what.clone ().modify (changesFn) : changesFn (what) }, // short circuits if not wrapped\n\n        map: function (obj, op) { return Tags.modify (obj,\n                                                function (obj) {\n                                                    return _.map2 (obj, function (t, k) {\n                                                        return Tags.modify (t, function (v) {\n                                                            return op (v, k, (t instanceof Tags) ? t : undefined) }) }) }) },\n\n        add: function (name, toWhat, additionalData) {\n                return Tags.wrap.apply (null, [].slice.call (arguments, 1)).add (name, additionalData) },\n\n        all: new Set (),\n\n        isDefined: function (k) {\n                        return Tags.all.has (k) },\n\n        define: function (k, fn) { // fn for additional processing of constructed function\n\n                    Tags.all.add (k)\n\n                    fn = (_.isFunction (fn) && fn) || _.identity\n\n                    var $k = '$' + k\n\n                    $global[$k] = fn (function (a, b) {\n                                        if (arguments.length < 2) { return Tags.add (k, a) }       // $tag (value)\n                                                             else { return Tags.add (k, b, a) } }) // $tag (params, value)\n                    \n                    return O.assign ($global[$k], {\n                               matches: Tags.matches (k),\n                                    is: function (x) { return  ((x instanceof Tags) && ($k in x)) || false },\n                                 isNot: function (x) { return !((x instanceof Tags) && ($k in x)) || false },\n                                unwrap: function (x) { return  ($atom.matches (x) === true) ? Tags.unwrap (x) : x } }) },\n    })\n\n/*  $untag\n    ======================================================================== */\n\n    $global.$untag = Tags.unwrap\n\n\n/*  TODO: move out of this file\n    ======================================================================== */\n\n    ;['constant', 'get', 'once', 'async', 'atom'].forEach (Tags.define);\n\n})\n\n/*  Formatting shit\n    ======================================================================== */\n\n    if (typeof Symbol !== 'undefined') {\n\n        var bullet = require ('string.bullet')\n\n        Tags.prototype[Symbol.for ('String.ify')] = function (stringify) {\n\n            if (stringify.json) {\n                return stringify ($untag (this)) }\n\n            var tags = Tags.get (this)\n            var left = _.reduce (tags, function (memo, value, tag) {\n                                            return _.isBoolean (value)\n                                                ? (tag + ' (' + memo)\n                                                : (tag + ' (' + stringify.configure ({ pretty: false }) (value) + ', ' + memo) }, '')\n\n            return bullet (left, stringify ($untag (this))) + ')'.repeats (_.keys (tags).length)\n        }\n    }\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/meta-tags.js","\"use strict\";\n\n/*  $platform / $global\n    ======================================================================== */\n\n;(function () {\n\n    var p = (function () {\n\n                if ((typeof window !== 'undefined') && (window.window === window) && (window.navigator !== undefined)) {\n                        \n                    var platform            = navigator.platform,\n                        userAgent           = navigator.userAgent,\n                        platformOrUserAgent = platform + '\\n' + userAgent\n\n                        return _.extend ({\n                                engine: 'browser',\n                                browserEngine: ((userAgent.indexOf ('AppleWebKit') >= 0) ? 'WebKit' : undefined),\n                                browser: \n                                    ((userAgent.indexOf ('Firefox') >= 0) ? 'Firefox' :\n                                    ((userAgent.indexOf ('Chrome')  >= 0) ? 'Chrome' :\n                                    ((userAgent.indexOf ('Safari')  >= 0) ? 'Safari' :\n                                    ((userAgent.indexOf ('Trident') >= 0) ? 'IE' : undefined)))) },\n\n                                ((platform           .indexOf (\"Linux arm\") >= 0)\n                            ||   (platformOrUserAgent.indexOf (\"Android\")   >= 0) ? { touch: true, system: 'Android' } :\n\n                                    ((platformOrUserAgent.indexOf (\"iPad\")   >= 0) ? { touch: true, system: 'iOS', device: 'iPad' }  :\n                                    ((platformOrUserAgent.indexOf (\"iPhone\") >= 0)\n                                ||   (platformOrUserAgent.indexOf (\"iPod\")   >= 0) ? { touch: true, system: 'iOS', device: 'iPhone' } : {} )))) }\n\n                else if ((typeof global !== 'undefined') && (global.global === global)) {\n                    return { engine: 'node' } }\n\n                else {\n                    return {} } }) ()\n\n    var $global = (p.engine === 'browser') ? window :\n                  (p.engine === 'node')    ? global : undefined\n\n    $global.property = function (name, v, cfg) { \n\n                            if (name in $global) {\n                                throw new Error ('cannot redefine global ' + name) }\n\n                            else {\n                                var def = (v instanceof Function)\n                                            ? { get: v, set: function () { throw new Error ('cannot set global ' + name) } }\n                                            : v\n\n                                return Object.defineProperty ($global, name, Object.assign ({}, def, { enumerable: true }, cfg)) } }\n\n    $global.const = function (name, v, cfg) {\n                        return $global.property (name, { value: v, writable: false }, cfg) }\n\n    $global.const ('$global', $global)\n    $global.const ('$platform', {   engine:  p.engine,\n                                    system:  p.system,\n                                    device:  p.device,\n                                    touch:   p.touch || false,\n\n                                    IE:      p.browser       === 'IE',\n                                    Firefox: p.browser       === 'Firefox',\n                                    Safari:  p.browser       === 'Safari',\n                                    Chrome:  p.browser       === 'Chrome',\n                                    WebKit:  p.browserEngine === 'WebKit',\n\n                                    Browser: p.engine === 'browser',\n                                    NodeJS:  p.engine === 'node',\n                                    iPad:    p.device === 'iPad',\n                                    iPhone:  p.device === 'iPhone',\n                                    iOS:     p.system === 'iOS'              })\n\n}) ();\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/platform.js","\"use strict\";\n\n/*  Properties\n    ======================================================================== */\n\n_.withTest ('properties', function () { var obj = {}\n\n    _.defineProperty (obj, 'fourtyTwo',         42)\n    _.defineProperty (obj, 'fourtyTwo_too',     function ()  { return 42 })\n    _.defineProperty (obj, 'fourtyTwo_orDie',   function (x) { $assert (x == 42); return 42 })\n    _.defineProperty (obj, 'fourtyTwo_eitherWay', {\n        configurable: true,\n        get: function () { return 42 },\n        set: function (x) { $assert (x == 42) } })\n\n    $assert (42,\n        obj.fourtyTwo,\n        obj.fourtyTwo_too,\n        obj.fourtyTwo_orDie (42),\n        obj.fourtyTwo_eitherWay = 42)\n\n    delete obj.fourtyTwo_eitherWay                              // can be deleted if configurable:true\n    $assert (obj.fourtyTwo_eitherWay === undefined)\n\n    $assertThrows (() => delete obj.fourtyTwo) // cannot be deleted (as default behavior)\n\n    _.defineHiddenProperty (obj, 'hiddenAndDangerous', 42)      // shortut for enumerable:false\n    $assert (_.keys (obj).indexOf ('hiddenAndDangerous') < 0)\n\n    $assertEveryCalledOnce (function (mkay) {                   // memoized property\n        _.defineMemoizedProperty (obj, '_42', function () {\n                                                    mkay (); return 42 }) \n        $assert (                           \n            obj._42,                                \n            obj._42,\n            obj._42, 42) }) }, function () { _.extend (_, {\n\n    defineProperty: function (targetObject, name, def, defaultCfg) {\n        if (_.isObject (targetObject) && targetObject.hasOwnProperty (name)) {\n            throw new Error ('_.defineProperty: targetObject already has property ' + name) }\n        else {\n            Object.defineProperty (targetObject, name,\n                _.extend ({ enumerable: true }, defaultCfg, _.coerceToPropertyDefinition (def, name))) } },\n\n    defineHiddenProperty: function (targetObject, name, def, defaultCfg) {\n        return _.defineProperty (targetObject, name, def, _.extend ({ enumerable: false }, defaultCfg)) },\n\n    defineMemoizedProperty: function (targetObject, name, def_, defaultCfg) {\n        var def = _.coerceToPropertyDefinition (def_, name)\n        return _.defineProperty (targetObject, name,\n                    _.extend ({}, def, {\n                        get: _.memoizeToThis ('_' + name, def.get) }), defaultCfg) },\n\n    defineProperties: function (targetObject, properties) {\n        _.each (properties, _.defineProperty.partial (targetObject).flip2) },\n\n    memoizedState: function (obj) {\n                        return _.filter2 (obj, function (v, k) { return (k[0] === '_') && !_.isFunction (v) }) },\n\n    memoizeToThis: function (name, fn) {\n        return function () {\n            var memo = this[name]\n            return (memo !== undefined) ? memo : (this[name] = fn.call (this)) } },\n\n    coerceToPropertyDefinition: function (value_, /* optional */ name) {\n        var value = value_ || {}\n        var actualValue = (typeof Tags === 'undefined') ? value_ : Tags.unwrap (value_)\n\n                // property definition case (short circuit then)\n        return  (!value.$constant && !value.$get && _.isPropertyDefinition (actualValue) && actualValue) ||\n\n                // get-accessor-alone case\n                ((value.$get || (!value.$constant && _.isFunction (actualValue) && _.noArgs (actualValue))) &&\n                    {   get: actualValue,\n                        set: _.throwsError ('cannot change ' + (name || 'property') + ' (as it\\'s an accessor function)') }) ||\n\n                // constant value case\n                (!value.$get && {   get: _.constant (actualValue),\n                                    set: _.throwsError ('cannot change ' + (name || 'property') + ' (as it\\'s sealed to ' + actualValue + ')') }) ||\n\n                // any other case (erroneous)\n                _.throwsError ('coerceToPropertyDefinition: crazy input, unable to match') () },\n\n    isPropertyDefinition: function (obj) {\n        return _.isObject (obj) && (_.isFunction (obj.get) || _.isFunction (obj.set)) },\n\n    ownProperties: function (obj) {\n        return (obj && _.pickKeys (obj, obj.hasOwnProperty.bind (obj))) || {} }  }) })\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/properties.js","\"use strict\";\n\nconst O = require ('es7-object-polyfill')\n\n_.hasStdlib = true\n\n/*  _.throwsError\n    ======================================================================== */\n\n_.withTest (['stdlib', 'throwsError'], function () {\n\n        $assertThrows (_.throws ('foo'), 'foo')\n\n        $assertThrows (_.throwsError (           ' '),  _.matches ({ message: ' ' }))\n        $assertThrows (_.throwsError (new Error (' ')), _.matches ({ message: ' ' }))   },\n\n    function () {\n\n        _.throwsError = _.higherOrder (\n            _.throwError = function (msg) {\n                             throw (msg instanceof Error) ? msg : new Error (msg) })\n\n        _.throws = _.higherOrder (\n                        _.throw = function (msg) { throw msg })\n\n        _.overrideThis   = _.throwsError ('override this')\n        _.notImplemented = _.throwsError ('not implemented') })\n\n\n/*  Abstract _.values\n    ======================================================================== */\n\n_.withTest (['stdlib', 'values2'], function () {\n\n    $assert (_.values2 (undefined), [])\n    $assert (_.values2 (_.identity), [_.identity])\n    $assert (_.values2 ('foo'), ['foo'])\n    $assert (_.values2 (['foo', 'bar']), ['foo', 'bar'])\n    $assert (_.values2 ({ f: 'foo', b: 'bar' }), ['foo', 'bar'])\n\n}, function () { _.mixin ({\n                    values2: function (x) {\n                             if (_.isArrayLike (x))         { return x }\n                        else if (_.isStrictlyObject (x))    { return _.values (x) }\n                        else if (_.isEmpty (x))             { return [] }\n                        else                                { return [x] } } }) })\n\n/*  Map 2.0\n    ======================================================================== */\n\n/*  Semantically-correct abstract map (maps any type of value)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'map2'], function () {\n\n                                 var plusBar =   _.appends ('bar')\n\n    $assert (_.map2 (       'foo',   plusBar),           'foobar'  )\n    $assert (_.map2 ([      'foo'],  plusBar),    [      'foobar' ])\n    $assert (_.map2 ({ foo: 'foo' }, plusBar),    { foo: 'foobar' })\n\n    $assert (Array.from (_.map2 (new Set (['foo',    'bar']), plusBar).values ()),\n                                          ['foobar', 'barbar'])\n\n    /*  With flipped order of arguments (callback first)\n     */\n    $assert (_.mapWith (plusBar, { foo: 'foo' }), { foo: 'foobar' })\n\n}, function () { _.mixin ({     map2: function (value,                       fn,      context) { return (\n                                 _.isArrayLike (value) ? _.map       (value, fn,      context) : (\n                                (value instanceof Set) ? _.mapSet    (value, fn,      context) : (\n                            _.isStrictlyObject (value) ? _.mapValues (value, fn,      context) :\n                                                                             fn.call (context, value)))) } })\n\n                _.mapSet = function (set, fn, ctx) { var out = new Set ()\n                                                     for (var x of set) { out.add (fn.call (ctx, x)) }\n                                                     return out }\n                _.mapsWith = _.higherOrder (\n                _.mapWith  = _.flip2 (_.map2)) })\n\n/*  Pluck 2.0\n    ======================================================================== */\n\n_.pluck2 = function (x, prop) {\n                return _.map2 (x, _.property (prop)) }\n\n\n/*  Maps one-to-many\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'scatter/obj/arr'], function () {\n\n    $assert (undefined, _.scatter ([], _.noop))\n\n    $assert ([1,10, 2,20, 3,30],         _.scatter ([1,2,3], function (x, i, return_) { return_ (x); return_ (x * 10) }))\n    $assert ({ 'b': 0, 'a': 1, 'r': 2 }, _.scatter ('bar',   function (x, i, return_) { _.each (x.split (''), _.flip (return_)) }))\n\n    $assert (_.obj (_.noop),\n             _.arr (_.noop), undefined)\n\n    $assert (_.obj (function (emit) {\n                              emit (42, 'foo')\n                              emit (43, 'bar') }), { foo: 42, bar: 43 })\n\n    $assert (_.arr (function (emit) {\n                              emit (42)\n                              emit (43, 44) }), [42, [43, 44]])\n\n}, function () { _.mixin ({\n                    scatter: function (obj, elem) { var result = undefined\n                                _.map2 (obj, function (x, i) {\n                                                 elem (x, i, function (v, k) {\n                                                                if (arguments.length < 2) { (result = result || []).push (v) }  \n                                                                                     else { (result = result || {})[k] = v } }) }); return result } })\n                 _.obj = function (emitItems) {\n                            var x = undefined; emitItems (function (v, k)  { (x = x || {})[k] = v  })\n                         return x }\n\n                 _.arr = function (emitItems) {\n                            var x = undefined; emitItems (function (v    ) { (x = x || []).push ((arguments.length < 2) ? v : _.asArray (arguments)) })\n                         return x } })\n\n\n/*  Maps keys (instead of values)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'mapKeys'], function () {\n\n    $assert (_.mapKeys ({ 'foo':    [1, 2,{ 'gay':    3 }]}, _.appends ('bar')),\n                        { 'foobar': [1, 2,{ 'gaybar': 3 }]})\n\n}, function () { _.mapKeys = function (x, fn) {\n                        if (_.isArrayLike (x)) {\n                            return _.map (x, _.tails2 (_.mapKeys, fn)) }\n                        else if (_.isStrictlyObject (x)) {\n                            return _.fromPairs (_.map (O.entries (x), function (kv) { return [fn (kv[0]), _.mapKeys (kv[1], fn)] })) }\n                        else {\n                            return x } } })              \n\n\n/*  Hyper map (deep) #1  maps leafs\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'mapMap'], function () {\n\n        $assert (_.mapMap ( 7,  _.typeOf),  'number')   // degenerate cases\n        $assert (_.mapMap ([7], _.typeOf), ['number'])\n\n        $assert (_.mapMap ( {   foo: 7,\n                                bar: ['foo', {\n                                    bar: undefined } ] }, _.typeOf),\n                            \n                            {   foo: 'number',\n                                bar: ['string', {\n                                    bar: 'undefined' } ] }) },\n    function () {\n\n        _.mapMap = _.hyperOperator (_.unary, _.map2) })\n\n\n/*  Hyper map (deep) #2  maps branches & leafs \n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'hyperMap'], function () {\n\n        var complexObject = {  garply:         { bar: { baz: 5 } },\n                               frobni: { foo: [{ bar: { baz: 5 } }] } }\n    /*                                         -----------------             */\n\n        var barBazSubstructure =    _.matches ({ bar: { baz: 5 } })\n\n        var transformedObject = _.hyperMap (complexObject, function (x) {\n                                                                if (barBazSubstructure (x)) { return 'pwned!' } })\n\n        $assert (transformedObject, { garply:         'pwned!',\n                                      frobni: { foo: ['pwned!'] } })         },\n\n    function () {\n\n        _.hyperMap =  function (data, op) {\n                        return _.hyperOperator (_.unary, function    (expr, f) {\n                                                           return op (expr) ||\n                                                              _.map2 (expr, f) }) (data, _.identity) } })\n\n\n/*  Abstract _.pairs\n    ======================================================================== */\n\n_.withTest (['stdlib', 'pairs2'], function () {\n\n    $assert (_.pairs2 (undefined),              [[undefined, undefined]]) // TODO: unify semantics with _.values2\n    $assert (_.pairs2 (_.identity),             [[undefined, _.identity]])\n    $assert (_.pairs2 ('foo'),                  [[undefined, 'foo']])\n    $assert (_.pairs2 (['foo', 'bar']),         [[ 0,  'foo'], [ 1,  'bar']])\n    $assert (_.pairs2 ({ 0: 'foo', 1: 'bar' }), [['0', 'foo'], ['1', 'bar']]) },\n\n        function () {\n\n            _.pairs2 = function (x) { return _.scatter (x, function (x, i, return_) { return_ ([i, x]) }) } })\n\n\n\n/*  Filter 2.0\n    ======================================================================== */\n\n_.withTest (['stdlib', 'filter 2.0'], function () { var foo = _.equals ('foo')\n\n    // generic filter behavior for any container type\n\n    $assert (_.filter2 (     'foo'  ,   foo),        'foo' )\n    $assert (_.filter2 ([    'foo' ],   foo),   [    'foo' ])\n    $assert (_.filter2 ({ f: 'foo' },   foo),   { f: 'foo' })\n    \n    $assert (_.filter2 (     'foo'  ,   _.not (foo)),   undefined)\n    $assert (_.filter2 ([    'foo' ],   _.not (foo)),   [])\n    $assert (_.filter2 ({ f: 'foo' },   _.not (foo)),   {})\n\n    // map behavior, if predicate returns not boolean (mixed-behavior test not needed - although its the expected case of use)\n\n    $assert (_.filter2 (     'foo' ,    _.constant ('bar')),         'bar'  )\n    $assert (_.filter2 ([    'foo' ],   _.constant ('bar')),    [    'bar' ])\n    $assert (_.filter2 ({ f: 'foo' },   _.constant ('bar')),    { f: 'bar' })\n\n    // hyper-filter #1 (works on leafs)\n\n    $assert (_.filterFilter (\n                    { foo: 'foo',   bar: [7, 'foo', { bar: 'foo' }] }, _.not (_.equals ('foo'))),\n                    {               bar: [7,        {            }] })  \n\n    // there was a bug\n\n    $assert (_.hyperFilter ({ foo: /regexp/ }, _.constant (true)).foo instanceof RegExp)\n\n}, function () {\n\n    _.reject2 = function (value, op) {\n        return _.filter2 (value, _.not (op)) }\n\n    _.filter2 = function (value, op) {\n        if (_.isArrayLike (value)) {                            var result = []\n            for (var i = 0, n = value.length; i < n; i++) {     var v = value[i], opSays = op (v, i)\n                if (opSays === true) {\n                    result.push (v) }\n                else if (opSays !== false) {\n                    result.push (opSays) } } return result }\n\n        else if (_.isStrictlyObject (value)) {                  var result = {}\n            _.each (Object.keys (value), function (key) {       var v = value[key], opSays = op (v, key)\n                if (opSays === true) {\n                    result[key] = v }\n                else if (opSays !== false) {\n                    result[key] = opSays } }); return result }\n\n        else {                                                  var opSays = op (value)\n            if (opSays === true) {\n                return value }\n            else if (opSays !== false) {\n                return opSays }\n            else {\n                return undefined } } }\n\n        _.filterFilter = _.hyperOperator (_.unary, _.filter2)\n\n        _.hyperFilter =  function (data, op) {\n                           return _.hyperOperator (_.unary, function (                   expr, f) {\n                                                           var x =                   op (expr)\n                                                      return ((x === true) && _.filter2 (expr, f)) || x }) (data, _.identity) }\n\n        _.hyperReject = function (data, op) {\n            return _.hyperFilter (data, function (x) { var  opa = op (x)\n                                        return _.isBoolean (opa) ?\n                                                           !opa  :\n                                                            opa }) }\n})\n\n/*  ------------------------------------------------------------------------ */\n\n_.withTest (['stdlib', 'each 2.0'], function () {\n\n    var test = function (input) {                                        var output = []\n                _.each2 (input, function ( x,     i,          n) {           output.push (\n                                         [ x,     i,          n]) }); return output }\n                            \n        $assert (test ( 'foo'),         [['foo',  undefined,  1]])        \n        $assert (test (['foo', 'bar']), [['foo',  0,          2],\n                                         ['bar',  1,          2]])\n        $assert (test ({ 'f': 'oo',\n                         'b': 'ar' }),  [[ 'oo', 'f',         2],\n                                         [ 'ar', 'b',         2]])\n}, function () { \n\n    _.each2 =            function (x,                                                                           f) {\n           if (     _.isArrayLike (x)) {                          for (var     i = 0, n = x.length; i < n; i++) f (x[       i ],     i, n) } // @hide\n      else if (_.isStrictlyObject (x)) { var k = Object.keys (x); for (var ki, i = 0, n = k.length; i < n; i++) f (x[ki = k[i]],    ki, n) }\n         else                          {                                                                        f (x,        undefined, 1) } } })\n\n\n/*  Reduce on steroids\n    ======================================================================== */\n\n_.withTest (['stdlib', 'reduce 2.0'], function () {\n\n    $assert (_.reduce2 (     3,   [7,    9 ], _.sum), 19)\n    $assert (_.reduce2 ([    3,    7,    9 ], _.sum), 19)\n    $assert (_.reduce2 ({ a: 3, b: 7, c: 9 }, _.sum), 19)\n    $assert (_.reduce2 (     3   + 7   + 9  , _.sum), 19)\n\n    $assert (_.reduce2 ([1], _.sum), 1)\n    $assert (_.reduce2 ([],  _.sum), undefined)\n\n    $assert (              1 + 20 + 3 + 4 + 5,\n        _.reduceReduce ([[[1], 20],[3,[ 4,  5]]], function (a, b) { return (_.isNumber (a) && _.isNumber (b)) ? (a + b) : b }))\n\n}, function () {\n\n    /*  Because hyperOperator is fractal thing, it is nessesary to define a compatible argument\n        order for _.reduce and its functor operand, as they get melted together to form a generic\n        self-similar routine of a higher order.\n\n        And that becames kinda \"Yodish\" when applied to familiar 'reduce'. See how they dont match:\n\n            1. _.reduce (value, op, memo)\n            2.       op (memo, value)\n    */\n\n    _.reduce2 = function (        _1,                 _2,      _3) { var no_left = arguments.length < 3\n                       var left = _1,        rights = _2, op = _3\n         if (no_left) {    left = undefined; rights = _1; op = _2 }\n\n         _.each2 (rights, function (right, i) {\n                  left =  no_left ? right :\n                          op (left, right); no_left = false }); return left } // @hide\n\n    _.reduceReduce = function (_1, _2, _3) {                             var initial = _1, value = _2, op = _3\n                        if (arguments.length < 3) {                          initial = {}; value = _1; op = _2 }\n                        return _.hyperOperator (_.binary,\n                                                _.reduce2,\n                                                _.goDeeperAlwaysIfPossible) (initial,      value,      op) }\n })\n\n\n/*  Abstract concat\n    ======================================================================== */\n\n_.withTest (['stdlib', 'concat2'], function () {\n\n    $assert (_.concat ([1,2], [3], [4,5]), [1,2,3,4,5])\n    $assert (_.concat ( { foo: 1 }, { bar: 2 }),  { foo: 1, bar: 2 })\n    $assert (_.concat ([{ foo: 1 }, { bar: 2 }]), { foo: 1, bar: 2 })\n    $assert (_.concat (1,2,3), 6)\n\n}, function () { \n\n    _.concat = function (a, b) { var      first,          rest\n            if (arguments.length === 1) { first = a[0];   rest =  a.slice (1) }\n            else {                        first = a;      rest =  [].slice.call (arguments, 1) }\n\n            return _.isArrayLike (first)\n                          ? first.concat.apply (first, rest)\n                          :          _.reduce2 (first, rest, function (              a,  b) {\n                                                                if (_.isObject (     a) &&\n                                                                    _.isObject (         b)) {\n                                                                return _.extend ({}, a,  b)  }\n                                                        else {  return               a + b   } }) } })\n\n/*  Zip 2.0\n    ======================================================================== */\n\n/*  Abstract zip that reduces any types of matrices.\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.deferTest (['stdlib', 'zip2'], function () {\n\n    $assert (_.zip2 ([  'f',\n                        'o',\n                        'o'], _.concat), 'foo')\n\n    $assert (_.zip2 ([  ['f', 'b'],\n                        ['o', 'a'],\n                        ['o', 'r']], _.concat), ['foo', 'bar'])\n\n    $assert (_.zip2 ([  { foo:'f', bar:'b' },\n                        { foo:'o', bar:'a' },\n                        { foo:'o', bar:'r' }], _.concat), { foo: 'foo', bar: 'bar' })\n\n    $assert (_.zip2 (   { foo:'f', bar:'b' },           // passing rows as arguments\n                        { foo:'o', bar:'a' },\n                        { foo:'o', bar:'r' },  _.concat), { foo: 'foo', bar: 'bar' })\n\n    $assert (_.zip2 (undefined, _.concat), undefined)   // degenerate cases\n    $assert (_.zip2 (5,         _.concat), 5)\n    $assert (_.zip2 ([],        _.concat), [])\n    $assert (_.zip2 (['foo'],   _.concat), 'foo')\n\n    $assert (_.zipObjectsWith ([\n                { name: 'string' },\n                { born: 123 }], _.array),\n            \n                { name: ['string',  undefined],\n                  born: [undefined, 123] })\n\n    $assert ([3], _.zipSetsWith ([\n                    new Set ([2,3]),\n                    new Set ([3,4])], function (a, b) { return a && b }).asArray)\n\n}, function () { _.mixin ({\n\n    zipSetsWith: function (sets, fn) {\n                    return _.reduce (sets.slice (1), function (memo, obj) {\n                        _.each (_.union (( obj && Array.from ( obj.values ())) || [],\n                                         (memo && Array.from (memo.values ())) || []), function (k) {\n\n                            var zipped = fn ((memo && memo.has (k)) ? k : undefined,\n                                              (obj &&  obj.has (k))  ? k : undefined)\n                            if (zipped === undefined) {\n                                memo.delete (k) }\n                            else {\n                                memo.add (zipped) } }); return memo }, new Set (sets[0])) },\n\n    zipObjectsWith: function (objects, fn) {\n        return _.reduce (objects.slice (1), function (memo, obj) {\n            _.each (_.union (_.keys (obj), _.keys (memo)), function (k) {\n                var zipped = fn (memo && memo[k], obj && obj[k])\n                if (zipped === undefined) {\n                    delete memo[k] }\n                else {\n                    memo[k] = zipped } }); return memo }, _.clone (objects[0])) },\n\n    zip2: function (rows_, fn_) {   var rows = arguments.length === 2 ? rows_ : _.initial (arguments)\n                                    var fn   = arguments.length === 2 ? fn_   : _.last (arguments)\n        if (!_.isArrayLike (rows) || rows.length === 0) {\n            return rows }\n        else {\n                 if (_.isArrayLike (rows[0]))      { return _.zipWith        (rows, fn) }\n            else if (rows[0] instanceof Set)       { return _.zipSetsWith    (rows, fn) }\n            else if (_.isStrictlyObject (rows[0])) { return _.zipObjectsWith (rows, fn) }\n                                              else { return _.reduce2        (rows, fn) } } } }) })\n\n\n/*  Hyperzip (deep one).\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'zipZip'], function () {\n\n    $assert (_.zipZip (\n            { phones: [{ number: 'number' }] },\n            { phones: [{ number: 333 }] }, _.array),\n            { phones: [{ number: ['number', 333] }] })\n\n    $assert (_.zipZip ([{   foo: 7,\n                            bar: ['foo', {\n                                bar: undefined } ] },\n                        \n                        {   foo: 'number',\n                            bar: ['string', {\n                                bar: 'undefined' } ] } ], _.array),\n\n                        {   foo: [7, 'number'],\n                            bar: [['foo', 'string'], {\n                                bar: [undefined, 'undefined'] } ] }) },\nfunction () {\n\n    _.mixin ({ zipZip: _.hyperOperator (_.binary, _.zip2) }) })\n\n\n/*  Most useful _.extend derivatives\n    ======================================================================== */\n\n_.withTest (['stdlib', 'extend 2.0'], function () {\n\n        /*  Inverted version of _.extend, for humanized narration where it makes sense (not here,\n            but see AOP impl for example of such one)\n         */\n        [(function () {\n\n            var input   = { foo:1,  bar:1 }\n            var plus    = { foo:42, qux:1 }\n            var gives   = { foo:42, qux:1, bar: 1 }\n\n            $assert (_.extendWith (plus, input), gives) }) (),\n\n        /*  Higher-order version of _.extend, allows to use it as _.map operator, which cuts\n            shit in typical arrays-of-objects crunching routines\n         */\n        (function () {\n            var input   = [{ bar:1 }, {}]\n            var plus    = _.extendsWith ({ foo:42 })\n            var gives   = [{ bar:1, foo:42 }, { foo:42 }]\n\n            $assert (_.map (input, _.arity1 (plus)), gives) }) (),\n\n        /*  NOW DEPRECATED, USE _.extendedDeep\n         */\n        (function () {\n            var input   = { foo:1,  bar: { qux:1 } }\n            var plus    = { foo:42, bar: { baz:1 } }\n            var gives   = { foo:42, bar: { baz:1, qux:1 }}\n\n            $assert (_.extend2 (input, plus), gives) }) (),\n\n        /*  Deep version of _.extend, allowing to extend arbitrary levels deep (referentially transparent, so _.extendedDeep instead of _.extendDeep)\n         */\n        (function () {\n\n            var input   = { foo:1,  bar: { qux:1 } }\n            var plus    = { foo:42, bar: { baz:1 } }\n            var gives   = { foo:42, bar: { baz:1, qux:1 }}\n\n            $assert (_.extendedDeep (input, plus), gives)\n\n            $assert (_.extendedDeep ({ foo: new Set ([7]) }, {}).foo instanceof Set)\n\n            $assert (Array.from (_.extendedDeep ({ foo: new Set ([1,2]) },\n                                                 { foo: new Set ([2,3]) }).foo.values ()), [1,2,3]) }) (),\n\n        /*  Referentially-transparent version (to be used in functional expressions)\n         */\n        (function () {\n            var x = { foo: 1 }\n\n            $assert (_.extended (x, { bar: 1 }), { foo: 1, bar: 1 })\n            $assert (            x,              { foo: 1 }) }) () ]  }, function () {\n\n    _.extend = $restArg (_.extend) // Mark as having rest argument (to make _.flip work on that shit)\n\n    _.extended = $restArg (function () { return _.extend.apply (this, [{}].concat (_.asArray (arguments))) }) // referentially-transparent version\n\n    _.extendWith = _.flip (_.extend)                                        \n    _.extendsWith = _.flip (_.partial (_.partial, _.flip (_.extend)))   // higher order shit\n\n    _.extendedDeep = _.tails3 (_.zipZip, function (a, b) { return b === undefined ? a : b })\n\n    _.extend2 = $restArg (function (what) { \n                                return _.extend (what, _.reduceRight (arguments, function (right, left) {\n                                    return _.fromPairs (_.map (_.union (_.keys (left), _.keys (right)),\n                                                                function (key) {\n                                                                    var lvalue = left[key]\n                                                                    return [key, (key in right) ?\n                                                                                    (typeof lvalue === 'object' ?\n                                                                                        _.extend (lvalue, right[key]) :\n                                                                                        right[key]) :\n                                                                                    lvalue] }))}, {})) }) })\n\n/*  Find 2.0 + Hyperfind\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n_.withTest (['stdlib', 'findFind'], function () {\n\n    var obj = { x: 1, y: { z: 2 }}\n\n    $assert (_.findFind ({ foo: 1, bar: [1,2,3]  }, _.constant (false)), false)\n    $assert (_.findFind ({ foo: 1, bar: [1,2,3]  }, _.equals (2)),       2)\n    $assert (_.findFind ({ foo: { bar: obj     } }, _.equals (obj)),     obj) },\n\nfunction () {\n\n    _.find2 = function (value, pred) {\n        if (_.isArrayLike (value)) {                                \n            for (var i = 0, n = value.length; i < n; i++) { var x = pred (value[i], i, value)\n                              if (typeof x !== 'boolean') { return x }\n                                     else if (x === true) { return value[i] } } }\n        else if (_.isStrictlyObject (value)) {        \n            for (var i = 0, ks = Object.keys (value), n = ks.length; i < n; i++) { var k = ks[i]; var x = pred (value[k], k, value)\n                                                     if (typeof x !== 'boolean') { return x }\n                                                            else if (x === true) { return value[k] } } } }\n\n    _.findFind = function (obj, pred_) {\n                    return _.hyperOperator (_.unary,\n                             function (value, pred) {\n                                    if (_.isArrayLike (value)) {                                \n                                        for (var i = 0, n = value.length; i < n; i++) { var x = pred (value[i])\n                                                          if (typeof x !== 'boolean') { return x }\n                                                                 else if (x === true) { return value[i] } } }\n\n                                    else if (_.isStrictlyObject (value)) {        \n                                        for (var i = 0, ks = Object.keys (value), n = ks.length; i < n; i++) { var k = ks[i]; var x = pred (value[k])\n                                                                                 if (typeof x !== 'boolean') { return x }\n                                                                                        else if (x === true) { return value[k] } } }\n\n                                                                                          var x = pred_ (value)\n                                                            if (typeof x !== 'boolean') { return x }\n                                                                   else if (x === true) { return value }\n                                                                                          return false }) (obj, pred_) } })\n\n\n/*  removes empty contents from any kinds of objects\n    ======================================================================== */\n\n_.withTest (['stdlib', 'nonempty'], function () {\n\n    var obj = { blank: {}, empty: [], one: 1, none: undefined, nil: null, clear: '', zero: 0, no: false }\n    var arr = [{}, [], 1, undefined, null, '', 0, false]\n\n    $assert (_.nonempty (obj), { one: 1, zero: 0, no: false })\n    $assert (_.nonempty (arr), [1, 0, false])\n\n    $assert (_.nonempty (null), undefined)\n    $assert (_.nonempty (''),   undefined)\n\n}, function () {\n\n    _.nonempty = function (obj) { return _.filter2 (obj, _.isNonempty) } })\n\n\n/*  deep cloning of objects (as _.clone is shallow)\n    ======================================================================== */\n\n_.deferTest (['stdlib', 'cloneDeep'], function () {\n\n    var Proto = $prototype ({})\n\n    var obj     = { a: [{ b: { c: 'd' } }], b: {}, c: new Proto ()  }\n    var copy    = _.cloneDeep (obj)\n\n    $assert (obj   !== copy)    // should be distinct references\n    $assert (obj.a !== copy.a)  //\n    $assert (obj.b !== copy.b)  //\n    $assert (obj.c === copy.c)  // should be same instance (should consider prototype instances as atomic value)\n\n    $assert (obj, copy)     // structure should not change\n\n    $assert (            _.cloneDeep ({ foo: new Set ()        }).foo instanceof Set)\n    $assert (Array.from (_.cloneDeep ({ foo: new Set ([1,2,3]) }).foo.values ()), [1,2,3])\n\n}, function () { _.extend (_, {\n\n    clone: function (x) {\n                return  (x instanceof Set) ? new Set (x) :\n                        (!_.isObject (x)   ? x :\n                        (_.isArray   (x)   ? x.slice () : _.extend ({}, x))) },\n\n    cloneDeep: _.tails2 (_.mapMap, function (value) {\n                                        return ( _.isStrictlyObject    (value) &&\n                                                !_.isPrototypeInstance (value)) ? _.clone (value) : value }) }) })\n\n\n/*  given objects A and B, _.diff subtracts A's structure from B,\n    and returns difference in terms of B\n    ======================================================================== */\n\n_.deferTest (['stdlib', 'diff'], function () {\n\n        $assert (_.diff ('foo', 'foo'), undefined)\n        $assert (_.diff ('foo', 'bar'), 'bar')\n\n        $assert (_.diff ({ a: 1, b: 2, c: 3 },\n                         { a: 1, b: 3,      d: 4 }),\n                         {       b: 3,      d: 4 })\n\n        $assert (_.diff ([1,2,3], [1,2,3]), undefined)\n\n        $assert (_.diff ([1,'foo',2], [1,2,3]), [2,3])\n\n}, function () {\n\n    _.hyperMatch = _.hyperOperator (_.binary, function (a, b, pred) {\n                                        return _.coerceToUndefined (_.nonempty (_.zip2 (a, b, pred))) })\n\n    _.diff = _.tails3 (_.hyperMatch, function (a, b) { \n                                        return  ((($atom.unwrap (a) === $atom.unwrap (b)) || (a === $any) || (b === $any)) ? undefined : b) }) })\n\n\n/*  inverse of _.diff (returns similarities)\n    ======================================================================== */\n\n_.deferTest (['stdlib', 'undiff'], function () {\n\n        $assert (_.undiff ('foo', 'foo'), 'foo')\n        $assert (_.undiff ('foo', 'bar'), undefined)\n\n        $assert (_.undiff ({ a: 1, b: 2, c: 3 },\n                           { a: 1, b: 3,      d: 4 }),\n                           { a: 1 })\n\n        $assert (_.undiff ([1,2,3], [1,2,3]), [1,2,3])\n\n        $assert (_.undiff ([1,2], [1,3]), [1,undefined])\n        $assert (_.undiff ([1,2], [0,2]), [undefined,2])\n\n}, function () {\n\n    _.hyperMatch = _.hyperOperator (_.binary, function (a, b, pred) {\n                                        return _.coerceToUndefined (_.zip2 (a, b, pred)) })\n\n    _.undiff = _.tails3 (_.hyperMatch, function (a, b) {\n                                            return (($atom.unwrap (a) === $atom.unwrap (b)) || (a === $any) || (b === $any))  ? b : undefined }) })\n\n\n/*  Makes { foo: true, bar: true } from ['foo', 'bar']\n    ======================================================================== */\n\n_.withTest (['stdlib', 'index'], function () {\n    \n        $assert (_.index (['foo', 'bar']), { foo: true, bar: true }) }, function () { _.extend (_, {\n\n    index: function (list) {\n            var result = {}\n            for (var i = 0, n = list.length; i < n; i++) {\n                result[list[i]] = true }\n            return result } }) })\n\n\n/*  For string wrapping\n    ======================================================================== */\n\n_.withTest (['stdlib', 'quote'], function () {\n\n        $assert (_.quote      ('qux'),            'qux')\n        $assert (_.quote      ('qux', '[]'),     '[qux]')\n        $assert (_.quote      ('qux', '/'),      '/qux/')\n        $assert (_.quote      ('qux', '{  }'),   '{ qux }')\n        $assert (_.quote      ('qux', '</>'),    '</qux>')\n        $assert (_.quoteWith  ('[]', 'qux'), '[qux]') }, function () {\n\n    _.quote = function (s, pattern_) {\n                    var pattern = pattern_ || ''\n                    var splitAt = Math.floor (pattern.length / 2 + (pattern.length % 2))\n                    var before  = pattern.slice (0, splitAt)\n                    var after   = pattern.slice (splitAt) || before\n\n                    return before + s + after }\n\n\n    _.quoteWith  = _.flip2 (_.quote)\n    _.quotesWith = _.higherOrder (_.quoteWith) })\n\n\n/*  _.partition 2.0\n    ======================================================================== */\n\n_.withTest (['stdlib', 'partition2'], function () {\n\n        $assert (_.partition2 (\n                    [ 'a', 'b', 'c',   undefined, undefined,   42], _.isNonempty),\n                    [['a', 'b', 'c'], [undefined, undefined], [42]])\n\n        $assert (_.partition3 ([ 'a', 'b', 'c', undefined, undefined, 42], _.typeOf),\n                [{ label: 'string',    items: ['a', 'b', 'c'] },\n                 { label: 'undefined', items: [undefined, undefined] },\n                 { label: 'number',    items: [42] }]) }, function () {\n\n    _.partition2 = function (arr, pred) { return _.pluck (_.partition3 (arr, pred), 'items') }\n\n    _.partition3 = function (arr_, pred) {  var arr  = arr_ || []\n                                            var spans = [],\n                                                span  = { label: undefined, items: [arr.first] }\n\n            _.each (arr, function (x) { var label = pred (x)\n                if ((span.label != label) &&\n                     span.items.length) { spans.push (span = { label: label, items: [x] }) }\n                                   else { span.items.push (x) } })\n\n            return (span.length && spans.push (span)),\n                    spans } })\n\n\n/*  Taken from  npmjs.com/package/longest-common-substring\n    Props to    npmjs.com/~mirkok\n    ======================================================================== */\n\n\n_.withTest (['stdlib', 'longestCommonSubstring'], function () {\n\n    $assert ('foo', _.longestCommonSubstring ('foo', 'ffooa'))\n\n}, function () {\n    \n    var indexMap = function(list) {\n        var map = {}\n        _.each (list, function(each, i) {\n            map[each] = map[each] || []\n            map[each].push(i) })\n        return map }\n\n    _.longestCommonSubstring = function (a, b) {\n        var where = _.indexOfLongestCommonSubstring (a, b)\n        return (where.length) ? a.substr (where.a, where.length) : undefined }\n\n    _.indexOfLongestCommonSubstring = function(a, b) {\n        var result = { a:0, b:0, length:0}\n        var indexMapBefore = indexMap(a)\n        var previousOverlap = []\n        _.each (b, function(eachAfter, indexAfter) {\n            var overlapLength\n            var overlap = []\n            var indexesBefore = indexMapBefore[eachAfter] || []\n            _.each (indexesBefore, function(indexBefore) {\n                overlapLength = ((indexBefore && previousOverlap[indexBefore-1]) || 0) + 1;\n                if (overlapLength > result.length) {\n                    result.length = overlapLength;\n                    result.a = indexBefore - overlapLength + 1;\n                    result.b = indexAfter - overlapLength + 1; }\n                overlap[indexBefore] = overlapLength })\n            previousOverlap = overlap })\n        return result } })\n\n\n/*  experimental shit (subject to removal)\n    ======================================================================== */\n\n_.key = function (fn) {\n            return function (value, key) {\n                return fn (key) } }\n\n_.pickKeys = function (obj, predicate) {\n                    return _.pick (obj, function (v, k) { return predicate (k) }) }\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/stdlib.js","\"use strict\";\n\nconst O = require ('es7-object-polyfill')\n\n/*  isTypeOf\n    ======================================================================== */\n\n_.isTypeOf = function (constructor, what) {\n    return what instanceof constructor }\n\n_.isPrototypeInstance = function (x) {\n    return x && x.constructor && _.isPrototypeConstructor (x.constructor) }\n\n_.isPrototypeConstructor = function (x) {\n    return (x && (x.$definition !== undefined)) || false }\n\n\n/*  NaN has interesting property: Number.NaN !== Number.NaN, this makes it\n    more preferable than undefined/null in some cases. This function converts\n    anything that is not a number to NaN.\n    ======================================================================== */\n\n_.coerceToNaN = function (x) { return _.isFinite (x) ? x : Number.NaN }\n\n\n/*  Useful for defining functions that accept either [x] or x as argument\n    ======================================================================== */\n\n_.coerceToArray = function (x) {\n                    return (x === undefined) ? []\n                                             : (_.isArray (x) ? x :\n                                                               [x]) }\n\n/*  Useful for defining flow control parameterization\n    ======================================================================== */\n\n_.coerceToFunction = function (x) {\n          return _.isFunction (x) ?             x\n                                  : _.constant (x) }\n\n\n/*  Use to determine whether an object could be enumerated like an Array\n    TODO: it may be more reasonable to check for 'length' property presence\n    ======================================================================== */\n\n_.isArrayLike = function (x) {\n    return (x instanceof Array) || ($platform.Browser && (x instanceof NodeList)) }\n\n\n/*  Fixes _.isArray to account objects that derive from Array prototype\n    ======================================================================== */\n\n_.deferTest (['type', 'isArray'], function () {\n\n        var CustomArray = $extends (Array, {\n            method: function () { return 42 } })\n\n        $assert (_.isArray (new CustomArray ())) },\n\n    function () {\n\n        _.isArray = function (x) {\n            return x instanceof Array } })\n\n\n/*  Better _.matches / $assertMatches: +regexp feature, +deep matching\n    ======================================================================== */\n\n_.deferTest (['type', 'matches(regex)'], function () {\n\n    var test = function (a, pattern) {\n        $assert (_.match (a, pattern))\n        $assert (_.matches (pattern) (a))\n        $assertMatches (a, pattern) }\n\n    $assertFails (function () {\n        test ({ foo: [1,2], bar: 2 },\n              { foo: [3], bar: 2 })\n        test ({ bar: { foo: 'foo' } },\n              { bar: { foo: /[0-9]+/ } })\n        test ({}, { foo: 1 }) })\n\n    $assertFails (function () {\n        test ({ foo: 1 }, undefined)    // differs from original impl in that\n        test ('.DS_Store', /.+\\.js/) }) // regression\n\n    test ({ foo: [1,2], bar: 2 },\n          { foo: [2] })\n    test ({ bar: { foo: '123', qux: 1 } },\n          { bar: { foo: /[0-9]+/ } })\n    test ({ foo: 1 }, {}) },\n\n    function () { _.mixin ({\n\n        matches: function (pattern) {\n                        return ((arguments.length === 0) && _.constant (true)) ||\n                                                            _.tails2 (_.match, pattern) },\n\n        match: function (a, ptrn) {\n                        return  (a === ptrn)\n                            ||  (_.isArray (a)  && _.isArray (ptrn)  && _.arrayMatch (a, ptrn))\n                            ||  (_.isObject (a) && _.isObject (ptrn) && _.objectMatch (a, ptrn))\n                            ||  (_.isTypeOf (RegExp, ptrn) && _.isString (a) && (a.match (ptrn) !== null)) },\n\n        arrayMatch: function (a, pattern) {\n            return _.every (pattern, _.propertyOf (_.index (a))) },\n         \n        objectMatch: function (a, pattern) {\n                            return _.reduce (O.entries (pattern),\n                                function (result, kv) {\n                                    return result && _.match (a[kv[0]], kv[1]) }, true) } }) })\n\n/*  Scalar values\n    ======================================================================== */\n\n_.withTest (['type', 'isScalar'], function () {\n\n        $assert (_.every ([0, 42, 'foo', null, undefined, true, false], _.isScalar))\n        $assert (_.every ([/foo/, new Date (), {}, []],       _.not (_.isScalar))) },\n\n    function () {\n\n        _.isScalar = function (v) {\n                        return (v === undefined) ||\n                               (v === null) ||\n                               (v.constructor === String) ||\n                               (v.constructor === Number) ||\n                               (v.constructor === Boolean) } })\n\n\n/*  POD data types\n    ======================================================================== */\n\n_.withTest (['type', 'POD'], function () {\n\n        $assert (_.every ([[], {}, 42, 0, 'foo', null, undefined, true].map (_.isPOD)))\n        $assert (_.every ([/foo/, new Date ()].map (_.isNonPOD))) },\n\n    function () {\n\n        _.isNonPOD = function (v) {\n                        return !_.isPOD (v) }\n\n        _.isPOD = function (v) {\n                    return _.isScalar (v) ||\n                                (v && ((v.constructor === Object) || (v.constructor === Array))) } })\n\n\n/*  'empty' classifiers (fixes underscore shit)\n    ======================================================================== */\n\n_.withTest (['type', 'empty-centric routines'], function () {\n\n    $assert (_.coerceToObject ({ foo: 42 }), { foo: 42 })\n    $assert (_.coerceToObject ([1,2,3]),     [1,2,3])\n    $assert (_.coerceToObject (42),          {})\n    $assert (_.coerceToObject (undefined),   {})\n\n    $assert (_.coerceToEmpty (42), undefined)\n    $assert (_.coerceToEmpty ([42]), [])\n    $assert (_.coerceToEmpty ({ foo: 42 }), {})\n\n    $assert ([\n        _.isNonemptyString ('foo'),\n        _.isNonemptyString (''),\n        _.isNonemptyString ([])], [true, false, false])\n\n    $assert (_.isEmptyArray ([]),           true)\n    $assert (_.isEmptyArray ([1,2,3]),      false)\n    $assert (_.isEmptyArray (undefined),    false)\n    $assert (_.isEmptyArray (null),         false)\n    $assert (_.isEmptyArray (''),           false)\n\n    $assert (_.isEmptyObject ({}),          true)\n    $assert (_.isEmptyObject ([]),          false)\n    $assert (_.isEmptyObject ({ foo: 1 }),  false)\n    $assert (_.isEmptyObject (undefined),   false) \n    $assert (_.isEmptyObject (null),        false)\n    $assert (_.isEmptyObject (''),          false)\n    $assert (_.isEmptyObject (0),           false)\n    $assert (_.isEmptyObject (false),       false)\n\n    $assert (_.isEmpty (0),         false)\n    $assert (_.isEmpty (false),     false)\n    $assert (_.isEmpty (/.+\\.js/),  false) // regression\n    $assert (_.isEmpty (null),      true)\n    $assert (_.isEmpty ({}),        true)\n    $assert (_.isEmpty ([]),        true)\n\n    $assert (_.isNonempty ('foo'),  true) // negated _.isEmpty\n\n    $assert (_.coerceToUndefined (undefined),   undefined)\n    $assert (_.coerceToUndefined ({}),          undefined)\n    $assert (_.coerceToUndefined ([]),          undefined)\n    $assert (_.coerceToUndefined (''),          undefined)\n    $assert (_.coerceToUndefined (null),        undefined)\n    $assert (_.coerceToUndefined (0),           0)\n    $assert (_.coerceToUndefined (Math.NaN),    undefined)\n    $assert (_.coerceToUndefined (false),       false)\n    $assert (_.coerceToUndefined ({ foo: 1 }),  { foo: 1 })\n    $assert (_.coerceToUndefined ([1, 2]),      [1, 2])  }, function () { _.extend (_, {\n\n    /*  These two override underscore's one, because the original stuff is semantically incorrect.\n        A word needs to be spoken here, because it's not the first routine we override, and not\n        the last. So what about semantics?\n\n        For instance, 0 and false should NOT be treated as empty. But they are (in underscore).\n        This is ridiculous. Can think of hundreds of applications of the correct impl., and\n        just none of that for the creeped original version. Why would one ever need to treat 0\n        as 'empty'? Shit, its just a regular number, no worse or better than 1 or 42. And 'false'?\n        Keep hands off boolean logic. If someone states that something's false - it's false, not\n        a 'void non-existing piece of nothing'. It's a value. It has value. And it's false. Oh,\n        fock, just don't get me started...\n     */\n    isEmpty: function (obj) {\n        return _.coerceToUndefined (obj) === undefined },\n\n    isNonempty: function (obj) {\n        return _.coerceToUndefined (obj) !== undefined },\n\n    isEmptyObject: function (v) {\n                        return   !_.isArray (v) &&\n                                 !_.isFunction (v) &&\n                                  _.isObject (v) &&\n                                 (_.keys (v).length === 0) },\n\n    isStrictlyObject: function (v) {\n        return (v && (typeof v === 'object')) ? true : false },\n\n    isEmptyArray: function (v) {\n                        return _.isArray (v) && v.length === 0 },\n\n    isNonemptyString: function (v) {\n        return (typeof v === 'string') && (v.length > 0) },\n\n    coerceToObject: function (x) {\n        return _.isStrictlyObject (x) ? x : {} },\n\n    coerceToEmpty: function (x) {\n        if (_.isArray (x)) { return [] }\n        else if (_.isStrictlyObject (x)) { return {} }\n        else { return undefined } },\n\n    /*  Projects a variety of input values through 'undefined/non-undefined' dichotomy.\n     */\n    coerceToUndefined: function (v) {\n                            return ((v === undefined) ||\n                                    (v === null) ||\n                                    (v === Math.NaN) ||\n                                    (v === '') ||\n                                    (_.isPOD (v) &&\n                                        (_.isEmptyObject (v) ||\n                                        (v.length === 0)))) ? undefined : v } })} )\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/type.js","\"use strict\";\n\n_.hasTypeMatch = true\n\n/*  Type matching for arbitrary complex structures (TODO: test)\n    ======================================================================== */\n\nTags.define ('required')\nTags.define ('atom')\n\n$global.const ('$any', _.identity)\n\n_.deferTest (['type', 'type matching'], function () {\n\n    $assert (_.omitTypeMismatches ( { '*': $any, foo: $required ('number'), bar: $required ('number') },\n                                    { baz: 'x', foo: 42, bar: 'foo' }),\n                                    { })\n\n    $assert (_.omitTypeMismatches ( { foo: { '*': $any } },\n                                    { foo: { bar: 42, baz: 'qux' } }),\n                                    { foo: { bar: 42, baz: 'qux' } })\n\n    $assert (_.omitTypeMismatches ( { foo: { bar: $required(42), '*': $any } },\n                                    { foo: { bar: 'foo', baz: 'qux' } }),\n                                    { })\n\n    $assert (_.omitTypeMismatches ( [{ foo: $required ('number'), bar: 'number' }],\n                                    [{ foo: 42,                   bar: 42 },\n                                     { foo: 24,                           },\n                                     {                            bar: 42 }]), [{ foo: 42, bar: 42 }, { foo: 24 }])\n\n    $assert (_.omitTypeMismatches ({ '*': 'number' }, { foo: 42, bar: 42 }), { foo: 42, bar: 42 })\n\n    $assert (_.omitTypeMismatches ({ foo: $any }, { foo: 0 }), { foo: 0 }) // there was a bug (any zero value was omitted)\n\n    $assert (_.decideType ([]), [])\n    $assert (_.decideType (42),         'number')\n    $assert (_.decideType (_.identity), 'function')\n    $assert (_.decideType ([{ foo: 1 }, { foo: 2 }]), [{ foo: 'number' }])\n    $assert (_.decideType ([{ foo: 1 }, { bar: 2 }]), [])\n\n    $assert (_.decideType ( { foo: { bar: 1        }, foo: { baz: [] } }),\n                            { foo: { bar: 'number' }, foo: { baz: [] } })\n\n    $assert (_.decideType ( { foo: { bar: 1        }, foo: { bar: 2 } }),\n                            { foo: { bar: 'number' } })\n\n    $assert (_.decideType ( { foo:         { bar: 1        },\n                              bar:         { bar: 2        } }),\n                            { '*':         { bar: 'number' } })\n\n    if (_.hasOOP) {\n        var Type = $prototype ()\n        $assert (_.decideType ({ x: new Type () }), { x: Type }) }\n\n}, function () {\n\n    _.isMeta = function (x) { return (x === $any) || ($atom.is (x) === true) || ($required.is (x) === true)  }\n\n    var zip = function (type, value, pred) {\n        var required    = Tags.unwrapAll (_.filter2 (type, $required.matches))\n        var match       = _.nonempty (_.zip2 (Tags.unwrapAll (type), value, pred))\n\n        if (_.isEmpty (required)) {\n                return match }\n        \n        else {  var requiredMatch = _.nonempty (_.zip2 (required, value, pred))\n                var allSatisfied  = _.values2 (required).length === _.values2 (requiredMatch).length\n                return allSatisfied ?\n                            match : _.coerceToEmpty (value) } }\n\n    var hyperMatch = _.hyperOperator (_.binary,\n        function (type_, value, pred) { var type = Tags.unwrap (type_)\n\n            if (_.isArray (type)) { // matches [ItemType]  [item, item, ..., N]\n                if (_.isArray (value)) {\n                    return zip (_.times (value.length, _.constant (type[0])), value, pred) }\n                else {\n                    return undefined } }\n\n            else if (_.isStrictlyObject (type) && type['*']) { // matches { *: .. }  { a: .., b: .., c: .. }\n                if (_.isStrictlyObject (value)) {\n                    return zip (_.extend (  _.map2 (value, _.constant (type['*'])),\n                                            _.omit (type, '*')), value, pred) }\n                else {\n                    return undefined } }\n\n            else {\n                return zip (type_, value, pred) } })\n\n var typeMatchesValue = function (c, v) { var contract = Tags.unwrap (c)\n                                return  (contract === $any) ||\n                                        ((contract === undefined) && (v === undefined)) ||\n                                        (_.isFunction (contract) && (\n                                            _.isPrototypeConstructor (contract) ?\n                                                _.isTypeOf (contract, v) :   // constructor type\n                                                (contract (v) === true))) || // test predicate\n                                        (typeof v === contract) ||           // plain JS type\n                                        (v === contract) }                   // constant match\n\n    _.mismatches = function (op, contract, value) {\n                            return hyperMatch (contract, value,\n                                        function (contract, v) {\n                                            return op (contract, v) ? undefined : contract }) }\n\n    _.omitMismatches = function (op, contract, value) {\n                            return hyperMatch (contract, value,\n                                        function (contract, v) {\n                                            return op (contract, v) ? v : undefined }) }\n\n    _.typeMismatches     = _.partial (_.mismatches,     typeMatchesValue)\n    _.omitTypeMismatches = _.partial (_.omitMismatches, typeMatchesValue)\n\n    _.valueMismatches = _.partial (_.mismatches, function (a, b) { return (a === $any) || (b === $any) || (a === b) })\n\n    var unifyType = function (value) {\n        if (_.isArray (value)) {\n            return _.nonempty ([_.reduce (value.slice (1), function (a, b) { return _.undiff (a, b) }, _.first (value) || undefined)]) }\n        \n        else if (_.isStrictlyObject (value)) {\n            var pairs = _.pairs (value)\n            var unite = _.map ( _.reduce (pairs.slice (1), function (a, b) { return _.undiff (a, b) }, _.first (pairs) || [undefined, undefined]),\n                                _.nonempty)\n\n            return (_.isEmpty (unite) || _.isEmpty (unite[1])) ? value : _.fromPairs ([[unite[0] || '*', unite[1]]]) }\n        \n        else {\n            return value } }\n\n    _.decideType = function (value) {\n        var operator = _.hyperOperator (_.unary,\n                            function (value, pred) {\n                                if (value && value.constructor && value.constructor.$definition) {\n                                    return value.constructor }\n                                return unifyType (_.map2 (value, pred)) })\n\n        return operator (value, function (value) {\n            if (_.isPrototypeInstance (value)) {\n                return value.constructor }\n            else {\n                return _.isEmptyArray (value) ? value : (typeof value) } }) } }) // TODO: fix hyperOperator to remove additional check for []\n\n\n\n\n// WEBPACK FOOTER //\n// ./base/tier0/typeMatch.js","\"use strict\";\n\n/*  How-to / spec / test\n    ============================================================================ */\n\n_.tests['DOMReference + DOMEvents'] = {\n\n    'DOMReference + DOMEvents basics': function () {\n\n        $assertEveryCalled (function (changeCalled, reactToFocusEventsCalled, reactToWindowResizeCalled, domReadyCalled) {\n\n            /*  Example component that owns a DOM reference and listens to events\n                ---------------------------------------------------------------- */\n\n            var textarea = new ($component ({\n\n                $traits: [DOMReference,\n                          DOMEvents],\n\n            /*  That's how you initialize DOMReference using $barrier (see the big\n                comment below for the example on how to access the stored reference,\n                and why/when you will need that domReady thing).\n                ---------------------------------------------------------------- */\n\n                init: function () { this.domReady (\n                                            N.textarea\n                                             .insertMeAfter (document.body.lastChild)) },\n\n            /*  That's how you bind to events (simplest way)\n                ---------------------------------------------------------------- */\n\n                change: $on (function (e) { changeCalled () }),\n\n            /*  Binding with custom method name\n                ---------------------------------------------------------------- */\n\n                shouldNotCall: $on ('input', function () { $fail }),\n\n            /*  Multiple events\n                ---------------------------------------------------------------- */\n\n                reactToFocusEvents: $on ('focus blur', function (e) { reactToFocusEventsCalled () }),\n\n            /*  Binding to 'window' or 'document' events\n                ---------------------------------------------------------------- */\n\n                reactToWindowResize: $on ({ what: 'resize', target: window }, function () { reactToWindowResizeCalled () }) })) ()\n\n\n        /*  That's how you access DOM if you're 100% sure it's initialized\n            -------------------------------------------------------------------- */\n\n            var dom    = textarea.dom\n                $assert (textarea.dom instanceof Node)\n\n\n        /*  Often you stumble upon a situation when your code tries to access\n            something that is not initialized yet (e.g. a DOM tree).\n\n            Even if you 'fix' that by rearranging the call order, you cannot\n            always rely on predictable outcome of that method: as components get\n            more complex, you need to look forward for more reliable control\n            mechanisms... at least, more reliable than shuffling init calls\n            randomly to see if it 'solves' the problem.\n\n            Normally, it solved by introducing some well-known concurrent\n            programming techniques - like a barrier, in this case. By simply\n            encapsulating all unsafe DOM accesses to the barrier context,\n            you enforce the expected call order automagically, paying a\n            minuscule runtime overhead for that.\n            -------------------------------------------------------------------- */\n\n            textarea.domReady (function (dom) { $assert (dom instanceof Node); domReadyCalled () })\n\n\n        /*  That's how you dispatch events programmatically\n            TODO: configuration\n            -------------------------------------------------------------------- */\n\n            textarea.dispatchEvent ('change')\n            textarea.dispatchEvent ('blur')\n\n            /*  Dispatch window.resize\n             */\n                              var e = document.createEvent ('Event')\n                                  e.initEvent ('resize', true, true)\n            window.dispatchEvent (e)\n\n\n        /*  That's how you enumerate listeners bound with $on \n            -------------------------------------------------------------------- */\n\n            $assert (textarea.constructor.DOMEventListeners,\n\n                     [{ e: 'change', fn: 'change' },\n                      { e: 'input',  fn: 'shouldNotCall' },\n                      { e: 'focus',  fn: 'reactToFocusEvents' },\n                      { e: 'blur',   fn: 'reactToFocusEvents' },\n                      { e: 'resize', fn: 'reactToWindowResize', target: window }])\n\n\n        /*  Deinitialization semantics\n            -------------------------------------------------------------------- */\n        \n            textarea.destroy ()\n\n            textarea.dispatchEvent ('input')    /*  destroy () removes event listeners, so our .shouldNotCall listener shouldn't get called */\n            $assert (!dom.isAttachedToDocument) /*  destroy () removes node from document */\n            $assert (textarea.dom, undefined)   /*  destroy () sets .dom to undefined     */ }) },\n\n\n/*  Listeners defined in traits are bound in order of appearance, so you can\n    utilize built-in e.stopImmediatePropagation () semantics for the flow control.\n    -------------------------------------------------------------------- */\n\n    'Blocking event propagation in $traits with e.stopImmediatePropagation': function () {\n\n        $assertEveryCalled (function (blockChangeEventCalled) {\n\n            var textarea = new ($component ({\n\n                    $traits: [DOMReference,\n                              DOMEvents,\n                              $trait ({ blockChangeEvent: $on ('change', function (e) { blockChangeEventCalled (); e.stopImmediatePropagation () }) }),\n                              $trait ({ shouldNotCall:    $on ('change', function (e) { $fail }) }) ],\n\n                    init: function () { this.domReady (\n                                            N.textarea.insertMeAfter (document.body.lastChild)) } })) ()\n\n                textarea.dispatchEvent ('change')\n                textarea.destroy () }) } }\n\n\n/*  Impl.\n    ======================================================================== */\n\n$global.DOMReference = $trait ({\n\n        domReady: $barrier (function (dom) {\n                                this.dom = dom\n\n                                if (typeof jQuery !== 'undefined') {\n                                    this.el = jQuery (this.dom) } }), // legacy\n\n    afterDestroy: function () {\n\n        if (this.dom) {\n            this.dom.removeFromParent ()\n            this.dom = undefined\n            this.el  = undefined }\n\n        this.domReady.reset () } })\n\n/*  ------------------------------------------------------------------------ */\n\n$global.DOMReferenceWeak = $trait ({\n    \n    domReady: $barrier (function (dom) { this.dom = dom }),\n    afterDestroy:       function ()    { this.dom = undefined } })\n\n\n/*  ------------------------------------------------------------------------ */\n\n$global.DOMEvents = $trait ({\n\n    /*  TODO: configuration\n     */\n    dispatchEvent: function (type) {\n                        this.domReady (function (dom) { var e = document.createEvent ('Event')\n                                                            e.initEvent (type, true /* bubbles */, true /* cancellable */)\n                                         dom.dispatchEvent (e) }) },            \n    /*  $on syntax\n     */\n    $macroTags: {\n\n        on: function (def, method, methodName) {        var DOMEventListeners = (def.constructor.DOMEventListeners ||\n                                                                                (def.constructor.DOMEventListeners = []))\n                var on_def = method.$on\n                    on_def = (_.isString (on_def) ? { fn: methodName, e: on_def } :\n                             (_.isObject (on_def) ? { fn: methodName, e: on_def.what, target: on_def.target } :\n                                                    { fn: methodName, e: methodName }))\n\n                _.each (on_def.e.split (' '), function (e) { DOMEventListeners.push (_.defaults ({ e: e }, on_def)) }) } },\n\n    /*  Bindings\n     */\n    domReady: function (dom) {\n                _.each (this.constructor.DOMEventListeners, function (on_def) { // @hide\n                                                                (on_def.target || dom).addEventListener (\n                                                                                                on_def.e,\n                                                                                           this[on_def.fn]) }, this) },\n\n    beforeDestroy: function () {\n        this.domReady (function (dom) {\n                _.each (this.constructor.DOMEventListeners, function (on_def) { // @hide\n                                                                (on_def.target || dom).removeEventListener (\n                                                                                                on_def.e,\n                                                                                           this[on_def.fn]) }, this) }) } })\n\n/*  ------------------------------------------------------------------------ */\n\n$global.HideOnEscape = $trait ({\n\n    hideOnEscape: $on ({ what: 'keydown', target: document }, function (e) {\n                                                                if (e.keyCode === 27) {\n                                                                    this.destroy ()\n                                                                    e.preventDefault () } })\n})\n\n/*  ------------------------------------------------------------------------ */\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/DOMReference.js","\"use strict\";\n\n$global.InertialValue = $component ({\n\n    $defaults: { duration:  0.2,\n                 easing:   'linear' },\n\n    animating: $observableProperty (false),\n    target:    $observableProperty (/* scalar or vector */),\n    value:     $observableProperty (),\n\n    init (cfg) {\n\n        this.easing  = ((this.value instanceof Vec2) ? Easing.vector : Easing.scalar)[this.easing]\n\n        this.targetChange (target => {\n\n            if (target !== undefined) {\n\n                if (this.animating === false) {\n                    this.start     = this.value\n                    this.target    = target\n                    this.startTime = Date.now ()\n                    this.step () }\n\n                else {\n                    this.start      = this.value\n                    /*this.startTime  = this.lastTime*/     } } })  },\n\n    step () {\n\n        var now    = Date.now ()\n        var travel = Math.min (1.0, ((this.lastTime = now) - this.startTime) / (this.duration * 1000.0))\n        if (travel < 1.0) {\n\n            this.animating = true\n            this.value     = this.easing (this.start, this.target, travel)\n\n            requestAnimationFrame (this.step) }\n\n        else {\n            this.value     = this.target\n            this.animating = false          } } })\n\n\n/*  TODO: write 1-vector and get rid of this doubling...   */\n\n$global.Easing = {\n\n    scalar: {\n\n        linear: (a, b, t) => a + (b - a) * t,\n        in:     (a, b, t) => a + (b - a) * Math.pow (t, 2),\n        out:    (a, b, t) => b - (b - a) * Math.pow (1.0 - t, 2),\n        inOut   (a, b, t) {\n                    const c = b - a\n                    if (t < 0.5) {\n                        return a + (c * (Math.pow (t * 2.0, 2) * 0.5)) }\n                    else {\n                        return b - (c * (Math.pow (2.0 - (t * 2.0), 2) * 0.5)) } } },\n\n    vector: {\n\n        linear: (a, b, t) => a.add (b.sub (a).scale (t)),\n        in:     (a, b, t) => a.add (b.sub (a).scale (Math.pow (t, 2))),\n        out:    (a, b, t) => b.sub (b.sub (a).scale (Math.pow (1.0 - t, 2))),\n        inOut   (a, b, t) { const c = b.sub (a)\n            if (t < 0.5) {\n                return a.add (c.scale (Math.pow (t * 2.0, 2) * 0.5)) }\n            else {\n                return b.sub (c.scale (Math.pow (2.0 - (t * 2.0), 2) * 0.5)) } },\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/anim.js","\"use strict\";\n\nvar is = function (tag) { return function () { return this.tagName === tag } }\n\n/*  Constructors\n    ======================================================================== */\n\n/*  N (tag)                                                                  */\n\n    $global.N = function (tag, children) {\n                    var n = document.createElement (tag.uppercase)\n                        return children ? n.append (children) : n }\n\n/*  N.text                                                                   */\n\n    N.text = function (text) {\n                return document.createTextNode (text) }\n\n/*  N.span / N.div ...                                                       */\n\n    _.each (['br', 'p', 'div', 'em', 'a', 'b', 'i', 'u', 's', 'strong', 'span',\n             'sup', 'sub', 'button', 'iframe', 'pre', 'img', 'video', 'source',\n             'h1', 'h2', 'h3', 'h4', 'h5', 'textarea', 'input', 'style'],\n\n             function (tag) {\n\n                var TAG = tag.uppercase\n\n                _.defineProperty (N, tag, function () {\n                                            return document.createElement (TAG) }) })\n\n\n/*  Querying                                                                 */\n\n    N.all = document.querySelectorAll.bind (document)\n    N.one = document.querySelector.bind (document)\n\n\n/*  Node+\n    ======================================================================== */\n\n    $mixin (Node, {\n\n        $: $prototype.impl.$,    // brings this.$ semantics from $prototype\n\n        \n    /*  Various predicates\n        ------------------\n\n        New $callableAsFreeFunction tag means that its subject will be available\n        as context-free (static) version along with instance method. For example,\n        following two calls are equivalent:\n\n            console.log (document.body.isLinebreak)\n            console.log (Node.isLinebreak (document.body))\n\n        Having dual calling convention for common predicates is super useful, as\n        you can use them in functional data-crunching expressions, where free\n        functions are far more suitable than instance methods.\n\n        It was inspired by $extensionMethods from Useless, where it carries the\n        exact same semantics for member definitions. Those definitions served\n        a very limited purpose of merging Underscore functions to built-in types,\n        so a more generic tool needed.\n        \n        ======================================================================== */\n\n        $callableAsFreeFunction: {\n\n            $property: {\n\n                isElement: function () { return (this.nodeType === Node.ELEMENT_NODE) },\n                isText:    function () { return (this.nodeType === Node.TEXT_NODE) },\n\n                isLinebreak: is ('BR'),\n                isDiv:       is ('DIV'),\n                isParagraph: is ('P'),\n                isHyperlink: is ('A'),\n\n                isAttachedToDocument: function () {\n                    return this.matchUpwards (_.equals (document.body)) ? true : false },\n\n                /*  TODO: make use of native .isContentEditable\n                 */\n                forbidsEditing: function () {\n                    return (this.nodeType === Node.ELEMENT_NODE) &&\n                           (this.getAttribute ('contenteditable') === 'false') } } },\n\n\n    /*  Up/outside means\n        ======================================================================== */\n\n        grandParentNode: $property (function () { return this.parentNode && this.parentNode.parentNode }),\n\n        isFirstInParent: $property (function () { return this.parentNode && (this.parentNode.firstChild === this) }),\n        isLastInParent:  $property (function () { return this.parentNode && (this.parentNode.lastChild  === this) }),\n\n        removeFromParent: $callableAsFreeFunction (function () { this.parentNode.removeChild (this); return this }),\n\n        outerLeftBoundaryIn: function (container) { var n = this\n            while (n.grandParentNode && (n.parentNode !== container) && n.isFirstInParent) { n = n.parentNode }\n            return n },\n\n        outerRightBoundaryIn: function (container) { var n = this\n            while (n.grandParentNode && (n.parentNode !== container) && n.isLastInParent) { n = n.parentNode }\n            return n },\n\n        matchUpwards: function (pred) { var n = this\n                   while (n && !pred (n)) { n = n.parentNode }\n                                     return n },\n\n        isLeftmostNodeIn: function (parent) {\n                             return parent && ((this.matchUpwards (function (n) {\n                                                                     return (n === parent) ||\n                                                                            !n.isFirstInParent })) === parent) },\n\n        isRightmostNodeIn: function (parent) {\n                             return parent && ((this.matchUpwards (function (n) {\n                                                                     return (n === parent) ||\n                                                                            !n.isLastInParent })) === parent) },\n\n    /*  Down/inside means\n        ======================================================================== */\n\n        hasChildren: $property (function () { return   this.hasChildNodes () }),\n        noChildren:  $property (function () { return !(this.hasChildNodes ()) }),\n        numChildren: $property (function () { return   this.childNodes.length }),\n\n        length: $property (function () { return (this.childNodes ? this.childNodes.length :\n                                                (this.nodeValue  ? this.nodeValue .length  : 0)) }),\n\n        /*  If you modify childNodes while iterating it, you'll get into problem.\n            Use following method to safely do so.\n         */\n        safeEnumChildren: function (fn, context) {\n                                _.each (this.childNodesArray, fn, context || this); return this },\n\n        /*  childNodes is not really an array, so to get Array instance, use this helper\n         */\n        childNodesArray: $property (function () {\n                                        return _.asArray (this.childNodes) }),\n\n        add:    $alias ('appendChildren'),\n        append: $alias ('appendChildren'),\n\n        appendChildren: function (arg1, arg2) {\n                            for (var arr = (arg2 === undefined ? _.coerceToArray (arg1) : arguments), i = 0, len = arr.length; i < len; i++) {\n                                var n = arr[i]\n                                this.appendChild (_.isString (n) ? document.createTextNode (n) : n) }\n                            return this },\n\n        removeChildren: function (nodes) {\n                            for (var arr = _.coerceToArray (nodes), i = 0, len = arr.length; i < len; i++) {\n                                this.removeChild (arr[i]) }\n                            return this },\n\n        removeAllChildren: function () {\n                                return this.removeChildren (this.childNodesArray) },\n\n        walkTree: function (cfg, accept) { accept = (arguments.length === 1) ? cfg : accept\n\n                    let node\n                    let walker = document.createTreeWalker (this,   (cfg && cfg.what) || NodeFilter.SHOW_ALL,\n                                                                    (cfg && cfg.filter) || null,\n                                                                    (cfg && cfg.entityReferenceExpansion) || null)\n\n                    while ((node = walker.nextNode ())) { accept (node) } },\n\n        firstInnermostChild: $callableAsMethod ($property (function (n) { while (n && n.firstChild) { n = n.firstChild } return n })),\n\n        /*  foo<b>123</b>bar       <b>.unwrapChildren     foo123bar\n         */\n        unwrapChildren: $callableAsFreeFunction (function () {      this.insertAfterMe (this.childNodesArray)\n                                                       var parent = this.parentNode\n                                                           parent.removeChild (this)\n                                                    return parent }),\n\n    /*  Sideways means\n        ======================================================================== */\n\n        prevSiblings: $property (function ()  { var r = [],     n = this.previousSibling\n                                    while (n) {     r.push (n); n =    n.previousSibling } return r.reversed }),\n\n        nextNextSibling: $property (function () {\n            return (this.nextSibling && this.nextSibling.nextSibling) }),\n\n        nextOutermostSibling: $callableAsMethod ($property (function ( n) {\n                                                                while (n && !n.nextSibling) { n = n.parentNode  } // walk upwards until has next sibling\n                                                                   if (n)                   { n = n.nextSibling } // take next sibling\n                                                                return n })),\n\n        nextInnermostSibling: $callableAsMethod ($property (function (n) {\n                                                                return Node.firstInnermostChild (\n                                                                        Node.nextOutermostSibling (this)) })),\n\n        appendTo: function (ref) {\n            ref.appendChild (this); return this },\n\n        prependTo: function (ref) {\n            ref.insertBefore (this, ref.firstChild); return this },\n\n        replaceWith: function (what) { this.insertBeforeMe (what).removeFromParent () },\n\n        insertMeBefore: function (ref) {\n            ref.parentNode.insertBefore (this, ref); return this },\n\n        insertMeAfter: function (ref) {\n            ref.parentNode.insertBefore (this, ref.nextSibling); return this },\n\n        insertBeforeMe: function (nodes) { var parent = this.parentNode\n                                           var me     = this\n\n            _.each (_.coerceToArray (nodes).reversed, function (n) { parent.insertBefore (n, me) }); return this },\n\n        insertAfterMe: function (nodes) { var parent = this.parentNode\n                                          var next   = this.nextSibling\n\n            _.each (_.coerceToArray (nodes).reversed, function (n) { parent.insertBefore (n, next) }); return this },\n\n\n    /*  Events\n        ======================================================================== */\n\n        on (e, fn) { this.addEventListener (e, fn); return this },\n\n        once (e) {\n\n            let finalize,\n                finalized = false\n            \n            const p = new Channel (resolve => { // use Channel instead of Promise because Channel is synchronous, while Promise's \"then\" is called on next event loop iteration\n                                        this.addEventListener (e, finalize =\n                                            e => {\n                                                if (!finalized) {\n                                                    finalized = true\n                                                    this.removeEventListener (e, finalize)\n                                                    resolve (e) } }) })\n            p.finalize = finalize\n\n            return p\n        },\n\n        touched (fn) {\n            return this.on ($platform.touch ? 'touchstart' : 'click', fn) },\n\n    /*  Properties\n        ======================================================================== */\n\n        extend: function (props) { return _.extend (this, props) },\n\n\n    /*  Attributes\n        ======================================================================== */\n\n        cls: function (x) { this.className = x; return this },\n        css: function (x) { _.extend (this.style, x); return this; },\n\n        hasClass: function (x) { return (this.className || '').split (' ').contains (x) },\n\n        toggleAttribute: function (name, value) { var arg1 = arguments.length < 2\n\n                                    if (arg1) {\n                                        value = !this.hasAttribute (name) }\n\n                                     if (value) { this.setAttribute    (name, value) }\n                                           else { this.removeAttribute (name) }\n\n                                    return arg1 ? value : this },\n\n        toggleAttributes: function (cfg) { _.map (cfg, _.flip2 (this.toggleAttribute), this); return this },\n        setAttributes:    function (cfg) { _.map (cfg, _.flip2 (this.setAttribute),    this); return this },\n\n        intAttribute: function (name) { return (this.getAttribute (name) || '').parsedInt },\n\n        attr: $alias ('setAttributes'),\n\n        removeAttr: function (name) { this.removeAttribute (name); return this },\n\n\n    /*  Splitting\n        ======================================================================== */\n\n        splitSubtreeBefore: function (node) { // returns right (remaining) subtree\n            if (!node || (node.parentNode === this)) {\n                return node }\n            else {\n                return this.splitSubtreeBefore (\n                                    !node.previousSibling // if first node in parent, nothing to split  simply proceed to parent\n                                        ? node.parentNode\n                                        : document.createElement  (node.parentNode.tagName)\n                                                  .insertMeBefore (node.parentNode)\n                                                  .appendChildren (node.prevSiblings)\n                                                  .nextSibling) } },\n\n        splitSubtreeAt: function (location) { var n = location.node, i = location.offset\n            return (i > 0) ? (location.node.isText ?\n                                this.splitSubtreeBefore (N.text (n.nodeValue.substr (i)).insertMeAfter (_.extend (n, { nodeValue: n.nodeValue.substr (0, i) }))) :\n                                this.splitSubtreeBefore (n.childNodes[i])) :\n                                this.splitSubtreeBefore (n) },\n\n\n    /*  innerHTML/innerText\n        ======================================================================== */\n\n        html: function (x) { this.innerHTML = x; return this },\n        text: function (x) { this.innerText = x; return this },\n\n\n    /*  Animation\n        ======================================================================== */\n\n        attributeUntil: function (attr, promise) {\n                                                                     this.   setAttribute (attr, true)\n                      return promise.done (this.$ (function (e, x) { this.removeAttribute (attr) })) },\n\n        busyUntil: function (promise) { return this.attributeUntil ('busy', promise) },\n\n        onceAnimationEnd: $property (function () {\n            return this.once ($platform.WebKit ? 'webkitAnimationEnd' : 'animationend') }),\n\n        onceTransitionEnd: $property (function () {\n            return this.once ($platform.WebKit ? 'webkitTransitionEnd' : 'transitionend') }),\n\n        animateWithAttribute: function (attr) {\n\n        /*  If already animating with this attribute  return previously allocated promise    */\n\n            if (this.hasAttribute (attr) && this._onceAnimationEnd) {\n                return this._onceAnimationEnd }\n\n        /*  If already animating  finalize the existing promise */\n\n            if (this._onceAnimationEnd) {\n                this._onceAnimationEnd.finalize () }\n\n        /*  Allocate new promise    */\n\n            this.setAttribute (attr, true)\n\n            this._onceAnimationEnd = this.onceAnimationEnd\n\n            return this._onceAnimationEnd.then (this.$ (function () {\n                    this.removeAttribute (attr)\n                    this.getBoundingClientRect () // forces layout recalc, otherwise new animation (if set in callback) may not start\n                    this._onceAnimationEnd = undefined })) },\n\n        animatedWithAttribute: function (attr) {\n                                    this.animateWithAttribute (attr); return this },\n\n        //transitionWithAttribute: function (attr) { this.setAttribute (attr, true)\n        //     return this.onceTransitionEnd.then ( this.removeAttribute.bind (this, attr)).delay () }\n    })\n\n\n/*  ========================================================================= */\n\n    $mixin (Element, {\n\n    /*  Selectors   */\n\n        all: Element.prototype.querySelectorAll,\n        one: Element.prototype.querySelector,\n\n\n    /*  New Safari (as seen in technology preview) defines its own Element.append\n        method, which gets into conflict with our previously-defined Node.append\n        So will explicitly overrride it.    */\n\n        append: Node.prototype.append,\n\n\n    /*  Metrics\n        ======================================================================== */\n\n        clientBBox: $property (function () { return BBox.fromLTWH (this.getBoundingClientRect ()) }),\n              bbox: $property (function () { return this.clientBBox.offset (document.bbox.leftTop) }),\n\n        setWidthHeight: function (v) {\n                            this.style.width = v.x + 'px'\n                            this.style.height = v.y + 'px'\n                            return this },\n\n        setTransform: function (x) { this.transform = x; return this },\n\n        transform: $property ({\n\n            get: function () {\n                    var components = (this.css ('transform') || '').match (/^matrix\\((.+\\))$/)\n                    if (components) {\n                        var m = components[1].split (',').map (parseFloat)\n                        return new Transform ({ a: m[0], b: m[1], c: m[2], d: m[3], e: m[4], f: m[5] }) }\n                    else {\n                        return Transform.identity } },\n\n            /*  Example value: { translate: new Vec2 (a, b),  scale: new Vec2 (x, y), rotate: 180 }\n             */\n            set: function (cfg) {\n                this.style.transform = (_.isStrictlyObject (cfg) && (\n                                            (cfg.translate ? ('translate(' + cfg.translate.x.toFixed (0) + 'px,' + cfg.translate.y.toFixed (0) + 'px) ') : '') +\n                                            (cfg.rotate ? ('rotate(' + cfg.rotate + 'rad) ') : '') +\n                                            (cfg.scale ? ('scale(' + (new Vec2 (cfg.scale).separatedWith (',')) + ')') : ''))) || '' } }),\n\n    /*  Experimental FRP stuff\n        ======================================================================== */\n\n        reads: function (stream, fn) { // DEPRECATED\n                    stream (this.$ (function (x) { x = (fn || _.identity).call (this, x)\n                        this.removeAllChildren ()\n                        this.add (x instanceof Node ? x : (x + '')) }))\n                    return this },\n\n        $toggleAttribute: function (name, value) {\n                                value (this.$ (function (value) { this.toggleAttribute (name, value) })); return this },\n\n        $add: function (nodes) { // TODO: make it default .add impl (but keep .appendChildren intact)\n\n                if (nodes instanceof Promise) {\n                    var placeholder = document.createElement ('PROMISE')\n                        this.appendChild (placeholder)\n                        nodes.then (function (nodes) {\n                            placeholder.replaceWith (nodes) }).panic }\n                else {\n                    this.add (nodes) }\n\n                return this }\n    })\n\n/*  ========================================================================= */\n\n    $mixin (HTMLInputElement, {\n\n        $value: $property (function () {\n\n                            if (!this._observableValue) {\n                                 this._observableValue = _.observable (this.value)\n                                 this._observableValue.context = this\n                                 this.on ('input', this.$ (function () {\n                                     this._observableValue (this.value) })) }\n\n                            return this._observableValue })\n\n    })\n\n/*  ========================================================================= */\n\n    $mixin (Image, {\n        \n        fetch: $static (function (url) {\n                            return new Promise (function (resolve, reject) {\n                                                _.extend (new Image (), {\n                                                                src: url,\n                                                             onload: function ()  { resolve (this) },\n                                                            onerror: function (e) { reject (e) } }) }) }) })\n\n\n/*  document.clientBBox\n    ======================================================================== */\n\n    _.defineProperties (document, {\n\n                            bbox: function () {\n                                    return this.clientBBox.offset (Vec2.xy (window.pageXOffset, window.pageYOffset)) },\n                                    \n                            clientBBox: function () {\n                                            return BBox.fromLTWH (0, 0,\n                                                            window.innerWidth  || document.documentElement.clientWidth,\n                                                            window.innerHeight || document.documentElement.clientHeight) } })\n\n/*  document.ready\n    ======================================================================== */\n\n    document.on ('DOMContentLoaded', document.ready = _.barrier ())\n\n\n/*  ------------------------------------------------------------------------ */\n\n_.tests.NodePlus = {\n\n    'tree splitting': function () {\n\n        Testosterone.defineAssertions ({\n            assertSplitAtBr: function (html, desiredResult) {   var node = N.div.html (html)\n                                                                    node.splitSubtreeBefore (node.one ('br'))\n                                                                    return _.assert (node.innerHTML, desiredResult) } })\n        $assertSplitAtBr ('<b><br>foo</b>', '<b><br>foo</b>')\n        $assertSplitAtBr ('<b>foo<br></b>', '<b>foo</b><b><br></b>')\n        $assertSplitAtBr ('<b>foo<i>bar<br>baz</i>qux</b>', '<b>foo<i>bar</i></b>' + '<b><i><br>baz</i>qux</b>') },\n\n    /*'animateWithAttribute': function () {\n\n        var style =\n\n            N.style.text (\n                '@keyframes slide-to-right {' +\n                    '0%   { transform: translate(0,0); opacity: 1; }' +\n                    '100% { transform: translate(100%,0); opacity: 0; } }' +\n\n                '[slide-to-right] { animation: slide-to-right 1s ease-in-out; }' +\n                '[slide-from-right] { animation: slide-to-right 1s ease-in-out; animation-direction: reverse; }'\n\n            ).appendTo (document.body)\n\n        var div =\n            N.div.css ({\n                position: 'fixed', left: '0px', top: '0px', width: '100px', height: '100px', background: 'red' }).appendTo (document.body)\n\n        div.animateWithAttribute ('slide-to-right').then (function () {\n            div.style.background = 'blue'\n            div.animateWithAttribute ('slide-from-right').then (function () {\n                div.style.background = 'green' }) })\n    }*/\n\n}\n\n/*  ------------------------------------------------------------------------ */\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/node+.js","module.exports = function (bullet, arg) {\n\n                    var isArray = Array.isArray (arg)\n                    \n                    var lines = isArray ? arg : arg.split ('\\n')\n                    \n                    var indent = bullet.replace (/[^\\s]/g, ' ') // replace non-whitespace with whitespace\n                        lines = lines.map (function (line, i) { return (i === 0) ? (bullet + line) : (indent + line) })\n                    \n                    return isArray ? lines : lines.join ('\\n') }\n\n\n// WEBPACK FOOTER //\n// ../string.bullet/string.bullet.js","if (typeof Reflect === 'object' && typeof Reflect.ownKeys === 'function') {\n  module.exports = Reflect.ownKeys;\n} else if (typeof Object.getOwnPropertySymbols === 'function') {\n  module.exports = function Reflect_ownKeys(o) {\n    return (\n      Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))\n    );\n  }\n} else {\n  module.exports = Object.getOwnPropertyNames;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflect.ownkeys/index.js\n// module id = 34\n// module chunks = 0","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = exports = function(edges){\n  return toposort(uniqueNodes(edges), edges)\n}\n\nexports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, [])\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.indexOf(node) >= 0) {\n      throw new Error('Cyclic dependency: '+JSON.stringify(node))\n    }\n\n    if (!~nodes.indexOf(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    // outgoing edges\n    var outgoing = edges.filter(function(edge){\n      return edge[0] === node\n    })\n    if (i = outgoing.length) {\n      var preds = predecessors.concat(node)\n      do {\n        var child = outgoing[--i][1]\n        visit(child, nodes.indexOf(child), preds)\n      } while (i)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = []\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (res.indexOf(edge[0]) < 0) res.push(edge[0])\n    if (res.indexOf(edge[1]) < 0) res.push(edge[1])\n  }\n  return res\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/toposort/index.js\n// module id = 35\n// module chunks = 0","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/underscore/underscore.js\n// module id = 36\n// module chunks = 0","const $global = (typeof window === 'undefined' ? global : window)\n\n$global.$uselessFile = 'useless.client.js'\n\n$global._ = module.exports = require ('./base/3rd/underscore-fix') // latest underscore from GitHub, fixes strict-mode issue\n\n/*  Tests stub\n */\n_.tests = {}\n_.deferTest = _.withTest = function (name, test, subj) { subj () }\n\n/*  Internal dependencies\n    ======================================================================== */\n\n    //require ('./base/3rd/unicode_hack')  // provides missing unicode regexp syntax\n    require ('./base/3rd/Base64')        // Base64 encoder/decoder\n\n    require ('./base/tier0/platform')    // platform abstraction layer\n    require ('./base/tier0/arguments')   // argument count tracking utility (to streamline metaprogramming utilities)\n    require ('./base/tier0/function')    // function-centric utilities\n    require ('./base/tier0/busybox')     // a vocabulary for functional expressions that process real stuff\n    require ('./base/tier0/type')        // type system extensions\n    require ('./base/tier0/stdlib')      // consider it as underscore 2.0\n    require ('./base/tier0/properties')  // properties 2.0\n    require ('./base/tier0/meta-tags')   // metaprogramming utility\n    require ('./base/tier0/typeMatch')   // advanced type system extensions\n\n    require ('./base/CPS')\n\n    require ('./base/infix/extensionMethods')    // bootstrap\n    require ('./base/infix/Function')            // extends Function\n    require ('./base/infix/Array')               // extends Array\n    require ('./base/infix/String')              // extends String\n\n    require ('./base/dynamic/bindable')          // for ad-hoc dependency injection in any object's method\n    require ('./base/dynamic/stream')            // a generalization of Event (multicast model for function calls)\n\n    require ('./base/OOP')\n\n    require ('./base/math')      // clumsy math utils\n    require ('./base/Parse')     // clumsy parsing utils\n    require ('./base/Sort')      // (this one is normal)\n\n\n/*  Otherwise basic utility\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n    require ('./base/concurrency')     // concurrency utility\n    require ('./base/component')       // component model\n    require ('./base/Rx')              // regular expressions helper\n\n\n/*  Experimental stuff\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n    require ('./base/Promise+')\n    require ('./base/Channel')\n\n\n/*  Networking\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n    require ('./base/http')\n\n\n/*  Browser-related code\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n    require ('./client/node+')\n    require ('./client/DOMReference')\n    require ('./client/anim')\n\n\n\n\n// WEBPACK FOOTER //\n// ./useless.client.js"],"sourceRoot":""}